<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì‹¤ì œ Position ê³„ì¸µ êµ¬ì¡° ë¶„ì„</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: #f0f2f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        h1 {
            margin: 0;
            font-size: 28px;
        }
        .analysis-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .problem-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
        .solution-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
        }
        .recommendation-box {
            background: #cce5ff;
            border-left: 4px solid #004085;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .chart-container {
            margin: 20px 0;
            padding: 20px;
            background: #fafbfc;
            border-radius: 8px;
            border: 1px solid #e1e4e8;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th {
            background: #6c757d;
            color: white;
            padding: 12px;
            text-align: left;
        }
        td {
            padding: 10px;
            border-bottom: 1px solid #dee2e6;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .empty-cell {
            color: #999;
            font-style: italic;
        }
        .highlight {
            background: #ffeb3b;
            padding: 2px 5px;
            border-radius: 3px;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ” Position 3ë‹¨ê³„ ê³„ì¸µ êµ¬ì¡° ì‹¤ì œ ë°ì´í„° ë¶„ì„</h1>
        <p style="margin: 10px 0 0 0; opacity: 0.9;">Position_1st â†’ Position_2nd â†’ Position_3rd êµ¬ì¡°ì˜ ì‹¤ì œ ì‚¬ìš© íŒ¨í„´ê³¼ ì‹œê°í™” ë°©ë²•</p>
    </div>

    <div class="analysis-section">
        <h2>ğŸ“Š ì‹¤ì œ ë°ì´í„° êµ¬ì¡° ë¶„ì„</h2>
        <p>ê·€í•˜ì˜ HR ë°ì´í„°ë¥¼ ë¶„ì„í•œ ê²°ê³¼:</p>
        
        <table>
            <thead>
                <tr>
                    <th>Position_1st (1ë‹¨ê³„)</th>
                    <th>Position_2nd (2ë‹¨ê³„)</th>
                    <th>Position_3rd (3ë‹¨ê³„)</th>
                    <th>ì¸ì›</th>
                    <th>íŒ€ ë§¤í•‘</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>ASSEMBLY INSPECTOR</strong></td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td>148ëª…</td>
                    <td>ASSEMBLY (125), REPACKING (23)</td>
                </tr>
                <tr>
                    <td><strong>BOTTOM INSPECTOR</strong></td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td>31ëª…</td>
                    <td>BOTTOM</td>
                </tr>
                <tr>
                    <td><strong>QA MANAGER</strong></td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td>1ëª…</td>
                    <td>QA</td>
                </tr>
                <tr>
                    <td><strong>STITCHING INSPECTOR</strong></td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td>86ëª…</td>
                    <td>STITCHING</td>
                </tr>
                <tr style="background: #e8f5e9;">
                    <td><strong>HWK-QIP</strong></td>
                    <td><strong>QA-AUDITOR</strong></td>
                    <td class="empty-cell">ë¹„ì–´ìˆìŒ</td>
                    <td>1ëª…</td>
                    <td>HWK QIP</td>
                </tr>
                <tr style="background: #fff9c4;">
                    <td><strong>OCPT BUYER</strong></td>
                    <td><strong>HWK</strong></td>
                    <td><strong>OCPT BUYER</strong></td>
                    <td>1ëª…</td>
                    <td>OFFICE & OCPT</td>
                </tr>
            </tbody>
        </table>
        
        <div class="problem-box">
            <h3>âš ï¸ ë°œê²¬ëœ ë¬¸ì œì </h3>
            <ol>
                <li><strong>ëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ê°€ Position_1stë§Œ ì‚¬ìš©:</strong> 464ëª… ì¤‘ 462ëª…(99.6%)ì´ Position_1stë§Œ ì±„ì›Œì ¸ ìˆìŒ</li>
                <li><strong>Position_2nd ì‚¬ìš©ë¥ :</strong> ë‹¨ 2ê°œ ì¼€ì´ìŠ¤(0.4%)ë§Œ ì‚¬ìš©</li>
                <li><strong>Position_3rd ì‚¬ìš©ë¥ :</strong> ë‹¨ 1ê°œ ì¼€ì´ìŠ¤(0.2%)ë§Œ ì‚¬ìš©</li>
                <li><strong>ë°ì´í„° ë¶ˆê· í˜•:</strong> 3ë‹¨ê³„ ê³„ì¸µ êµ¬ì¡°ê°€ ì‹¤ì œë¡œëŠ” ê±°ì˜ í™œìš©ë˜ì§€ ì•ŠìŒ</li>
            </ol>
        </div>
    </div>

    <div class="analysis-section">
        <h2>ğŸ¨ ì‹œê°í™” ë°©ë²•ë³„ ì í•©ì„± í‰ê°€</h2>
        
        <div class="chart-container">
            <h3>í˜„ì¬ ë°ì´í„° êµ¬ì¡° (99.6%ê°€ 1ë‹¨ê³„ë§Œ ì‚¬ìš©)</h3>
            <div id="current-structure"></div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>ì‹œê°í™” ë°©ë²•</th>
                    <th>í˜„ì¬ ë°ì´í„° ì í•©ë„</th>
                    <th>3ë‹¨ê³„ ë°ì´í„° ì í•©ë„</th>
                    <th>í‰ê°€</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>3ë‹¨ê³„ ì¤‘ì²© íŠ¸ë¦¬ë§µ</strong></td>
                    <td>âŒ ë¶€ì í•©</td>
                    <td>âš ï¸ ë³´í†µ</td>
                    <td>í˜„ì¬ëŠ” ê³¼ë„í•œ ë³µì¡ì„±, ë°ì´í„°ê°€ ì—†ëŠ” ë ˆë²¨ì´ ë§ìŒ</td>
                </tr>
                <tr>
                    <td><strong>Sunburst Chart</strong></td>
                    <td>âŒ ë¶€ì í•©</td>
                    <td>âœ… ì í•©</td>
                    <td>í˜„ì¬ëŠ” ì¤‘ì•™ì´ ë¹„ì–´ ë³´ì„, 3ë‹¨ê³„ ë°ì´í„°ì—ëŠ” ìµœì </td>
                </tr>
                <tr>
                    <td><strong>ë‹¨ìˆœ íŠ¸ë¦¬ë§µ</strong></td>
                    <td>âœ… ë§¤ìš° ì í•©</td>
                    <td>âŒ ë¶€ì í•©</td>
                    <td>í˜„ì¬ ë°ì´í„°ì— ìµœì , 3ë‹¨ê³„ëŠ” í‘œí˜„ ë¶ˆê°€</td>
                </tr>
                <tr>
                    <td><strong>ê·¸ë£¹í™”ëœ ë§‰ëŒ€ ì°¨íŠ¸</strong></td>
                    <td>âœ… ì í•©</td>
                    <td>âš ï¸ ë³´í†µ</td>
                    <td>ëª…í™•í•œ ë¹„êµ ê°€ëŠ¥, í•˜ì§€ë§Œ ê³µê°„ íš¨ìœ¨ì„± ë‚®ìŒ</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="analysis-section">
        <h2>ğŸ’¡ ê¶Œì¥ ì†”ë£¨ì…˜</h2>
        
        <div class="solution-box">
            <h3>âœ… í˜„ì¬ ë°ì´í„° êµ¬ì¡°ì— ìµœì í™”ëœ ì ‘ê·¼ë²•</h3>
            <ol>
                <li>
                    <strong>ë©”ì¸ ì‹œê°í™”: 2ë‹¨ê³„ íŠ¸ë¦¬ë§µ</strong>
                    <ul>
                        <li>1ë‹¨ê³„: íŒ€ë³„ ê·¸ë£¹í™” (í˜„ì¬ êµ¬í˜„ëœ ë°©ì‹)</li>
                        <li>2ë‹¨ê³„: Position_1stë³„ í‘œì‹œ</li>
                        <li>Position_2nd/3rdëŠ” íˆ´íŒì´ë‚˜ ìƒì„¸ ì •ë³´ë¡œ í‘œì‹œ</li>
                    </ul>
                </li>
                <li>
                    <strong>ë³´ì¡° ì‹œê°í™”: ìƒì„¸ í…Œì´ë¸”</strong>
                    <ul>
                        <li>Position_2nd/3rdê°€ ìˆëŠ” íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ë§Œ ë³„ë„ í‘œì‹œ</li>
                        <li>í•„í„°ë§ ê¸°ëŠ¥ìœ¼ë¡œ ê¹Šì€ ê³„ì¸µ íƒìƒ‰</li>
                    </ul>
                </li>
            </ol>
        </div>

        <div class="solution-box">
            <h3>ğŸ”® ë¯¸ë˜ ëŒ€ë¹„ (3ë‹¨ê³„ ë°ì´í„°ê°€ ì¶©ì‹¤í•´ì§ˆ ê²½ìš°)</h3>
            <ol>
                <li>
                    <strong>ì ì‘í˜• ì‹œê°í™” ì‹œìŠ¤í…œ êµ¬ì¶•</strong>
                    <ul>
                        <li>ë°ì´í„° ê¹Šì´ë¥¼ ìë™ ê°ì§€</li>
                        <li>1ë‹¨ê³„ë§Œ: ë‹¨ìˆœ íŠ¸ë¦¬ë§µ</li>
                        <li>2ë‹¨ê³„: ì¤‘ì²© íŠ¸ë¦¬ë§µ</li>
                        <li>3ë‹¨ê³„: Sunburst ë˜ëŠ” Icicle Chart</li>
                    </ul>
                </li>
                <li>
                    <strong>í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²•</strong>
                    <ul>
                        <li>Overview: íŠ¸ë¦¬ë§µ (Position_1st ë ˆë²¨)</li>
                        <li>Detail on Demand: í´ë¦­ ì‹œ Sunburstë¡œ ì„¸ë¶€ ê³„ì¸µ í‘œì‹œ</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>

    <div class="recommendation-box">
        <h2>ğŸ¯ ìµœì¢… ê¶Œì¥ì‚¬í•­</h2>
        <p style="font-size: 18px; margin-bottom: 15px;">
            <strong>í˜„ì¬ ë°ì´í„° êµ¬ì¡°ìƒ 3ë‹¨ê³„ ì¤‘ì²© íŠ¸ë¦¬ë§µì€ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</strong>
        </p>
        <h3>ì´ìœ :</h3>
        <ol>
            <li>99.6%ì˜ ë°ì´í„°ê°€ Position_1stë§Œ ì‚¬ìš©í•˜ì—¬ ë¹ˆ ê³µê°„ì´ ë§ì•„ì§</li>
            <li>ë¶ˆí•„ìš”í•œ ì‹œê°ì  ë³µì¡ì„± ì¦ê°€</li>
            <li>ì‚¬ìš©ì í˜¼ë€ ê°€ëŠ¥ì„±</li>
        </ol>
        
        <h3>ëŒ€ì‹  ì¶”ì²œí•˜ëŠ” ë°©ë²•:</h3>
        <div style="background: white; padding: 15px; border-radius: 5px; margin-top: 15px;">
            <p><strong>1. í˜„ì¬ êµ¬í˜„ëœ 2ë‹¨ê³„ íŠ¸ë¦¬ë§µ ìœ ì§€</strong></p>
            <p style="margin-left: 20px;">íŒ€ â†’ Position_1st êµ¬ì¡°ê°€ í˜„ì¬ ë°ì´í„°ì— ê°€ì¥ ì í•©</p>
            
            <p><strong>2. Position_2nd/3rd ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬:</strong></p>
            <ul style="margin-left: 20px;">
                <li>ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ íˆ´íŒìœ¼ë¡œ í‘œì‹œ</li>
                <li>í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ íŒ¨ë„ì— í‘œì‹œ</li>
                <li>ë³„ë„ì˜ "ìƒì„¸ Position êµ¬ì¡°" í…Œì´ë¸” ì¶”ê°€</li>
            </ul>
            
            <p><strong>3. ë°ì´í„° í’ˆì§ˆ ê°œì„  ëŒ€ì‹œë³´ë“œ ì¶”ê°€:</strong></p>
            <ul style="margin-left: 20px;">
                <li>Position_2nd/3rd ì…ë ¥ë¥  ëª¨ë‹ˆí„°ë§</li>
                <li>ë°ì´í„° ì™„ì„±ë„ê°€ ë†’ì•„ì§€ë©´ ìë™ìœ¼ë¡œ 3ë‹¨ê³„ ì‹œê°í™” í™œì„±í™”</li>
            </ul>
        </div>
    </div>

    <script>
        // í˜„ì¬ ë°ì´í„° êµ¬ì¡° ì‹œê°í™”
        const data = [{
            type: "sunburst",
            labels: ["ì „ì²´", "Position_1stë§Œ", "Position_1st+2nd", "Position_1st+2nd+3rd", 
                     "ASSEMBLY INSPECTOR", "BOTTOM INSPECTOR", "STITCHING INSPECTOR", "ê¸°íƒ€",
                     "HWK-QIP + QA-AUDITOR", "OCPT BUYER + HWK + OCPT BUYER"],
            parents: ["", "ì „ì²´", "ì „ì²´", "ì „ì²´",
                      "Position_1stë§Œ", "Position_1stë§Œ", "Position_1stë§Œ", "Position_1stë§Œ",
                      "Position_1st+2nd", "Position_1st+2nd+3rd"],
            values: [464, 462, 1, 1, 148, 31, 86, 197, 1, 1],
            marker: {
                colors: ['#6c757d', '#dc3545', '#ffc107', '#28a745',
                         '#e57373', '#e57373', '#e57373', '#e57373',
                         '#ffeb3b', '#4caf50']
            },
            textinfo: "label+value+percent parent",
            hovertemplate: '%{label}<br>ì¸ì›: %{value}ëª…<br>ë¹„ìœ¨: %{percentParent}<extra></extra>'
        }];
        
        const layout = {
            title: "Position ê³„ì¸µ ì‚¬ìš© í˜„í™©",
            width: 600,
            height: 500,
            margin: {t: 50, l: 0, r: 0, b: 0}
        };
        
        Plotly.newPlot('current-structure', data, layout);
    </script>
</body>
</html>