<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìµœì¢… ê²€ì¦ - Readonly ë¬¸ì œ í•´ê²°</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .verification-item {
            background: #2a2a2a;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #4CAF50;
        }
        .error {
            border-left-color: #f44336;
        }
        .warning {
            border-left-color: #ff9800;
        }
        pre {
            background: #000;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        iframe {
            width: 100%;
            height: 800px;
            border: 2px solid #444;
            border-radius: 8px;
            background: white;
        }
    </style>
</head>
<body>
    <h1>ğŸ” íŠ¸ë¦¬ë§µ Readonly ë¬¸ì œ ìµœì¢… ê²€ì¦</h1>
    
    <div class="verification-item">
        <h2>ğŸ“ ìˆ˜ì • ì‚¬í•­ ìš”ì•½</h2>
        <pre>
1. mutableTeamData = JSON.parse(JSON.stringify(teamData)) âœ…
   - ë©”ì¸ í•¨ìˆ˜ì—ì„œ teamDataë¥¼ deep copy

2. processedDataì— x, y, width, height ì´ˆê¸°í™” âœ…
   - createTreemap ë‚´ë¶€ì—ì„œ ì†ì„± ì‚¬ì „ ìƒì„±

3. fullyMutableData = JSON.parse(JSON.stringify(processedData)) âœ… NEW!
   - squarify í˜¸ì¶œ ì§ì „ì— í•œ ë²ˆ ë” deep copy
   - ì´ê²ƒì´ í•µì‹¬ í•´ê²°ì±…!
        </pre>
    </div>
    
    <div class="verification-item">
        <h2>ğŸ”§ ë°ì´í„° ì²˜ë¦¬ íë¦„</h2>
        <pre>
teamData (ì›ë³¸ ë°ì´í„°)
    â†“ JSON.parse(JSON.stringify())
mutableTeamData (1ì°¨ deep copy)
    â†“ createTreemap í•¨ìˆ˜ë¡œ ì „ë‹¬
processedData (map()ìœ¼ë¡œ ìƒˆ ê°ì²´ ìƒì„±, ì†ì„± ì´ˆê¸°í™”)
    â†“ JSON.parse(JSON.stringify()) â† í•µì‹¬!
fullyMutableData (ì™„ì „í•œ mutable ë°ì´í„°)
    â†“ squarify í•¨ìˆ˜ë¡œ ì „ë‹¬
ë Œë”ë§ ì„±ê³µ!
        </pre>
    </div>
    
    <div class="verification-item">
        <h2>âœ… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
        <div id="checklist"></div>
    </div>
    
    <div class="verification-item">
        <h2>ğŸ“Š ëŒ€ì‹œë³´ë“œ</h2>
        <iframe src="output_files/management_dashboard_2025_08.html" id="dashboard-frame"></iframe>
    </div>
    
    <script>
        window.addEventListener('load', function() {
            const checklist = document.getElementById('checklist');
            const iframe = document.getElementById('dashboard-frame');
            
            const checks = [];
            
            iframe.onload = function() {
                try {
                    const doc = iframe.contentDocument;
                    const content = doc.documentElement.innerHTML;
                    
                    // ì²´í¬ í•­ëª©ë“¤
                    checks.push({
                        name: 'JSON.parse(JSON.stringify(teamData)) ì¡´ì¬',
                        passed: content.includes('JSON.parse(JSON.stringify(teamData))')
                    });
                    
                    checks.push({
                        name: 'fullyMutableData ìƒì„± ì½”ë“œ ì¡´ì¬',
                        passed: content.includes('const fullyMutableData = JSON.parse(JSON.stringify(processedData))')
                    });
                    
                    checks.push({
                        name: 'squarify(fullyMutableData) í˜¸ì¶œ',
                        passed: content.includes('squarify(fullyMutableData')
                    });
                    
                    checks.push({
                        name: 'fullyMutableData.forEach ì‚¬ìš©',
                        passed: content.includes('fullyMutableData.forEach')
                    });
                    
                    checks.push({
                        name: 'ì†ì„± ì´ˆê¸°í™” (x: 0, y: 0)',
                        passed: content.includes('x: 0') && content.includes('y: 0')
                    });
                    
                    checks.push({
                        name: 'íŠ¸ë¦¬ë§µ ì»¨í…Œì´ë„ˆ ì¡´ì¬',
                        passed: doc.querySelectorAll('[id^="treemap-"]').length > 0
                    });
                    
                    // ê²°ê³¼ í‘œì‹œ
                    let html = '<ul style="list-style: none; padding: 0;">';
                    checks.forEach(check => {
                        const icon = check.passed ? 'âœ…' : 'âŒ';
                        const color = check.passed ? '#4CAF50' : '#f44336';
                        html += `<li style="margin: 8px 0; color: ${color};">${icon} ${check.name}</li>`;
                    });
                    html += '</ul>';
                    
                    const allPassed = checks.every(c => c.passed);
                    if (allPassed) {
                        html += '<h3 style="color: #4CAF50;">âœ… ëª¨ë“  ìˆ˜ì •ì‚¬í•­ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!</h3>';
                        html += '<p>ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì˜¤ë¥˜ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>';
                    } else {
                        html += '<h3 style="color: #f44336;">âŒ ì¼ë¶€ ìˆ˜ì •ì‚¬í•­ì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.</h3>';
                    }
                    
                    checklist.innerHTML = html;
                    
                } catch (e) {
                    checklist.innerHTML = '<p style="color: #ff9800;">ê²€ì¦ ì¤‘ ì˜¤ë¥˜: ' + e.message + '</p>';
                }
            };
        });
    </script>
</body>
</html>