# 조건 7 올바른 구현 방안

## 조건 7 정의
- **조건명**: "팀/구역 AQL: 3개월 연속 실패 없음"
- **의미**: 팀 또는 구역 단위로 3개월 연속 AQL 실패가 없어야 함

## 적용 대상
- LINE LEADER
- AUDIT & TRAINING

## 구현 방법

### 1. 팀 구조 데이터 필요
```
input_files/team_structure.csv
- Employee No: 직원 번호
- Team Leader: 팀 리더 직원 번호
- Team Name: 팀/라인 이름
```

### 2. 팀별 3개월 연속 실패 체크
```python
def check_team_consecutive_failures(team_id):
    """팀의 3개월 연속 실패 여부 확인"""
    team_members = get_team_members(team_id)
    
    for month in ['JUNE', 'JULY', 'AUGUST']:
        # 해당 월에 팀 멤버 중 누군가 실패했는지 확인
        team_failed = any(
            member_failed_in_month(member, month) 
            for member in team_members
        )
        
        if not team_failed:
            # 한 달이라도 실패가 없으면 조건 충족
            return True
    
    # 3개월 모두 실패가 있으면 조건 미충족
    return False
```

### 3. 현재 잘못된 구현
```python
# 현재 (잘못됨)
team_reject_rate = float(emp_data.get('team_reject_rate', 0))
is_met = team_reject_rate < 3.0

# 올바른 구현
team_consecutive_fail = emp_data.get('team_consecutive_fail', 'NO')
is_met = team_consecutive_fail != 'YES'
```

## 데이터 수집 필요 사항
1. 팀/라인 조직도 (누가 어느 팀에 속하는지)
2. 팀별 월간 AQL 실패 여부 (팀 단위 집계)
3. 3개월간 연속성 체크 로직

## 조건 8과의 차이
- **조건 7**: 팀의 3개월 연속 실패 여부 (시간적 연속성)
- **조건 8**: Building의 reject 비율 (공간적 비율)