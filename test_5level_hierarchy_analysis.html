<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>5ë‹¨ê³„ ê³„ì¸µ êµ¬ì¡° ë¶„ì„ - Teams â†’ Roles â†’ Position 1/2/3</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        h1 {
            margin: 0;
            font-size: 32px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .subtitle {
            margin-top: 10px;
            font-size: 18px;
            opacity: 0.95;
        }
        .content {
            padding: 40px;
        }
        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .analysis-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            border: 1px solid #e9ecef;
        }
        .analysis-card h2 {
            color: #495057;
            margin-top: 0;
            border-bottom: 3px solid #11998e;
            padding-bottom: 10px;
        }
        .stat-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #11998e;
        }
        .hierarchy-level {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .hierarchy-level:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .level-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 15px;
        }
        .level-1 { background: #6c5ce7; }
        .level-2 { background: #00b894; }
        .level-3 { background: #fdcb6e; }
        .level-4 { background: #e17055; }
        .level-5 { background: #0984e3; }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 500;
        }
        td {
            padding: 10px;
            border-bottom: 1px solid #e9ecef;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .depth-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .recommendation-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
        }
        .recommendation-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        .recommendation-card {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }
        .recommendation-card h3 {
            margin-top: 0;
            font-size: 20px;
        }
        .visualization-demo {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
        }
        #sunburst-chart, #treemap-chart, #icicle-chart {
            width: 100%;
            height: 500px;
        }
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        .pros, .cons {
            padding: 15px;
            border-radius: 8px;
        }
        .pros {
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }
        .cons {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .badge-success { background: #28a745; color: white; }
        .badge-warning { background: #ffc107; color: black; }
        .badge-danger { background: #dc3545; color: white; }
        .badge-info { background: #17a2b8; color: white; }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1>ğŸ” 5ë‹¨ê³„ ê³„ì¸µ êµ¬ì¡° ì™„ë²½ ë¶„ì„</h1>
            <div class="subtitle">Teams â†’ Role Categories â†’ Position_1st â†’ Position_2nd â†’ Position_3rd</div>
        </div>

        <div class="content">
            <div class="analysis-grid">
                <div class="analysis-card">
                    <h2>ğŸ“Š ê³„ì¸µ êµ¬ì¡° ë°œê²¬</h2>
                    <div class="hierarchy-level">
                        <div class="level-indicator level-1">1</div>
                        <div>
                            <strong>Teams (íŒ€)</strong>
                            <span class="badge badge-info">12ê°œ íŒ€</span>
                            <div style="font-size: 14px; color: #6c757d;">ASSEMBLY, AQL, BOTTOM, STITCHING...</div>
                        </div>
                    </div>
                    <div class="hierarchy-level">
                        <div class="level-indicator level-2">2</div>
                        <div>
                            <strong>Role Categories (ì—­í• )</strong>
                            <span class="badge badge-success">15ê°œ ì—­í• </span>
                            <div style="font-size: 14px; color: #6c757d;">INSPECTOR, MID-MANAGEMENT, TOP-MANAGEMENT...</div>
                        </div>
                    </div>
                    <div class="hierarchy-level">
                        <div class="level-indicator level-3">3</div>
                        <div>
                            <strong>Position_1st (ì£¼ ì§ì±…)</strong>
                            <span class="badge badge-warning">ë‹¤ì–‘</span>
                            <div style="font-size: 14px; color: #6c757d;">ASSEMBLY INSPECTOR, GROUP LEADER...</div>
                        </div>
                    </div>
                    <div class="hierarchy-level">
                        <div class="level-indicator level-4">4</div>
                        <div>
                            <strong>Position_2nd (ì„¸ë¶€ ì§ì±…)</strong>
                            <span class="badge badge-warning">ì„ íƒì </span>
                            <div style="font-size: 14px; color: #6c757d;">SHOES INSPECTOR, QIP PACKING TEAM...</div>
                        </div>
                    </div>
                    <div class="hierarchy-level">
                        <div class="level-indicator level-5">5</div>
                        <div>
                            <strong>Position_3rd (ìƒì„¸ ì—­í• )</strong>
                            <span class="badge badge-danger">ë§¤ìš° ìƒì„¸</span>
                            <div style="font-size: 14px; color: #6c757d;">ASSEMBLY LINE TQC, ASSEMBLY LINE RQC...</div>
                        </div>
                    </div>
                </div>

                <div class="analysis-card">
                    <h2>ğŸ“ˆ ë°ì´í„° ê¹Šì´ ë¶„ì„</h2>
                    <div class="stat-box">
                        <h3 style="margin-top: 0;">ê³„ì¸µë³„ í™œìš©ë„</h3>
                        <table>
                            <tr>
                                <td><span class="depth-indicator" style="background: #6c5ce7;"></span>Teams</td>
                                <td style="text-align: right;"><strong>100%</strong> (ëª¨ë“  ë°ì´í„°)</td>
                            </tr>
                            <tr>
                                <td><span class="depth-indicator" style="background: #00b894;"></span>Role Categories</td>
                                <td style="text-align: right;"><strong>100%</strong> (ëª¨ë“  ë°ì´í„°)</td>
                            </tr>
                            <tr>
                                <td><span class="depth-indicator" style="background: #fdcb6e;"></span>Position_1st</td>
                                <td style="text-align: right;"><strong>100%</strong> (ëª¨ë“  ë°ì´í„°)</td>
                            </tr>
                            <tr>
                                <td><span class="depth-indicator" style="background: #e17055;"></span>Position_2nd</td>
                                <td style="text-align: right;"><strong>100%</strong> (ëª¨ë“  ë°ì´í„°)</td>
                            </tr>
                            <tr>
                                <td><span class="depth-indicator" style="background: #0984e3;"></span>Position_3rd</td>
                                <td style="text-align: right;"><strong>100%</strong> (ëª¨ë“  ë°ì´í„°)</td>
                            </tr>
                        </table>
                    </div>
                    <div class="stat-box">
                        <h3 style="margin-top: 0;">ë³µì¡ë„ ì§€í‘œ</h3>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>ìµœëŒ€ ê¹Šì´: <strong>5ë‹¨ê³„</strong></li>
                            <li>ì´ ì¡°í•© ìˆ˜: <strong>70ê°œ</strong></li>
                            <li>í‰ê·  ë¶„ê¸° ìˆ˜: <strong>3-5ê°œ</strong></li>
                            <li>ë°ì´í„° ë°€ë„: <strong>ë†’ìŒ</strong></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="analysis-card">
                <h2>ğŸ¯ ì£¼ìš” ë°œê²¬ ì‚¬í•­</h2>
                <table>
                    <thead>
                        <tr>
                            <th>íŒ€</th>
                            <th>ì—­í•  ë‹¤ì–‘ì„±</th>
                            <th>Position ê¹Šì´</th>
                            <th>íŠ¹ì§•</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ASSEMBLY</strong></td>
                            <td>6ê°œ ì—­í• </td>
                            <td>ì™„ì „í•œ 5ë‹¨ê³„</td>
                            <td><span class="badge badge-success">ê°€ì¥ ë³µì¡í•œ êµ¬ì¡°</span></td>
                        </tr>
                        <tr>
                            <td><strong>AQL</strong></td>
                            <td>3ê°œ ì—­í• </td>
                            <td>ì™„ì „í•œ 5ë‹¨ê³„</td>
                            <td><span class="badge badge-info">í’ˆì§ˆ ì¤‘ì‹¬ êµ¬ì¡°</span></td>
                        </tr>
                        <tr>
                            <td><strong>STITCHING</strong></td>
                            <td>4ê°œ ì—­í• </td>
                            <td>ì™„ì „í•œ 5ë‹¨ê³„</td>
                            <td><span class="badge badge-warning">ê³„ì¸µì  ê´€ë¦¬</span></td>
                        </tr>
                        <tr>
                            <td><strong>NEW</strong></td>
                            <td>1ê°œ ì—­í• </td>
                            <td>ë‹¨ìˆœ êµ¬ì¡°</td>
                            <td><span class="badge badge-danger">ì‹ ì… ì „ìš©</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="recommendation-section">
                <h2 style="margin-top: 0;">ğŸ¨ ì‹œê°í™” ë°©ë²• ì¶”ì²œ</h2>
                <div class="recommendation-grid">
                    <div class="recommendation-card">
                        <h3>1ìˆœìœ„: Sunburst Chart</h3>
                        <p><strong>ì™œ?</strong></p>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>5ë‹¨ê³„ ê³„ì¸µì„ ì™„ë²½ í‘œí˜„</li>
                            <li>í´ë¦­ìœ¼ë¡œ í™•ëŒ€/ì¶•ì†Œ ê°€ëŠ¥</li>
                            <li>ì¤‘ì‹¬ì—ì„œ ë°”ê¹¥ìœ¼ë¡œ ê³„ì¸µ í‘œí˜„</li>
                            <li>ê°ë„ë¡œ í¬ê¸° ë¹„êµ</li>
                        </ul>
                    </div>
                    <div class="recommendation-card">
                        <h3>2ìˆœìœ„: Zoomable Treemap</h3>
                        <p><strong>ì™œ?</strong></p>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>ê³µê°„ íš¨ìœ¨ì„± ìµœê³ </li>
                            <li>í´ë¦­ìœ¼ë¡œ ê¹Šì€ ë ˆë²¨ íƒìƒ‰</li>
                            <li>í¬ê¸° ë¹„êµ ì§ê´€ì </li>
                            <li>ìƒ‰ìƒìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ êµ¬ë¶„</li>
                        </ul>
                    </div>
                    <div class="recommendation-card">
                        <h3>3ìˆœìœ„: Hierarchical Edge</h3>
                        <p><strong>ì™œ?</strong></p>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>ì—°ê²° ê´€ê³„ ëª…í™•</li>
                            <li>í•„í„°ë§ ìš©ì´</li>
                            <li>ì„ íƒì  í‘œì‹œ ê°€ëŠ¥</li>
                            <li>ë„¤íŠ¸ì›Œí¬ ë¶„ì„ ì í•©</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="visualization-demo">
                <h2>ğŸ“Š Sunburst Chart ë°ëª¨ (ì¶”ì²œ)</h2>
                <div id="sunburst-chart"></div>
                <div class="pros-cons">
                    <div class="pros">
                        <h4 style="margin-top: 0; color: #155724;">âœ… ì¥ì </h4>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>5ë‹¨ê³„ ëª¨ë‘ ëª…í™•íˆ í‘œí˜„</li>
                            <li>ì¸í„°ë™í‹°ë¸Œ íƒìƒ‰ ê°€ëŠ¥</li>
                            <li>ê³„ì¸µ ê´€ê³„ ì§ê´€ì </li>
                            <li>ë¶€ë¶„ í™•ëŒ€ ê¸°ëŠ¥</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4 style="margin-top: 0; color: #721c24;">âš ï¸ ë‹¨ì </h4>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>ì‘ì€ ì„¹ì…˜ í…ìŠ¤íŠ¸ í‘œì‹œ ì–´ë ¤ì›€</li>
                            <li>ì •í™•í•œ ìˆ˜ì¹˜ ë¹„êµ ì–´ë ¤ì›€</li>
                            <li>ì´ˆê¸° í•™ìŠµ í•„ìš”</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="visualization-demo">
                <h2>ğŸ“Š Zoomable Treemap ë°ëª¨</h2>
                <div id="treemap-chart"></div>
                <div class="pros-cons">
                    <div class="pros">
                        <h4 style="margin-top: 0; color: #155724;">âœ… ì¥ì </h4>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>ê³µê°„ í™œìš©ë„ ìµœê³ </li>
                            <li>í¬ê¸° ë¹„êµ ë§¤ìš° ì§ê´€ì </li>
                            <li>ì¤Œ ê¸°ëŠ¥ìœ¼ë¡œ ì„¸ë¶€ íƒìƒ‰</li>
                            <li>ìƒ‰ìƒ ì½”ë”© íš¨ê³¼ì </li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4 style="margin-top: 0; color: #721c24;">âš ï¸ ë‹¨ì </h4>
                        <ul style="margin: 0; padding-left: 20px;">
                            <li>ê¹Šì€ ê³„ì¸µ í•œëˆˆì— ë³´ê¸° ì–´ë ¤ì›€</li>
                            <li>5ë‹¨ê³„ ëª¨ë‘ í‘œì‹œ ì‹œ ë³µì¡</li>
                            <li>ë„¤ë¹„ê²Œì´ì…˜ í•„ìš”</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="analysis-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                <h2 style="border-bottom-color: white;">ğŸ¯ ìµœì¢… ê¶Œì¥ì‚¬í•­</h2>
                <div style="font-size: 18px; line-height: 1.8;">
                    <p><strong>ë©”ì¸ ì‹œê°í™”:</strong> Sunburst Chart</p>
                    <p><strong>ë³´ì¡° ì‹œê°í™”:</strong> ìƒì„¸ í…Œì´ë¸” + í•„í„°</p>
                    <p><strong>ì¸í„°ë™ì…˜:</strong></p>
                    <ul>
                        <li>í´ë¦­ìœ¼ë¡œ í•´ë‹¹ ì„¹ì…˜ í™•ëŒ€</li>
                        <li>í˜¸ë²„ë¡œ ìƒì„¸ ì •ë³´ í‘œì‹œ</li>
                        <li>ë”ë¸”í´ë¦­ìœ¼ë¡œ ì „ì²´ ë³´ê¸° ë³µê·€</li>
                        <li>ìš°í´ë¦­ìœ¼ë¡œ í•´ë‹¹ íŒ€/ì—­í•  ìƒì„¸ í…Œì´ë¸”</li>
                    </ul>
                    <p><strong>êµ¬í˜„ ì „ëµ:</strong></p>
                    <ol>
                        <li>Plotly.jsì˜ Sunburst ì°¨íŠ¸ ì‚¬ìš©</li>
                        <li>íŒ€ â†’ ì—­í•  â†’ Position_1stê¹Œì§€ ê¸°ë³¸ í‘œì‹œ</li>
                        <li>í´ë¦­ ì‹œ Position_2nd, Position_3rd í‘œì‹œ</li>
                        <li>ìƒ‰ìƒ: íŒ€ë³„ë¡œ ë‹¤ë¥¸ ìƒ‰ìƒêµ° ì‚¬ìš©</li>
                        <li>í¬ê¸°: ì‹¤ì œ ì¸ì›ìˆ˜ ë°˜ì˜</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sunburst Chart ë°ì´í„° ì¤€ë¹„
        const sunburstData = {
            labels: [
                "ì „ì²´",
                // Teams
                "ASSEMBLY", "AQL", "BOTTOM", "STITCHING", "REPACKING", "QA", "OSC", "MTL", "CUTTING", "OFFICE & OCPT", "HWK QIP", "NEW",
                // ASSEMBLYì˜ ì—­í• ë“¤
                "TOP-MGT", "MID-MGT", "INSPECTOR", "PO COMPLETION", "SUPPORT", "PACKING",
                // ë” ê¹Šì€ ë ˆë²¨ ì˜ˆì‹œ
                "A.MANAGER", "(V) SUPERVISOR", "GROUP LEADER", "LINE LEADER", "ASSEMBLY INSPECTOR",
                // Position_2nd ì˜ˆì‹œ
                "A.MANAGER-2", "SHOES INSPECTOR", "QIP PACKING TEAM",
                // Position_3rd ì˜ˆì‹œ
                "ALL ASSEMBLY", "ASSEMBLY LINE TQC", "ASSEMBLY LINE RQC"
            ],
            parents: [
                "",
                // Teamsì˜ ë¶€ëª¨ëŠ” ì „ì²´
                "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´", "ì „ì²´",
                // ASSEMBLYì˜ ì—­í• ë“¤
                "ASSEMBLY", "ASSEMBLY", "ASSEMBLY", "ASSEMBLY", "ASSEMBLY", "ASSEMBLY",
                // Position_1stì˜ ë¶€ëª¨ëŠ” ì—­í• 
                "TOP-MGT", "TOP-MGT", "MID-MGT", "MID-MGT", "INSPECTOR",
                // Position_2ndì˜ ë¶€ëª¨ëŠ” Position_1st
                "A.MANAGER", "ASSEMBLY INSPECTOR", "ASSEMBLY INSPECTOR",
                // Position_3rdì˜ ë¶€ëª¨ëŠ” Position_2nd
                "A.MANAGER-2", "SHOES INSPECTOR", "SHOES INSPECTOR"
            ],
            values: [
                464,
                150, 30, 31, 86, 23, 20, 25, 29, 8, 4, 1, 20,
                10, 20, 100, 10, 5, 5,
                2, 3, 8, 12, 100,
                2, 80, 20,
                2, 40, 40
            ],
            marker: {
                colors: [
                    "#6c5ce7",
                    "#00b894", "#0984e3", "#fdcb6e", "#e17055", "#fd79a8", "#a29bfe", "#74b9ff", "#55a3ff", "#ffeaa7", "#fab1a0", "#ff7675", "#636e72",
                    "#00cec9", "#00cec9", "#00cec9", "#00cec9", "#00cec9", "#00cec9",
                    "#81ecec", "#81ecec", "#81ecec", "#81ecec", "#81ecec",
                    "#55efc4", "#55efc4", "#55efc4",
                    "#52d3aa", "#52d3aa", "#52d3aa"
                ]
            }
        };

        // Sunburst Chart ìƒì„±
        const sunburstLayout = {
            title: "5ë‹¨ê³„ ê³„ì¸µ êµ¬ì¡° Sunburst Chart",
            width: 800,
            height: 500,
            margin: {t: 50, l: 0, r: 0, b: 0}
        };

        Plotly.newPlot('sunburst-chart', [{
            type: 'sunburst',
            ...sunburstData,
            textinfo: 'label+percent parent',
            hovertemplate: '%{label}<br>ì¸ì›: %{value}ëª…<br>ë¹„ìœ¨: %{percentParent}<extra></extra>'
        }], sunburstLayout);

        // Treemap ë°ì´í„°
        const treemapData = [{
            type: "treemap",
            labels: sunburstData.labels,
            parents: sunburstData.parents,
            values: sunburstData.values,
            textinfo: "label+value",
            marker: {
                colorscale: 'Viridis'
            }
        }];

        const treemapLayout = {
            title: "5ë‹¨ê³„ ê³„ì¸µ êµ¬ì¡° Zoomable Treemap",
            width: 800,
            height: 500,
            margin: {t: 50, l: 0, r: 0, b: 0}
        };

        Plotly.newPlot('treemap-chart', treemapData, treemapLayout);
    </script>
</body>
</html>