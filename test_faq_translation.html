<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FAQ Translation Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-container { max-width: 1000px; margin: 0 auto; }
        .language-buttons { margin-bottom: 20px; }
        button { padding: 10px 20px; margin: 5px; font-size: 16px; cursor: pointer; }
        button.active { background-color: #007bff; color: white; }
        .test-section { border: 2px solid #ddd; padding: 20px; margin-bottom: 20px; border-radius: 8px; }
        h3 { color: #007bff; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>FAQ Translation Structure Test</h1>
        
        <div class="language-buttons">
            <button id="btnKo" class="active" onclick="testTranslation('ko')">í•œêµ­ì–´</button>
            <button id="btnEn" onclick="testTranslation('en')">English</button>
            <button id="btnVi" onclick="testTranslation('vi')">Tiáº¿ng Viá»‡t</button>
        </div>
        
        <div class="status" id="status"></div>
        
        <div class="test-section">
            <h3>Translation Path Test Results:</h3>
            <div id="testResults"></div>
        </div>
        
        <div class="test-section">
            <h3>Sample Translation Output:</h3>
            <div id="sampleOutput"></div>
        </div>
    </div>
    
    <script>
        // Load the actual translations from the JSON file
        fetch('/Users/ksmoon/Downloads/ëŒ€ì‹œë³´ë“œ ì¸ì„¼í‹°ë¸Œ í…ŒìŠ¤íŠ¸8.3_êµ¬ê¸€ ì—°ë™ ì™„ë£Œ_by Macbook pro_ì¡°ê±´ ë§¤íŠ¸ë¦­ìŠ¤ JSON íŒŒì¼ ë„ì…/config_files/dashboard_translations.json')
            .then(response => response.json())
            .then(translations => {
                window.translations = translations;
                console.log('Translations loaded:', translations);
                testTranslation('ko');
            })
            .catch(error => {
                console.error('Error loading translations:', error);
                document.getElementById('status').className = 'status error';
                document.getElementById('status').textContent = 'Error loading translations file';
            });
        
        function testTranslation(lang) {
            // Update button states
            document.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn' + lang.charAt(0).toUpperCase() + lang.slice(1)).classList.add('active');
            
            const statusDiv = document.getElementById('status');
            const resultsDiv = document.getElementById('testResults');
            const sampleDiv = document.getElementById('sampleOutput');
            
            // Test if incentive.faq structure exists
            const hasIncentive = translations.hasOwnProperty('incentive');
            const hasFaq = hasIncentive && translations.incentive.hasOwnProperty('faq');
            
            let html = '<ul>';
            html += `<li>translations.incentive exists: <strong>${hasIncentive ? 'âœ… YES' : 'âŒ NO'}</strong></li>`;
            html += `<li>translations.incentive.faq exists: <strong>${hasFaq ? 'âœ… YES' : 'âŒ NO'}</strong></li>`;
            
            if (hasFaq) {
                // Test specific translation paths
                const testPaths = [
                    'calculationExampleTitle',
                    'case1Title',
                    'employee',
                    'previousMonth',
                    'conditionEvaluation',
                    'attendanceRateMet',
                    'unauthorizedAbsenceMet',
                    'result'
                ];
                
                testPaths.forEach(path => {
                    const exists = translations.incentive.faq.hasOwnProperty(path);
                    const hasLang = exists && translations.incentive.faq[path].hasOwnProperty(lang);
                    html += `<li>translations.incentive.faq.${path}[${lang}]: `;
                    if (hasLang) {
                        html += `<strong>âœ… "${translations.incentive.faq[path][lang]}"</strong>`;
                    } else {
                        html += `<strong>âŒ NOT FOUND</strong>`;
                    }
                    html += '</li>';
                });
                
                statusDiv.className = 'status success';
                statusDiv.textContent = `âœ… Translation structure is correct! Testing language: ${lang}`;
                
                // Show sample output
                let sampleHtml = '<h4>ì‹¤ì œ ê³„ì‚° ì˜ˆì‹œ Section (Good to Know):</h4>';
                sampleHtml += `<p><strong>${translations.incentive.faq.calculationExampleTitle?.[lang] || 'ğŸ“ ì‹¤ì œ ê³„ì‚° ì˜ˆì‹œ'}</strong></p>`;
                sampleHtml += `<p>${translations.incentive.faq.case1Title?.[lang] || 'ì˜ˆì‹œ 1: TYPE-1 ASSEMBLY INSPECTOR (10ê°œì›” ì—°ì† ê·¼ë¬´)'}</p>`;
                sampleHtml += `<p>${translations.incentive.faq.employee?.[lang] || 'ì§ì›:'} BÃ™I THá»Š KIá»€U LY (619060201)</p>`;
                sampleHtml += `<p>${translations.incentive.faq.previousMonth?.[lang] || 'ì „ì›” ìƒíƒœ:'} 9${translations.incentive.faq.consecutiveMonthsWorked?.[lang] || 'ê°œì›” ì—°ì† â†’'} 750,000 ${translations.incentive.faq.incentiveReceived?.[lang] || 'VND ìˆ˜ë ¹'}</p>`;
                sampleHtml += `<p>${translations.incentive.faq.conditionEvaluation?.[lang] || 'ë‹¹ì›” ì¡°ê±´ ì¶©ì¡±:'}</p>`;
                sampleHtml += `<ul>`;
                sampleHtml += `<li>âœ… ${translations.incentive.faq.attendanceRateMet?.[lang] || 'ì¶œê·¼ìœ¨:'} 92% (â‰¥88%)</li>`;
                sampleHtml += `<li>âœ… ${translations.incentive.faq.unauthorizedAbsenceMet?.[lang] || 'ë¬´ë‹¨ê²°ê·¼:'} 0${translations.incentive.faq.days?.[lang] || 'ì¼'} (â‰¤2${translations.incentive.faq.days?.[lang] || 'ì¼'})</li>`;
                sampleHtml += `</ul>`;
                sampleHtml += `<p>${translations.incentive.faq.result?.[lang] || 'ê²°ê³¼:'} ${translations.incentive.faq.allConditionsMet?.[lang] || 'ëª¨ë“  ì¡°ê±´ ì¶©ì¡±'} â†’ 10${translations.incentive.faq.consecutiveMonthsWorked?.[lang] || 'ê°œì›” ì—°ì† â†’'} 850,000 ${translations.incentive.faq.incentivePayment?.[lang] || 'VND ì§€ê¸‰'}</p>`;
                
                sampleDiv.innerHTML = sampleHtml;
            } else {
                statusDiv.className = 'status error';
                statusDiv.textContent = 'âŒ Translation structure is incorrect! Missing incentive.faq path';
                sampleDiv.innerHTML = '<p>Cannot display sample - structure is missing</p>';
            }
            
            html += '</ul>';
            resultsDiv.innerHTML = html;
        }
    </script>
</body>
</html>