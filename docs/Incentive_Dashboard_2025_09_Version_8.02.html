<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QIP 인센티브 계산 결과 - 2025년 9월</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts for better Unicode support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Noto+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Bootstrap JavaScript Bundle with Popper (필count!) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        /* Universal font for better Unicode support */
        * {
            font-family: 'Noto Sans KR', 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
        }

        body {
            background: #f5f5f5;
            font-family: 'Noto Sans KR', 'Noto Sans', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .summary-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }
        
        .summary-card h6 {
            color: #6b7280;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        
        .summary-card h2 {
            color: #1f2937;
            font-size: 2rem;
            font-weight: 700;
            margin: 0;
        }
        
        .summary-card .unit {
            font-size: 1rem;
            color: #9ca3af;
            font-weight: 400;
            margin-left: 4px;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
            font-weight: 500;
            color: #6b7280;
        }
        
        .tab:hover {
            background: #f3f4f6;
        }
        
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }
        
        .tab-content.active {
            display: block;
        }
        
        .table {
            margin-top: 20px;
        }
        
        .table thead th {
            background: #f9fafb;
            color: #374151;
            font-weight: 600;
            border-bottom: 2px solid #e5e7eb;
            padding: 12px;
        }
        
        .type-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            white-space: nowrap;
            display: inline-block;
        }
        
        .type-badge.type-1 {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .type-badge.type-2 {
            background: #fce7f3;
            color: #be185d;
        }
        
        .type-badge.type-3 {
            background: #d1fae5;
            color: #047857;
        }
        
        /* Talent Pool 강조 스타th */
        @keyframes starPulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .talent-pool-row {
            background: linear-gradient(90deg, #fff9e6 0%, #fffdf5 50%, #fff9e6 100%);
            animation: goldShimmer 3s ease-in-out infinite;
            position: relative;
        }
        
        @keyframes goldShimmer {
            0% { background: linear-gradient(90deg, #fff9e6 0%, #fffdf5 50%, #fff9e6 100%); }
            50% { background: linear-gradient(90deg, #fffdf5 0%, #fff9e6 50%, #fffdf5 100%); }
            100% { background: linear-gradient(90deg, #fff9e6 0%, #fffdf5 50%, #fff9e6 100%); }
        }
        
        .talent-pool-row:hover {
            background: linear-gradient(90deg, #fff3cc 0%, #fff9e6 50%, #fff3cc 100%);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            transform: translateX(2px);
            transition: all 0.3s ease;
        }
        
        .talent-pool-star {
            display: inline-block;
            animation: starPulse 2s ease-in-out infinite;
            font-size: 1.2em;
        }
        
        .talent-pool-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            display: inline-block;
            margin-left: 8px;
            box-shadow: 0 2px 4px rgba(255, 165, 0, 0.3);
        }
        
        .talent-pool-tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        
        .talent-pool-tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: white;
            text-align: center;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.875rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .talent-pool-tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        .talent-pool-tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #FFA500 transparent transparent transparent;
        }

        /* report type 알림 */
        .report-type-banner {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 15px 25px;
            margin-bottom: 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            animation: slideDown 0.5s ease-out;
        }

        .report-type-banner .icon {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        .report-type-banner .message {
            flex-grow: 1;
        }

        .report-type-banner .title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 3px;
        }

        .report-type-banner .description {
            font-size: 0.9rem;
            opacity: 0.95;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow: hidden; /* 모달 배경 스크롤 방지 */
        }

        /* 최소 근무일 모달 가독성 개선 스타th */
        #minimumDaysTable {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }

        #minimumDaysTable thead th {
            background-color: #f8f9fa;
            font-weight: 600;
            font-size: 13px;
            padding: 12px 8px;
            white-space: nowrap;
            border-bottom: 2px solid #dee2e6;
        }

        #minimumDaysTable tbody tr {
            transition: background-color 0.2s;
        }

        #minimumDaysTable tbody tr:hover {
            background-color: #f8f9fa;
        }

        #minimumDaysTable .badge {
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        /* 진행률 색상 개선 */
        .badge.bg-danger {
            background-color: #dc3545 !important;
        }

        .badge.bg-warning {
            background-color: #ffc107 !important;
            color: #000 !important;
        }

        .badge.bg-info {
            background-color: #0dcaf0 !important;
            color: #000 !important;
        }

        .badge.bg-primary {
            background-color: #0d6efd !important;
        }

        .badge.bg-success {
            background-color: #198754 !important;
        }

        .badge.bg-orange {
            background-color: #fd7e14 !important;
            color: #fff !important;
        }
        
        .modal-content {
            background: white;
            margin: 30px auto; /* 상단 여백 줄임 */
            padding: 0;
            width: 95%;
            max-width: 1100px;
            border-radius: 12px;
            height: 85vh; /* 고정 높이 */
            max-height: 85vh; /* 최대 높이 */
            display: flex;
            flex-direction: column;
            overflow: hidden; /* 오버플로우 방지 */
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        }
        
        /* 팝업 내 통계 카드 */
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .stat-card .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-card .stat-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }
        
        /* 지급 상태 스타th */
        .지급-status {
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            height: 100%;
        }
        
        .지급-status.paid {
            background: #d4edda;
            color: #155724;
        }
        
        .지급-status.unpaid {
            background: #f8d7da;
            color: #721c24;
        }
        
        .지급-status i {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }
        
        /* 조건 테이블 스타th */
        .table-success {
            background-color: #d4edda !important;
        }
        
        .table-danger {
            background-color: #f8d7da !important;
        }
        
        .info-group {
            margin-bottom: 15px;
        }
        
        .info-group label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            display: block;
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 12px 12px 0 0;
            flex: 0 0 auto; /* 고정 높이 */
            min-height: 60px;
            max-height: 60px;
        }
        
        .modal-body {
            padding: 30px;
            overflow-y: auto !important; /* 본문만 스크롤 */
            overflow-x: hidden; /* 가로 스크롤 방지 */
            max-height: 70vh !important; /* 최대 높이 설정으로 스크롤 활성화 */
            flex: 1 1 auto; /* 유연한 크기 */
            min-height: 0; /* flexbox 버그 방지 */
            max-height: calc(85vh - 120px); /* 헤더 공간 뺄고 높이 제한 */
        }
        
        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            opacity: 0.8;
        }
        
        .condition-group {
            margin-bottom: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
        }
        
        .condition-group-title {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            padding: 8px 12px;
            border-radius: 6px;
            color: white;
        }
        
        .condition-group-title.attendance {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }
        
        .condition-group-title.aql {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
        }
        
        .condition-group-title.prs {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
        }
        
        .condition-check {
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            border: 1px solid #e5e7eb;
        }
        
        .condition-check.success {
            background: #d1fae5;
            border-color: #10b981;
        }
        
        .condition-check.fail {
            background: #fee2e2;
            border-color: #ef4444;
        }
        
        .version-badge {
            background: #fbbf24;
            color: #78350f;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        
        /* Type 요약 테이블 스타th */
        .avg-header {
            text-align: center;
            background: #f3f4f6;
        }
        
        .sub-header {
            font-size: 0.9em;
            font-weight: 500;
            background: #f9fafb;
        }

        /* 모달 관련 스타th count정 */
        #incentiveModal {
            z-index: 1055 !important;
        }

        #incentiveModal .modal-dialog {
            z-index: 1056 !important;
        }

        #incentiveModal .modal-content {
            z-index: 1057 !important;
            position: relative !important;
            background: white !important;
            user-select: text !important;
            -webkit-user-select: text !important;
            -moz-user-select: text !important;
            -ms-user-select: text !important;
        }

        #incentiveModal .modal-content * {
            user-select: text !important;
            -webkit-user-select: text !important;
            -moz-user-select: text !important;
            -ms-user-select: text !important;
        }

        .modal-backdrop {
            z-index: 1040 !important;
            background-color: rgba(0, 0, 0, 0.5) !important;
        }

        #detailModal {
            z-index: 1050 !important;
        }

        #detailModal .modal-dialog {
            z-index: 1051 !important;
        }

        #detailModal .modal-content {
            z-index: 1052 !important;
        }

        #detailModal .modal-header {
            position: relative;
            z-index: 1053 !important;
        }

        #detailModal .btn-close {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1054 !important;
            opacity: 1;
            cursor: pointer;
        }

        #detailModal .btn-close-white::after {
            content: '×';
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .modal.show .modal-dialog {
            z-index: 1056 !important;
        }

        /* 새로운 접이식 조직도 스타th */
        .collapsible-tree {
            padding: 30px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .collapsible-tree ul {
            position: relative;
            padding: 20px 0 0 30px;
            margin: 0;
            list-style: none;
        }

        .collapsible-tree li {
            position: relative;
            padding: 15px 0;
        }

        /* 연결선 스타th */
        .collapsible-tree li::before {
            content: '';
            position: absolute;
            left: -30px;
            top: 0;
            border-left: 2px solid #667eea;
            height: 100%;
        }

        .collapsible-tree li::after {
            content: '';
            position: absolute;
            left: -30px;
            top: 40px;
            width: 30px;
            border-top: 2px solid #667eea;
        }

        .collapsible-tree li:last-child::before {
            height: 40px;
        }

        .collapsible-tree li.no-children::before,
        .collapsible-tree li.no-children::after {
            display: none;
        }

        /* 노드 카드 스타th */
        .org-node {
            display: inline-block;
            padding: 15px 20px;
            background: white;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            min-width: 200px;
            border-left: 4px solid;
        }

        .org-node:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        /* 직급별 색상 - 모던하고 세련된 색상 */
        .org-node.manager {
            border-left-color: #6366f1;
            background: linear-gradient(135deg, #ffffff 0%, #eef2ff 100%);
        }

        .org-node.supervisor {
            border-left-color: #8b5cf6;
            background: linear-gradient(135deg, #ffffff 0%, #f3e8ff 100%);
        }

        .org-node.group-leader {
            border-left-color: #ec4899;
            background: linear-gradient(135deg, #ffffff 0%, #fce7f3 100%);
        }

        .org-node.line-leader {
            border-left-color: #f59e0b;
            background: linear-gradient(135deg, #ffffff 0%, #fef3c7 100%);
        }

        .org-node.inspector {
            border-left-color: #10b981;
            background: linear-gradient(135deg, #ffffff 0%, #d1fae5 100%);
        }

        .org-node.default {
            border-left-color: #6b7280;
            background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
        }

        /* incentive 여부 표시 */
        .org-node.has-incentive {
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.2);
        }

        .org-node.no-incentive {
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.2);
        }

        /* 노드 내용 스타th */
        .node-position {
            font-size: 11px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .node-name {
            font-size: 14px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 3px;
        }

        .node-id {
            font-size: 11px;
            color: #9ca3af;
        }

        /* incentive 정보 스타th - 개선된 version */
        .node-incentive-info {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px dashed transparent;
            border-radius: 6px;
            padding: 6px;
        }

        .node-incentive-info:hover {
            background: rgba(99, 102, 241, 0.2);
            border: 2px dashed #6366f1;
            border-radius: 6px;
            padding: 6px;
            transform: scale(1.02);
            box-shadow: 0 2px 4px rgba(99, 102, 241, 0.2);
        }

        .incentive-amount {
            font-size: 14px;
            font-weight: 700;
            color: #059669;
            margin-right: 8px;
        }

        .incentive-detail-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            min-width: 30px;
            min-height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 1000;
            position: relative;
        }

        .incentive-detail-btn:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 8px rgba(99, 102, 241, 0.3);
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .incentive-info-icon {
            font-size: 16px;
            color: #6366f1;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .incentive-info-icon:hover {
            opacity: 1;
        }

        .node-incentive {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .node-incentive.received {
            background-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.2);
        }

        .node-incentive.not-received {
            background-color: #ef4444;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
        }

        /* 접기/펼치기 버튼 */
        .toggle-btn {
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 16px;
            color: #667eea;
            font-weight: bold;
            transition: all 0.3s;
            z-index: 10;
        }

        .toggle-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-50%) scale(1.1);
        }

        /* 자식 count 표시 */
        .child-count {
            background: #667eea;
            color: white;
            border-radius: 10px;
            padding: 2px 8px;
            margin-left: 8px;
            font-size: 11px;
            font-weight: 600;
        }

        /* 접힌 상태 */
        .collapsed > ul {
            display: none;
        }

        .collapsed .toggle-btn::after {
            content: '+';
        }

        /* 검색 및 필터 컨트롤 */
        .org-controls {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .org-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .org-header h4 {
            color: #1f2937;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .org-header p {
            color: #6b7280;
            font-size: 14px;
        }

        /* 범례 스타th */
        .org-legend {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .org-legend h6 {
            color: #374151;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .legend-items {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .legend-item {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
            color: #4b5563;
        }

        .legend-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .legend-dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid;
        }

        .legend-dot.received {
            border-color: #10b981;
            background: #10b981;
        }

        .legend-dot.not-received {
            border-color: #ef4444;
            background: transparent;
        }

        /* 검색 하이라이트 */
        .search-hidden {
            opacity: 0.2;
            filter: grayscale(100%);
        }

        .search-highlight {
            background: #fef08a !important;
            border-color: #facc15 !important;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        /* 로딩 스피너 */
        .org-loading {
            text-align: center;
            padding: 50px;
        }

        .org-loading-spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #6366f1;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .expanded .toggle-btn::after {
            content: '−';
        }

        /* 조직도 통계 패널 */
        .org-stats-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .org-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .org-stat-item {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            color: white;
        }

        .org-stat-number {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .org-stat-label {
            font-size: 12px;
            opacity: 0.9;
        }

        /* 로딩 상태 */
        .org-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 400px;
            color: #6b7280;
        }

        .org-loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #e5e7eb;
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Modal Styles for improved validation modals */
        
    /* 통th된 모달 스타th */
    .unified-modal-header {
        background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%) !important;
        border-bottom: 3px solid #2196f3 !important;
        padding: 1.2rem 1.5rem !important;
        border-radius: 0.5rem 0.5rem 0 0 !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;  /* 중앙 정렬 유지 */
        position: relative !important;  /* 닫기 버튼 절대 위치 기준 */
    }
    /* 닫기 버튼을 우측 상단에 절대 위치로 고정 */
    .unified-modal-header .btn-close {
        position: absolute !important;
        top: 1rem !important;
        right: 1.5rem !important;
    }
    /* AQL Fail 모달의 버튼 그룹 내 닫기 버튼도 동th하게 처리 */
    .unified-modal-header .d-flex {
        margin-right: 3rem !important;  /* 닫기 버튼 공간 확보 */
    }
    .unified-modal-header .d-flex .btn-close {
        position: absolute !important;
        top: 1rem !important;
        right: 1.5rem !important;
    }
    .unified-modal-title {
        color: #1565c0 !important;
        font-weight: 700 !important;
        font-size: 1.25rem !important;
        display: flex !important;
        align-items: center !important;
        margin: 0 !important;
        flex: 1 !important;  /* 타이틀이 available 공간 모두 차지 */
        margin-right: 3rem !important;  /* 닫기 버튼 공간 확보 */
    }
    .unified-modal-content {
        padding: 1.5rem !important;
    }
    .unified-summary-section {
        display: flex !important;
        justify-content: space-around !important;
        padding: 1.5rem !important;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef) !important;
        border-radius: 10px !important;
        margin-bottom: 1.5rem !important;
    }
    .unified-stat-item {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
    }
    .unified-stat-label {
        color: #6c757d !important;
        font-size: 0.875rem !important;
        margin-bottom: 0.5rem !important;
    }
    .unified-stat-value {
        color: #1565c0 !important;
        font-size: 1.5rem !important;
        font-weight: 700 !important;
    }
    .unified-info-card {
        padding: 1.25rem !important;
        border-radius: 10px !important;
        margin-bottom: 1rem !important;
    }
    .unified-section-title {
        font-size: 1rem !important;
        font-weight: 600 !important;
        margin-bottom: 0.75rem !important;
        color: #495057 !important;
    }
    .unified-list-content {
        font-size: 0.95rem !important;
        line-height: 1.6 !important;
    }
    .unified-action-buttons {
        display: flex !important;
        justify-content: center !important;
        gap: 0.75rem !important;
        margin-top: 1.5rem !important;
    }
    .unified-table-header {
        background: #f5f5f5 !important;
        position: sticky !important;
        top: 0 !important;
        z-index: 10 !important;
    }
    .unified-table-header th {
        padding: 12px !important;
        font-weight: 700 !important;
        color: #424242 !important;
        border-bottom: 2px solid #e0e0e0 !important;
        white-space: nowrap !important;
    }
    .unified-table-row {
        transition: all 0.3s ease !important;
    }
    .unified-table-row:hover {
        transform: translateX(5px) !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
        background-color: #f8f9fa !important;
    }
    .sortable-header {
        cursor: pointer !important;
        user-select: none !important;
        position: relative !important;
        padding-right: 25px !important;
    }
    .sortable-header:hover {
        background: #e9ecef !important;
    }
    .sortable-header::after {
        content: '⇅' !important;
        position: absolute !important;
        right: 8px !important;
        opacity: 0.3 !important;
        font-size: 12px !important;
    }
    .sortable-header.asc::after {
        content: '▲' !important;
        opacity: 1 !important;
    }
    .sortable-header.desc::after {
        content: '▼' !important;
        opacity: 1 !important;
    }

    .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
        margin-top: 20px;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 10px;
    }
    .calendar-day {
        min-height: 100px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 10px;
        padding: 8px;
        transition: all 0.2s ease;
        position: relative;
        box-shadow: 0 2px 4px rgba(0,0,0,0.08);
    }
    .calendar-day:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .calendar-day.work-day {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
    }
    .calendar-day.no-data {
        background: #f8f9fa;
        color: #495057;
        border: 2px dashed #dee2e6;
    }
    .day-number {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 2px;
        line-height: 1;
    }
    .day-weekday {
        font-size: 0.75rem;
        font-weight: 500;
        opacity: 0.85;
        margin-bottom: 4px;
        letter-spacing: -0.3px;
    }
    .day-icon {
        font-size: 1.2rem;
        margin: 4px 0;
    }
    .attendance-count {
        font-size: 0.85rem !important;
        font-weight: 600;
        padding: 2px 8px;
        border-radius: 12px;
        margin-top: 3px;
    }
    .calendar-day.work-day .attendance-count {
        background: rgba(255,255,255,0.25);
        color: white !important;
    }
    .calendar-day.no-data .attendance-count {
        background: rgba(220, 53, 69, 0.1);
        color: #dc3545 !important;
        font-size: 0.75rem !important;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 3px;
        padding: 4px 8px;
        border-radius: 4px;
    }
    .calendar-day.no-data .attendance-count i {
        font-size: 0.65rem;
        color: #dc3545;
    }
    .calendar-day.no-data .attendance-count span {
        color: #495057 !important;
    }
    .legend-badge {
        display: inline-block;
        padding: 6px 12px;
        margin: 4px;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
        border: 2px solid;
    }
    .legend-badge.legend-workday {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white !important;
        border-color: #667eea;
    }
    .legend-badge.legend-nodata {
        background: #f8f9fa;
        color: #212529 !important;
        border-color: #dee2e6;
        border-style: dashed;
    }
    .stat-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        border: 1px solid #e9ecef;
        transition: all 0.2s;
    }
    .stat-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.12);
    }
    .stat-icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
    }
    .stat-label {
        color: #495057;
        font-size: 0.95rem;
        font-weight: 500;
    }
    .stat-value {
        color: #212529;
        font-weight: 700;
    }
    

        /* Position Modal 전용 스타th - 스크롤 및 클릭 문제 해결 */
        #positionModal {
            z-index: 1050 !important;
        }
        #positionModal .modal-dialog {
            max-width: 90% !important;
            margin: 1.75rem auto !important;
            z-index: 1051 !important;
            pointer-events: auto !important;
        }
        #positionModal .modal-content {
            z-index: 1052 !important;
            position: relative !important;
            pointer-events: auto !important;
            background: white !important;
        }
        #positionModal .modal-body {
            max-height: 70vh !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
            pointer-events: auto !important;
            position: relative !important;
        }
        #positionModal .modal-body * {
            pointer-events: auto !important;
        }
        #positionModal .btn-close,
        #positionModal button {
            pointer-events: auto !important;
            cursor: pointer !important;
        }

        /* Employee Modal 전용 스타th */
        #employeeModal {
            z-index: 1060 !important;
        }
        #employeeModal .modal-dialog {
            max-width: 80% !important;
            margin: 1.75rem auto !important;
            z-index: 1061 !important;
        }
        #employeeModal .modal-body {
            max-height: 70vh !important;
            overflow-y: auto !important;
        }

        /* 모바일 반응형 최적화 */
        @media (max-width: 768px) {
            /* 컨테이너 여백 조정 */
            .container {
                padding: 15px !important;
            }

            /* 헤더 크기 조정 */
            .header h1 {
                font-size: 2rem !important;
                line-height: 1.3 !important;
            }

            /* 통계 카드 그리드 조정 */
            .stats-grid {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }

            .stat-card {
                padding: 24px !important;
            }

            .stat-card h4 {
                font-size: 1.2rem !important;
            }

            .stat-card .stat-value {
                font-size: 2rem !important;
            }

            /* 테이블 스크롤 컨테이너 */
            .table-responsive {
                overflow-x: auto !important;
                -webkit-overflow-scrolling: touch !important;
                margin: 10px -15px !important;
                padding: 0 15px !important;
            }

            /* 테이블 최소 너비 설정 */
            .table {
                min-width: 900px !important;
                font-size: 1.05rem !important;
            }

            .table thead th {
                padding: 14px 10px !important;
                font-size: 1rem !important;
                white-space: nowrap !important;
            }

            .table tbody td {
                padding: 14px 10px !important;
                font-size: 1rem !important;
            }

            /* TYPE 배지 크기 조정 */
            .type-badge {
                font-size: 0.9rem !important;
                padding: 5px 12px !important;
            }

            /* 탭 버튼 조정 */
            .tab-button {
                padding: 14px 18px !important;
                font-size: 1.05rem !important;
                min-height: 50px !important;
            }

            /* 차트 컨테이너 높이 조정 */
            .chart-container {
                height: 300px !important;
                margin-bottom: 20px !important;
            }

            /* 모달 전체 화면 스타일 - 모든 모달에 적용 */
            #employeeModal .modal-dialog,
            #positionModal .modal-dialog,
            #incentiveModal .modal-dialog,
            #detailModal .modal-dialog,
            .modal-dialog {
                max-width: 100% !important;
                margin: 0 !important;
                height: 100vh !important;
                width: 100vw !important;
            }

            #employeeModal .modal-content,
            #positionModal .modal-content,
            #incentiveModal .modal-content,
            #detailModal .modal-content,
            .modal-content {
                height: 100vh !important;
                border-radius: 0 !important;
                display: flex !important;
                flex-direction: column !important;
            }

            #employeeModal .modal-header,
            #positionModal .modal-header,
            #incentiveModal .modal-header,
            #detailModal .modal-header,
            .modal-header {
                padding: 20px !important;
                flex-shrink: 0 !important;
            }

            #employeeModal .modal-title,
            #positionModal .modal-title,
            #incentiveModal .modal-title,
            #detailModal .modal-title,
            .modal-title {
                font-size: 1.4rem !important;
                font-weight: 600 !important;
            }

            #employeeModal .modal-body,
            #positionModal .modal-body,
            #incentiveModal .modal-body,
            #detailModal .modal-body,
            .modal-body {
                padding: 20px !important;
                font-size: 1.1rem !important;
                overflow-y: auto !important;
                flex: 1 !important;
                -webkit-overflow-scrolling: touch !important;
            }

            #employeeModal .modal-body h6,
            #positionModal .modal-body h6,
            .modal-body h6 {
                font-size: 1.25rem !important;
                margin-bottom: 15px !important;
            }

            #employeeModal .modal-body .table,
            #positionModal .modal-body .table,
            .modal-body .table {
                font-size: 1rem !important;
                min-width: 100% !important;
            }

            #employeeModal .modal-body .table td,
            #employeeModal .modal-body .table th,
            #positionModal .modal-body .table td,
            #positionModal .modal-body .table th,
            .modal-body .table td,
            .modal-body .table th {
                padding: 12px 8px !important;
                font-size: 1rem !important;
            }

            #employeeModal .modal-footer,
            #positionModal .modal-footer,
            .modal-footer {
                padding: 20px !important;
                flex-shrink: 0 !important;
            }

            #employeeModal .modal-footer .btn,
            #positionModal .modal-footer .btn,
            .modal-footer .btn {
                min-width: 120px !important;
                padding: 14px 28px !important;
                font-size: 1.2rem !important;
                min-height: 54px !important;
                font-weight: 600 !important;
            }

            /* Talent Pool 카드 조정 */
            .talent-pool-card {
                padding: 24px !important;
            }

            .talent-pool-card h4 {
                font-size: 1.3rem !important;
            }

            .talent-pool-card h3 {
                font-size: 2.2rem !important;
            }

            /* 버튼 크기 조정 - 터치 타겟 최소 48px */
            .btn {
                padding: 14px 22px !important;
                font-size: 1.05rem !important;
                min-height: 48px !important;
            }

            .btn-lg {
                padding: 16px 32px !important;
                font-size: 1.2rem !important;
                min-height: 54px !important;
            }

            /* 언어 선택기 조정 */
            .lang-btn {
                padding: 12px 16px !important;
                font-size: 1rem !important;
                min-height: 44px !important;
            }

            /* 카드 조정 */
            .card {
                margin-bottom: 24px !important;
            }

            .card-header h5 {
                font-size: 1.3rem !important;
            }

            .card-body {
                padding: 24px !important;
            }

            /* 탭 컨테이너 조정 */
            .tabs {
                gap: 8px !important;
                margin-bottom: 20px !important;
            }

            .tab {
                padding: 14px 18px !important;
                font-size: 1.05rem !important;
                min-height: 50px !important;
            }

            /* 보기 버튼들 크기 증가 */
            .view-details-btn {
                padding: 10px 18px !important;
                font-size: 1rem !important;
                min-height: 44px !important;
            }
        }

        /* 작은 모바일 기기 (320px - 480px) - 매우 공격적인 스타일 */
        @media (max-width: 480px) {
            /* 헤더 조정 */
            .header h1 {
                font-size: 1.6rem !important;
                padding-top: 15px !important;
            }

            .container {
                padding: 12px !important;
                padding-top: 70px !important;
            }

            /* 언어/대시보드 선택기 */
            #languageSelector,
            #dashboardSelector {
                font-size: 0.95rem !important;
                padding: 10px !important;
                min-height: 44px !important;
            }

            /* 테이블 스타일 */
            .table {
                font-size: 1rem !important;
                min-width: 750px !important;
            }

            .table thead th,
            .table tbody td {
                padding: 12px 8px !important;
                font-size: 1rem !important;
            }

            /* 차트 컨테이너 */
            .chart-container {
                height: 250px !important;
                margin-bottom: 20px !important;
            }

            /* 탭 버튼 */
            .tab-button,
            .tab {
                padding: 12px 14px !important;
                font-size: 1rem !important;
                min-height: 48px !important;
            }

            /* 통계 카드 */
            .stat-card {
                padding: 18px !important;
            }

            .stat-card .stat-value {
                font-size: 1.8rem !important;
            }

            /* 모달 스타일 - 전체 화면 유지 */
            #employeeModal .modal-dialog,
            #positionModal .modal-dialog,
            #incentiveModal .modal-dialog,
            #detailModal .modal-dialog,
            .modal-dialog {
                max-width: 100% !important;
                margin: 0 !important;
                height: 100vh !important;
                width: 100vw !important;
            }

            #employeeModal .modal-content,
            #positionModal .modal-content,
            #incentiveModal .modal-content,
            #detailModal .modal-content,
            .modal-content {
                height: 100vh !important;
                border-radius: 0 !important;
            }

            #employeeModal .modal-header,
            #positionModal .modal-header,
            .modal-header {
                padding: 18px !important;
            }

            #employeeModal .modal-title,
            #positionModal .modal-title,
            .modal-title {
                font-size: 1.3rem !important;
                font-weight: 600 !important;
            }

            #employeeModal .modal-body,
            #positionModal .modal-body,
            .modal-body {
                padding: 18px !important;
                font-size: 1.05rem !important;
            }

            #employeeModal .modal-body h6,
            #positionModal .modal-body h6,
            .modal-body h6 {
                font-size: 1.2rem !important;
                margin-bottom: 12px !important;
            }

            #employeeModal .modal-body .table,
            #positionModal .modal-body .table,
            .modal-body .table {
                font-size: 0.95rem !important;
            }

            #employeeModal .modal-body .table td,
            #employeeModal .modal-body .table th,
            #positionModal .modal-body .table td,
            #positionModal .modal-body .table th,
            .modal-body .table td,
            .modal-body .table th {
                padding: 10px 6px !important;
                font-size: 0.95rem !important;
            }

            #employeeModal .modal-footer,
            #positionModal .modal-footer,
            .modal-footer {
                padding: 18px !important;
            }

            #employeeModal .modal-footer .btn,
            #positionModal .modal-footer .btn,
            .modal-footer .btn {
                padding: 14px 24px !important;
                font-size: 1.1rem !important;
                min-height: 50px !important;
            }

            /* 버튼 크기 */
            .btn {
                padding: 12px 20px !important;
                font-size: 1rem !important;
                min-height: 46px !important;
            }

            .btn-lg {
                padding: 14px 28px !important;
                font-size: 1.1rem !important;
                min-height: 50px !important;
            }

            /* 카드 스타일 */
            .card {
                margin-bottom: 20px !important;
            }

            .card-header h5 {
                font-size: 1.2rem !important;
            }

            .card-body {
                padding: 20px !important;
            }

            /* 보기 버튼 */
            .view-details-btn {
                padding: 10px 16px !important;
                font-size: 0.95rem !important;
                min-height: 44px !important;
            }

            /* Talent Pool 카드 */
            .talent-pool-card {
                padding: 20px !important;
            }

            .talent-pool-card h4 {
                font-size: 1.2rem !important;
            }

            .talent-pool-card h3 {
                font-size: 2rem !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div style="position: absolute; top: 20px; right: 20px; display: flex; gap: 10px;">
                <select id="languageSelector" class="form-select" onchange="changeLanguage(this.value)" style="width: 150px; background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3);">
                    <option value="ko">한국어</option>
                    <option value="en">English</option>
                    <option value="vi">Tiếng Việt</option>
                </select>
                <select id="dashboardSelector" class="form-select" onchange="changeDashboard(this.value)" style="width: 200px; background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3);">
                    <option value="incentive">💰 Incentive Dashboard</option>
                    <option value="management">📊 Management Dashboard</option>
                    <option value="statistics">📈 Statistics Dashboard</option>
                </select>
            </div>
            <h1 id="mainTitle">QIP 인센티브 계산 결과 <span class="version-badge">V8.02</span></h1>
            <p id="mainSubtitle">2025년 9월 인센티브 지급 현황</p>
            <p id="generationDate" style="color: white; font-size: 0.9em; margin-top: 10px; opacity: 0.9;" data-year="2025" data-month="11" data-day="14" data-hour="04" data-minute="26">보고서 생성일: 2025년 11월 14일 04:26</p>
            <div id="dataPeriodSection" style="color: white; font-size: 0.85em; margin-top: 15px; opacity: 0.85; line-height: 1.6;">
                <p id="dataPeriodTitle" style="margin: 5px 0; font-weight: bold;">📊 사용 데이터 기간:</p>
                <p id="incentiveDataPeriod" style="margin: 3px 0; padding-left: 20px;" data-year="2025" data-month="09" data-startday="01" data-endday="30">• 인센티브 데이터: 2025년 09월 01일 ~ 30일</p>
                <p id="attendanceDataPeriod" style="margin: 3px 0; padding-left: 20px;" data-year="2025" data-month="09" data-startday="01" data-endday="30">• 출근 데이터: 2025년 09월 01일 ~ 30일</p>
                <p id="aqlDataPeriod" style="margin: 3px 0; padding-left: 20px;" data-year="2025" data-month="09" data-startday="01" data-endday="30">• AQL 데이터: 2025년 09월 01일 ~ 30일</p>
                <p id="5prsDataPeriod" style="margin: 3px 0; padding-left: 20px;" data-year="2025" data-month="09" data-startday="03" data-endday="30">• 5PRS 데이터: 2025년 09월 03일 ~ 30일</p>
                <p id="manpowerDataPeriod" style="margin: 3px 0; padding-left: 20px;" data-year="2025" data-month="09">• 기본 인력 데이터: 2025년 09월 기준</p>
            </div>
        </div>

        <!-- report type 알림 배너 -->
        <div class="report-type-banner" id="reportTypeBanner">
            <div style="display: flex; align-items: center;">
                <span class="icon">✅</span>
                <div class="message">
                    <div class="title" id="reportTypeTitle">최종 보고서</div>
                    <div class="description" id="reportTypeDesc">
                        이 보고서는 월말 최종 보고서입니다. 모든 인센티브 조건이 정상적으로 적용됩니다.
                    </div>
                </div>
            </div>
            <div>
                <span style="font-size: 0.85rem; opacity: 0.9;">생성일: 14일</span>
            </div>
        </div>

        <div class="content p-4">
            <!-- 요약 카드 -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="summary-card">
                        <h6 class="text-muted" id="totalEmployeesLabel">전체 직원</h6>
                        <h2><span id="totalEmployeesValue">10</span> <span class="unit" id="totalEmployeesUnit"></span></h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="summary-card">
                        <h6 class="text-muted" id="paidEmployeesLabel">수령 직원</h6>
                        <h2><span id="paidEmployeesValue">0</span> <span class="unit" id="paidEmployeesUnit"></span></h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="summary-card">
                        <h6 class="text-muted" id="paymentRateLabel">지급률</h6>
                        <h2 id="paymentRateValue">0.0%</h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="summary-card">
                        <h6 class="text-muted" id="totalAmountLabel">총 지급액</h6>
                        <h2 id="totalAmountValue">0 VND</h2>
                    </div>
                </div>
            </div>
            
            
            <!-- 탭 메뉴 -->
            <div class="tabs">
                <div class="tab active" data-tab="summary" onclick="showTab('summary')" id="tabSummary">요약</div>
                <div class="tab" data-tab="position" onclick="showTab('position')" id="tabPosition" data-translate-tab="position">직급별 상세</div>
                <div class="tab" data-tab="detail" onclick="showTab('detail')" id="tabIndividual" data-translate-tab="individual">개인별 상세</div>
                <div class="tab" data-tab="criteria" onclick="showTab('criteria')" id="tabCriteria" data-translate-tab="criteria">인센티브 기준</div>
                <div class="tab" data-tab="orgchart" onclick="showTab('orgchart')" id="tabOrgChart">조직도</div>
                <div class="tab" data-tab="validation" onclick="showTab('validation')" id="tabValidation">요약 및 시스템 검증</div>
            </div>
            
            <!-- 요약 탭 -->
            <div id="summary" class="tab-content active">
                <h3 id="summaryTabTitle" data-translate="typeSummary">Type별 현황</h3>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th rowspan="2" id="summaryTypeHeader">Type</th>
                                <th rowspan="2" id="summaryTotalHeader">전체 인원</th>
                                <th rowspan="2" id="summaryEligibleHeader">수령 인원</th>
                                <th rowspan="2" id="summaryPaymentRateHeader">지급률</th>
                                <th rowspan="2" id="summaryTotalAmountHeader">총 지급액</th>
                                <th colspan="2" class="avg-header" id="summaryAvgAmountHeader">평균 지급액</th>
                            </tr>
                            <tr>
                                <th class="sub-header" id="summaryAvgEligibleHeader" data-translate="avgPaymentPaidBasis">수령인원 기준</th>
                                <th class="sub-header" id="summaryAvgTotalHeader" data-translate="avgPaymentTotalBasis">전체인원 기준</th>
                            </tr>
                        </thead>
                        <tbody id="typeSummaryBody">
                            <!-- JavaScript로 동적으로 채워질 예정 -->
                    </tbody>
                    </table>
                </div>
            </div>
            
            <!-- 직급별 상세 탭 -->
            <div id="position" class="tab-content">
                <h3 id="positionTabTitle" data-translate="positionDetails">직급별 상세 현황</h3>
                <div id="positionTables">
                    <!-- JavaScript로 채워질 예정 -->
                </div>
                
                <!-- Talent Pool 시각화 섹션 -->
                <div class="row mb-4" id="talentPoolSection" style="display: none;">
                    <div class="col-12">
                        <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                            <div class="card-body">
                                <h4 class="mb-3" id="talentPoolTitle">🌟 QIP Talent Pool 특별 incentive</h4>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                                            <h6 style="opacity: 0.9;" id="talentPoolMemberCountLabel">Talent Pool 인원</h6>
                                            <h3 id="talentPoolCount">0명</h3>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                                            <h6 style="opacity: 0.9;" id="talentPoolMonthlyBonusLabel">월 보너스 금액</h6>
                                            <h3 id="talentPoolMonthlyBonus">0 VND</h3>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                                            <h6 style="opacity: 0.9;" id="talentPoolTotalBonusLabel">total 보너스 지급액</h6>
                                            <h3 id="talentPoolTotalBonus">0 VND</h3>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">
                                            <h6 style="opacity: 0.9;" id="talentPoolPaymentPeriodLabel">지급 기간</h6>
                                            <h3 id="talentPoolPeriod">-</h3>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3" id="talentPoolMembers">
                                    <!-- Talent Pool 멤버 목록이 여기에 표시됩니다 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 개인별 상세 탭 -->
            <div id="detail" class="tab-content">
                <h3 id="individualDetailTitle" data-translate="individualDetails">개인별 상세 정보</h3>
                <div class="filter-container mb-3">
                    <div class="row">
                        <div class="col-md-3">
                            <input type="text" id="searchInput" class="form-control" 
                                placeholder="이름 또는 직원번호 검색" onkeyup="filterTable()">
                        </div>
                        <div class="col-md-2">
                            <select id="typeFilter" class="form-select" 
                                onchange="updatePositionFilter(); filterTable()">
                                <option value="" id="optAllTypes">모든 Type</option>
                                <option value="TYPE-1">TYPE-1</option>
                                <option value="TYPE-2">TYPE-2</option>
                                <option value="TYPE-3">TYPE-3</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select id="positionFilter" class="form-select" onchange="filterTable()">
                                <option value="" id="optAllPositions">모든 직급</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select id="paymentFilter" class="form-select" onchange="filterTable()">
                                <option value="" id="optPaymentAll">total</option>
                                <option value="paid" id="optPaymentPaid">지급</option>
                                <option value="unpaid" id="optPaymentUnpaid">미지급</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table" id="employeeTable">
                        <thead>
                            <tr>
                                <th id="empIdHeader">사번</th>
                                <th id="nameHeader">이름</th>
                                <th id="positionHeader">직급</th>
                                <th id="typeHeader">Type</th>
                                <th id="prevMonthHeader">8월</th>
                                <th id="currentMonthHeader">9월</th>
                                <th id="talentPoolHeader">Talent Pool</th>
                                <th id="statusHeader">상태</th>
                                <th id="detailsHeader">상세</th>
                            </tr>
                        </thead>
                        <tbody id="employeeTableBody">
                            <!-- JavaScript로 채워질 예정 -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- incentive 기준 탭 -->
            <div id="criteria" class="tab-content">
                <h1 class="section-title" style="text-align: center; font-size: 28px; margin-bottom: 30px;" id="criteriaMainTitle">
                    QIP incentive 정책 및 calculation 기준
                </h1>
                
                <!-- 정책 요약 섹션 -->
                <div class="alert alert-info mb-4">
                    <h5 class="alert-heading" id="corePrinciplesTitle">📌 핵심 principle</h5>
                    <p class="mb-2" id="corePrinciplesDesc1">모든 직원은 corresponding 직급별로 지정된 <strong>모든 조건을 충족</strong>해야 incentive를 받을 count 있습니다.</p>
                    <p class="mb-0" id="corePrinciplesDesc2">조건은 출근(4개), AQL(4개), 5PRS(2개)로 구성되며, 직급별로 apply 조건이 다릅니다.</p>
                </div>
                
                <!-- 10가지 조건 상세 설직원 -->
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0" id="evaluationConditionsTitle">📊 10가지 평가 조건 상세</h5>
                    </div>
                    <div class="card-body">
                        <!-- 출근 조건 -->
                        <h6 class="text-success mb-3" id="attendanceConditionTitle">📅 출근 조건 (4개)</h6>
                        <div class="table-responsive">
                            <table class="table table-sm table-bordered mb-4" id="attendanceTable">
                            <thead class="table-light">
                                <tr>
                                    <th width="5%" class="cond-th-number">#</th>
                                    <th width="25%" class="cond-th-name">조건직원</th>
                                    <th width="20%" class="cond-th-criteria">기준</th>
                                    <th width="50%" class="cond-th-desc">설직원</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td class="cond-name-1">출근율</td>
                                    <td>≥88%</td>
                                    <td class="cond-desc-1">월간 출근율이 88% 이상이어야 합니다 (결근율 12% 이하)</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td class="cond-name-2">무단결근</td>
                                    <td>≤2일</td>
                                    <td class="cond-desc-2">사전 승인 없는 결근이 month 2일 이하여야 합니다</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td class="cond-name-3">actual 근무일</td>
                                    <td>>0일</td>
                                    <td class="cond-desc-3">actual 출근한 날이 1일 이상이어야 합니다</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td class="cond-name-4">최소 근무일</td>
                                    <td>≥12일</td>
                                    <td class="cond-desc-4">월간 최소 12일 이상 work해야 합니다</td>
                                </tr>
                            </tbody>
                            </table>
                        </div>

                        <!-- AQL 조건 -->
                        <h6 class="text-primary mb-3" id="aqlConditionTitle">🎯 AQL 조건 (4개)</h6>
                        <div class="table-responsive">
                            <table class="table table-sm table-bordered mb-4" id="aqlTable">
                            <thead class="table-light">
                                <tr>
                                    <th width="5%" class="cond-th-number">#</th>
                                    <th width="25%" class="cond-th-name">조건직원</th>
                                    <th width="20%" class="cond-th-criteria">기준</th>
                                    <th width="50%" class="cond-th-desc">설직원</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>5</td>
                                    <td class="cond-name-5">개인 AQL (당month)</td>
                                    <td>failed 0cases</td>
                                    <td class="cond-desc-5">당month 개인 AQL 검사 failed가 없어야 합니다</td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td class="cond-name-6">개인 AQL (연속성)</td>
                                    <td>3연속 개월 실패 없음</td>
                                    <td class="cond-desc-6">최근 3개월간 연속으로 AQL failed가 없어야 합니다</td>
                                </tr>
                                <tr>
                                    <td>7</td>
                                    <td class="cond-name-7">팀/구역 AQL</td>
                                    <td>3연속 개월 실패 없음</td>
                                    <td class="cond-desc-7">관리하는 팀/구역에서 3연속 개월 실패자가 없어야 합니다</td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td class="cond-name-8">담당구역 AQL Reject율</td>
                                    <td><3%</td>
                                    <td class="cond-desc-8">담당 구역의 AQL 리젝률이 3% 미만이어야 합니다</td>
                                </tr>
                            </tbody>
                            </table>
                        </div>

                        <!-- 5PRS 조건 -->
                        <h6 class="text-warning mb-3" id="prsConditionTitle">📊 5PRS 조건 (2개)</h6>
                        <div class="table-responsive">
                            <table class="table table-sm table-bordered" id="prsTable">
                            <thead class="table-light">
                                <tr>
                                    <th width="5%" class="cond-th-number">#</th>
                                    <th width="25%" class="cond-th-name">조건직원</th>
                                    <th width="20%" class="cond-th-criteria">기준</th>
                                    <th width="50%" class="cond-th-desc">설직원</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>9</td>
                                    <td class="cond-name-9">5PRS 통과율</td>
                                    <td>≥95%</td>
                                    <td class="cond-desc-9">5족 평가 시스템에서 95% 이상 통과해야 합니다</td>
                                </tr>
                                <tr>
                                    <td>10</td>
                                    <td class="cond-name-10">5PRS 검사량</td>
                                    <td>≥100개</td>
                                    <td class="cond-desc-10">월간 최소 100개 이상 검사를 count행해야 합니다</td>
                                </tr>
                            </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- 직급별 apply 조건 매트릭스 -->
                <div class="card mb-4 border-0 shadow-sm">
                    <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <h5 class="mb-0" id="positionMatrixTitle">🎖️ 직급별 apply 조건</h5>
                    </div>
                    <div class="card-body">
                        
                        <h6 style="color: #667eea; font-weight: 600;" class="mb-3" id="type1Header">TYPE-1 직급별 조건</h6>
                        <table class="table table-sm table-hover position-matrix-table" style="border: 1px solid #e0e0e0;">
                            <thead style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                <tr>
                                    <th class="pos-header-position">직급</th>
                                    <th class="pos-header-conditions">apply 조건</th>
                                    <th class="pos-header-count">조건 count</th>
                                    <th class="pos-header-notes">비고</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>MANAGER</strong></td>
                                    <td>1, 2, 3, 4</td>
                                    <td class="condition-count">4개</td>
                                    <td>출근 조건만 적용</td>
                                </tr>
                                <tr>
                                    <td><strong>A.MANAGER</strong></td>
                                    <td>1, 2, 3, 4</td>
                                    <td class="condition-count">4개</td>
                                    <td>출근 조건만 적용</td>
                                </tr>
                                <tr>
                                    <td><strong>(V) SUPERVISOR</strong></td>
                                    <td>1, 2, 3, 4</td>
                                    <td class="condition-count">4개</td>
                                    <td>출근 조건만 적용</td>
                                </tr>
                                <tr>
                                    <td><strong>GROUP LEADER</strong></td>
                                    <td>1, 2, 3, 4</td>
                                    <td class="condition-count">4개</td>
                                    <td>출근 조건만 적용</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>LINE LEADER</strong></td>
                                    <td>1, 2, 3, 4, 7</td>
                                    <td class="condition-count">5개</td>
                                    <td>출근 + 팀/구역 AQL</td>
                                </tr>
                                <tr>
                                    <td><strong>AQL INSPECTOR</strong></td>
                                    <td>1, 2, 3, 4, 5</td>
                                    <td class="condition-count">5개</td>
                                    <td>출근 + 당month AQL (특별 calculation)</td>
                                </tr>
                                <tr>
                                    <td><strong>ASSEMBLY INSPECTOR</strong></td>
                                    <td>1, 2, 3, 4, 5, 6, 9, 10</td>
                                    <td class="condition-count">8개</td>
                                    <td>출근 + 개인 AQL + 5PRS</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>AUDIT & TRAINING TEAM</strong></td>
                                    <td>1, 2, 3, 4, 7, 8</td>
                                    <td class="condition-count">6개</td>
                                    <td>출근 + 팀/구역 AQL + 담당구역 reject</td>
                                </tr>
                                <tr>
                                    <td><strong>MODEL MASTER</strong></td>
                                    <td>1, 2, 3, 4, 8</td>
                                    <td class="condition-count">5개</td>
                                    <td>출근 + 담당구역 reject</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h6 style="color: #667eea; font-weight: 600;" class="mb-3 mt-4" id="type2Header">TYPE-2 직급별 조건</h6>
                        <table class="table table-sm table-hover" style="border: 1px solid #e0e0e0;">
                            <thead style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                <tr>
                                    <th class="type2-header-position">직급</th>
                                    <th class="type2-header-conditions">apply 조건</th>
                                    <th class="type2-header-count">조건 count</th>
                                    <th class="type2-header-notes">특이사항</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong id="type2AllPositions">모든 TYPE-2 직급</strong></td>
                                    <td>1, 2, 3, 4</td>
                                    <td id="type2FourConditions">4개</td>
                                    <td id="type2AttendanceOnly">출근 조건만 적용</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h6 style="color: #667eea; font-weight: 600;" class="mb-3 mt-4" id="type3Header">TYPE-3 직급별 조건</h6>
                        <table class="table table-sm table-hover" style="border: 1px solid #e0e0e0;">
                            <thead style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                <tr>
                                    <th class="type3-header-position">직급</th>
                                    <th class="type3-header-conditions">apply 조건</th>
                                    <th class="type3-header-count">조건 count</th>
                                    <th class="type3-header-notes">특이사항</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="background-color: #fafafa;">
                                    <td><strong id="type3NewMember">NEW QIP MEMBER</strong></td>
                                    <td id="type3NoConditions">없음</td>
                                    <td id="type3ZeroConditions">0개</td>
                                    <td id="type3NewMemberNote">신입직원 - incentive 없음</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- incentive 금액 정보 -->
                <div class="card mb-4 border-0 shadow-sm">
                    <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <h5 class="mb-0">💰 incentive 지급액 calculation 방법</h5>
                    </div>
                    <div class="card-body">
                        <!-- TYPE-1 incentive 테이블 -->
                        <h6 style="color: #667eea; font-weight: 600;" class="mb-3" id="type1CalculationTitle">TYPE-1 직급별 incentive calculation 방법 및 actual 예시</h6>
                        <table class="table table-sm table-hover mb-4" style="border: 1px solid #e0e0e0;">
                            <thead style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                <tr>
                                    <th width="20%" class="calc-header-position">직급</th>
                                    <th width="40%" class="calc-header-method">calculation 방법</th>
                                    <th width="40%" class="calc-header-example">actual calculation 예시 (2025year 9month)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong><span class="calc-position-manager">1. MANAGER</span></strong></td>
                                    <td><strong><span class="calc-conditions-met">조건 충족시 TYPE-1 평균 incentive</span></strong><br>
                                        <span class="text-primary"><span class="calc-incentive-label">incentive</span> = <span class="calc-line-leader-avg">Line Leader 평균</span> × 3.5</span><br>
                                        <span class="calc-apply-condition-attendance">apply 조건: 출근(1-4) = 4개 조건</span></td>
                                    <td><span class="calc-line-leader-avg">Line Leader 평균</span>: 138,485 VND<br>
                                        <span class="calc-calculation-label">calculation</span>: 138,485 × 3.5 = <strong>484,698 VND</strong><br>
                                        <span class="calc-condition-not-met-zero">조건 미충족 → 0 VND</span></td>
                                </tr>
                                <tr>
                                    <td><strong><span class="calc-position-amanager">2. A.MANAGER</span></strong></td>
                                    <td><strong><span class="calc-conditions-met">조건 충족시 TYPE-1 평균 incentive</span></strong><br>
                                        <span class="text-primary"><span class="calc-incentive-label">incentive</span> = <span class="calc-line-leader-avg">Line Leader 평균</span> × 3</span><br>
                                        <span class="calc-apply-condition-attendance">apply 조건: 출근(1-4) = 4개 조건</span></td>
                                    <td><span class="calc-example-employee" data-employee="618030049">예시: 618030049 직원</span><br>
                                        <span class="calc-line-leader-avg">Line Leader 평균</span>: 127,767 VND<br>
                                        <span class="calc-calculation-label">calculation</span>: 127,767 × 3 = <strong>383,301 VND</strong></td>
                                </tr>
                                <tr>
                                    <td><strong><span class="calc-position-vsupervisor">3. (V) SUPERVISOR</span></strong></td>
                                    <td><strong><span class="calc-conditions-met">조건 충족시 TYPE-1 평균 incentive</span></strong><br>
                                        <span class="text-primary"><span class="calc-incentive-label">incentive</span> = <span class="calc-line-leader-avg">Line Leader 평균</span> × 2.5</span><br>
                                        <span class="calc-apply-condition-attendance">apply 조건: 출근(1-4) = 4개 조건</span></td>
                                    <td><span class="calc-example-employee" data-employee="618040412">예시: 618040412 직원</span><br>
                                        <span class="calc-line-leader-avg">Line Leader 평균</span>: 115,500 VND<br>
                                        <span class="calc-calculation-label">calculation</span>: 115,500 × 2.5 = <strong>288,750 VND</strong></td>
                                </tr>
                                <tr>
                                    <td><strong><span class="calc-position-groupleader">4. GROUP LEADER</span></strong></td>
                                    <td><strong><span class="calc-conditions-met">조건 충족시 TYPE-1 평균 incentive</span></strong><br>
                                        <span class="text-primary"><span class="calc-incentive-label">incentive</span> = <span class="calc-line-leader-avg">Line Leader 평균</span> × 2</span><br>
                                        <span class="calc-apply-condition-attendance">apply 조건: 출근(1-4) = 4개 조건</span></td>
                                    <td><span class="calc-example-employee" data-employee="619030390">예시: 619030390 직원</span><br>
                                        <span class="calc-condition-not-met-days" data-days="4">조건 미충족(근무일 4일)</span><br>
                                        → <strong>0 VND</strong></td>
                                </tr>
                                <tr>
                                    <td><strong><span class="calc-position-lineleader">5. LINE LEADER</span></strong></td>
                                    <td><strong><span class="calc-subordinate-incentive">부하직원 incentive based calculation</span></strong><br>
                                        <span class="text-primary"><span class="calc-incentive-label">incentive</span> = (<span class="calc-subordinate-total">부하직원 total</span> <span class="calc-incentive-label">incentive</span> × 12%) × (<span class="calc-receive-ratio">수령 비율</span>)</span><br>
                                        <span class="calc-apply-condition-lineleader">apply 조건: 출근(1-4) + 팀/구역 AQL(7) = 5개 조건</span></td>
                                    <td><span class="calc-example-employee" data-employee="619020468">예시: 619020468 직원</span><br>
                                        <span class="calc-subordinate-total">부하직원 total</span>: 1,270,585 VND<br>
                                        <span class="calc-calculation-label">calculation</span>: 1,270,585 × 0.12 × (8/10)<br>
                                        = <strong>152,470 VND</strong></td>
                                </tr>
                                <tr style="background-color: #fff3e0;">
                                    <td><strong><span class="calc-position-aqlinspector">6. AQL INSPECTOR</span></strong></td>
                                    <td><strong><span class="calc-special-calculation">Part1 + Part2 + Part3 특별 calculation</span></strong><br>
                                        <div style="margin-top: 8px;"><strong><span class="calc-aql-evaluation">Part 1: AQL 평가 결과</span></strong></div>
                                        <small><span class="calc-level-a">Level-A</span> <span class="calc-month-range-1">1개월</span>: 150,000 | <span class="calc-month-range-2">2개월</span>: 250,000<br>
                                        <span class="calc-month-range-3">3개월</span>: 300,000 | <span class="calc-month-range-4">4개월</span>: 350,000<br>
                                        <span class="calc-month-range-5">5개월</span>: 400,000 | <span class="calc-month-range-6">6개월</span>: 450,000<br>
                                        <span class="calc-month-range-7">7개월</span>: 500,000 | <span class="calc-month-range-8">8개월</span>: 650,000<br>
                                        <span class="calc-month-range-9">9개월</span>: 750,000 | <span class="calc-month-range-10">10개월</span>: 850,000<br>
                                        <span class="calc-month-range-11">11개월</span>: 950,000 | <span class="calc-month-range-12plus">12개월+</span>: 1,000,000</small><br>
                                        <div style="margin-top: 8px;"><strong><span class="calc-cfa-certificate">Part 2: CFA 자격증</span></strong></div>
                                        <small><span class="calc-cfa-holder-bonus">CFA 자격증 보유시</span>: 700,000</small><br>
                                        <div style="margin-top: 8px;"><strong><span class="calc-hwk-claim">Part 3: HWK 클레임 방지</span></strong></div>
                                        <small><span class="calc-month-range-1-3">1-3개월</span>: 0 (대기 기간)<br>
                                        <span class="calc-month-range-4-6">4-6개월</span>: 300,000<br>
                                        <span class="calc-month-range-7-9">7-9개월</span>: 500,000<br>
                                        <span class="calc-month-range-10-12">10-12개월</span>: 700,000<br>
                                        <span class="calc-month-range-13plus">13개월+</span>: 900,000</small></td>
                                    <td><span class="calc-example-employee" data-employee="618110077">예시: 618110077 직원</span><br>
                                        Part1: 1,000,000 (<span class="calc-months-text" data-months="12">12개월</span>)<br>
                                        Part2: 700,000 (<span class="calc-cfa-holder">CFA 보유</span>)<br>
                                        Part3: 900,000 (<span class="calc-months-text" data-months="13">13개월</span>)<br>
                                        <span class="calc-total-label">합계</span>: 2,600,000 VND</td>
                                </tr>
                                <tr style="background-color: #f0f4ff;">
                                    <td><strong><span class="calc-position-assemblyinspector">7. ASSEMBLY INSPECTOR</span></strong></td>
                                    <td><strong><span class="calc-consecutive-month-incentive">연속 충족 개월 기준 incentive</span></strong><br>
                                        <small><span class="calc-apply-condition-assembly">apply 조건: 1-4(출근), 5-6(개인AQL), 9-10(5PRS)</span></small><br>
                                        <span class="calc-month-range-0to1">0-1개월</span>: 150,000 | <span class="calc-month-range-2">2개월</span>: 250,000<br>
                                        <span class="calc-month-range-3">3개월</span>: 300,000 | <span class="calc-month-range-4">4개월</span>: 350,000<br>
                                        <span class="calc-month-range-5">5개월</span>: 400,000 | <span class="calc-month-range-6">6개월</span>: 450,000<br>
                                        <span class="calc-month-range-7">7개월</span>: 500,000 | <span class="calc-month-range-8">8개월</span>: 650,000<br>
                                        <span class="calc-month-range-9">9개월</span>: 750,000 | <span class="calc-month-range-10">10개월</span>: 850,000<br>
                                        <span class="calc-month-range-11">11개월</span>: 950,000 | <span class="calc-month-range-12plus">12개월+</span>: 1,000,000</td>
                                    <td><strong><span class="calc-example-consecutive" data-months="10">예시: 10개월 연속 충족</span></strong><br>
                                        ✅ <span class="calc-attendance-rate">출근율</span> 92% ≥88%<br>
                                        ✅ <span class="calc-unauthorized-absence">무단결근</span> <span class="calc-days-text" data-days="0">0일</span> ≤<span class="calc-days-text" data-days="2">2일</span><br>
                                        ✅ <span class="calc-working-days">근무일</span> <span class="calc-days-text" data-days="20">20일</span> ≥<span class="calc-days-text" data-days="12">12일</span><br>
                                        ✅ <span class="calc-personal-aql-failures">개인AQL failed</span> <span class="calc-cases-text" data-cases="0">0cases</span><br>
                                        ✅ 5PRS <span class="calc-pass-rate">통과율</span> 98% ≥95%<br>
                                        ✅ 5PRS <span class="calc-inspection-quantity">검사량</span> <span class="calc-pieces-text" data-pieces="250">250족</span> ≥100<br>
                                        → <strong>850,000 VND</strong></td>
                                </tr>
                                <tr style="background-color: #f0f4ff;">
                                    <td><strong><span class="calc-position-audittraining">8. AUDIT & TRAINING</span></strong></td>
                                    <td><strong><span class="calc-consecutive-month-incentive">연속 충족 개월 기준 incentive</span></strong><br>
                                        <small><span class="calc-apply-condition-audit">apply 조건: 1-4(출근), 7(팀AQL), 8(reject율)</span></small><br>
                                        <span class="calc-month-range-0to1">0-1개월</span>: 150,000 | <span class="calc-month-range-2">2개월</span>: 250,000<br>
                                        <span class="calc-month-range-3">3개월</span>: 300,000 | <span class="calc-month-range-4">4개월</span>: 350,000<br>
                                        <span class="calc-month-range-5">5개월</span>: 400,000 | <span class="calc-month-range-6">6개월</span>: 450,000<br>
                                        <span class="calc-month-range-7">7개월</span>: 500,000 | <span class="calc-month-range-8">8개월</span>: 650,000<br>
                                        <span class="calc-month-range-9">9개월</span>: 750,000 | <span class="calc-month-range-10">10개월</span>: 850,000<br>
                                        <span class="calc-month-range-11">11개월</span>: 950,000 | <span class="calc-month-range-12plus">12개월+</span>: 1,000,000</td>
                                    <td><strong><span class="calc-example-not-met-reset">예시: 조건 미충족 → 리셋</span></strong><br>
                                        <span class="calc-previous-month">전month</span>: <span class="calc-consecutive-months" data-months="11">11개월 연속</span> → 950,000<br>
                                        <span class="calc-current-month-eval">당month 평가</span>:<br>
                                        ✅ <span class="calc-all-attendance-met">출근 조건 모두 충족</span><br>
                                        ✅ <span class="calc-team-aql-no-fail">팀AQL 연속failed 없음</span><br>
                                        ❌ <span class="calc-reject-rate">reject율</span> 4.35% >3%<br>
                                        → <span class="calc-reset-to-zero">연속개월 0으로 리셋</span><br>
                                        → <strong>0 VND</strong></td>
                                </tr>
                                <tr>
                                    <td><strong><span class="calc-position-modelmaster">9. MODEL MASTER</span></strong></td>
                                    <td><strong><span class="calc-consecutive-month-incentive">연속 충족 개월 기준 incentive</span></strong><br>
                                        <small><span class="calc-apply-condition-model">apply 조건: 1-4(출근), 8(reject율 <3%)</span></small><br>
                                        <span class="calc-month-range-0to1">0-1개월</span>: 150,000 | <span class="calc-month-range-2">2개월</span>: 250,000<br>
                                        <span class="calc-month-range-3">3개월</span>: 300,000 | <span class="calc-month-range-4">4개월</span>: 350,000<br>
                                        <span class="calc-month-range-5">5개월</span>: 400,000 | <span class="calc-month-range-6">6개월</span>: 450,000<br>
                                        <span class="calc-month-range-7">7개월</span>: 500,000 | <span class="calc-month-range-8">8개월</span>: 650,000<br>
                                        <span class="calc-month-range-9">9개월</span>: 750,000 | <span class="calc-month-range-10">10개월</span>: 850,000<br>
                                        <span class="calc-month-range-11">11개월</span>: 950,000 | <span class="calc-month-range-12plus">12개월+</span>: 1,000,000</td>
                                    <td><strong><span class="calc-example-max-achieved" data-months="12">예시: 12개월 이상 최대</span></strong><br>
                                        <span class="calc-previous-month">전month</span>: <span class="calc-months-text" data-months="15">15개월</span> → 1,000,000<br>
                                        <span class="calc-current-month-eval">당month 평가</span>:<br>
                                        ✅ <span class="calc-attendance-rate">출근율</span> 95% ≥88%<br>
                                        ✅ <span class="calc-unauthorized-absence">무단결근</span> <span class="calc-days-text" data-days="1">1일</span> ≤<span class="calc-days-text" data-days="2">2일</span><br>
                                        ✅ <span class="calc-working-days">근무일</span> <span class="calc-days-text" data-days="18">18일</span> ≥<span class="calc-days-text" data-days="12">12일</span><br>
                                        ✅ <span class="calc-reject-rate">reject율</span> 2.5% <3%<br>
                                        → <span class="calc-consecutive-months" data-months="16">16개월 연속 충족</span><br>
                                        → <strong>1,000,000 VND</strong></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <!-- TYPE-1 ASSEMBLY INSPECTOR 연속 목표 달성시 incentive 지급 기준 -->
                        <h6 style="color: #667eea; font-weight: 600;" class="mb-3" id="assemblyInspectorIncentiveTitle">TYPE-1 ASSEMBLY INSPECTOR 연속 work incentive</h6>
                        <table class="table table-sm table-hover mb-4" style="border: 1px solid #e0e0e0;">
                            <thead style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                <tr>
                                    <th class="consecutive-achievement-header">연속 목표 달성 개월</th>
                                    <th class="incentive-amount-header">incentive 금액 (VND)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="month-text-1">1개월</span></td>
                                    <td>150,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-2">2개월</span></td>
                                    <td>250,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-3">3개월</span></td>
                                    <td>300,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-4">4개월</span></td>
                                    <td>350,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-5">5개월</span></td>
                                    <td>400,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-6">6개월</span></td>
                                    <td>450,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-7">7개월</span></td>
                                    <td>500,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-8">8개월</span></td>
                                    <td>650,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-9">9개월</span></td>
                                    <td>750,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-10">10개월</span></td>
                                    <td>850,000</td>
                                </tr>
                                <tr>
                                    <td><span class="month-text-11">11개월</span></td>
                                    <td>950,000</td>
                                </tr>
                                <tr style='background-color: #e8f5e9; font-weight: bold;'>
                                    <td><span class="month-text-12">12개월</span><span class='month-or-more'>이상</span></td>
                                    <td>1,000,000</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <!-- TYPE-2 incentive calculation 방법 -->
                        <h6 style="color: #667eea; font-weight: 600;" class="mb-3" id="type2CalculationTitle">TYPE-2 total 직급 incentive calculation 방법</h6>
                        <div class="alert" style="background-color: #f0f4ff; border-left: 4px solid #667eea; color: #333;" class="mb-3">
                            <strong>📊 <span id="type2PrincipleLabel">TYPE-2 calculation principle:</span></strong> <span id="type2PrincipleText">TYPE-2 직급은 corresponding하는 TYPE-1 직급의 평균 incentive를 기준으로 calculation됩니다.</span>
                        </div>
                        <table class="table table-sm table-hover mb-4" style="border: 1px solid #e0e0e0;">
                            <thead style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                <tr>
                                    <th width="25%" class="type2-calc-header-position">TYPE-2 직급</th>
                                    <th width="25%" class="type2-calc-header-reference">참조 TYPE-1 직급</th>
                                    <th width="25%" class="type2-calc-header-method">calculation 방법</th>
                                    <th width="25%" class="type2-calc-header-average">2025year 9month 평균</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>1. (V) SUPERVISOR</strong></td>
                                    <td>TYPE-1 (V) SUPERVISOR</td>
                                    <td>(V) SUPERVISOR <span class="average-text">평균</span></td>
                                    <td>357,977 VND</td>
                                </tr>
                                <tr>
                                    <td><strong>2. A.MANAGER</strong></td>
                                    <td>TYPE-1 A.MANAGER</td>
                                    <td>A.MANAGER <span class="average-text">평균</span></td>
                                    <td>383,301 VND</td>
                                </tr>
                                <tr>
                                    <td><strong>3. GROUP LEADER</strong></td>
                                    <td>TYPE-1 GROUP LEADER</td>
                                    <td>GROUP LEADER <span class="average-text">평균</span></td>
                                    <td>254,659 VND</td>
                                </tr>
                                <tr>
                                    <td><strong>4. LINE LEADER</strong></td>
                                    <td>TYPE-1 LINE LEADER</td>
                                    <td>LINE LEADER <span class="average-text">평균</span></td>
                                    <td>127,767 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>5. AQL INSPECTOR</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>6. ASSEMBLY INSPECTOR</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>7. STITCHING INSPECTOR</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>8. BOTTOM INSPECTOR</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>9. CUTTING INSPECTOR</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>10. MTL INSPECTOR</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>11. OCPT STAFF</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>12. OSC INSPECTOR</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>13. QA TEAM</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                                <tr style="background-color: #fafafa;">
                                    <td><strong>14. RQC</strong></td>
                                    <td>TYPE-1 ASSEMBLY INSPECTOR</td>
                                    <td>ASSEMBLY INSPECTOR <span class="average-text">평균</span></td>
                                    <td>369,531 VND</td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- TYPE-2 GROUP LEADER 특별 calculation 규칙 설직원 -->
                        <div class="alert alert-warning mb-4">
                            <h6 style="color: #856404;" id="type2GroupLeaderSpecialTitle">⚠️ TYPE-2 GROUP LEADER 특별 calculation 규칙</h6>
                            <ul class="mb-0">
                                <li id="type2BaseCalc"><strong>기본 calculation:</strong> TYPE-1 GROUP LEADER 평균 incentive use</li>
                                <li id="type2IndependentCalc"><strong>TYPE-1 평균이 0 VND인 경우:</strong> 모든 TYPE-2 LINE LEADER 평균 × 2로 독립 calculation</li>
                                <li id="type2Important"><strong>중요:</strong> 부하직원 관계 without total TYPE-2 LINE LEADER 평균 use</li>
                                <li id="type2Conditions"><strong>apply 조건:</strong> TYPE-2는 출근 조건(1-4번)만 충족하면 incentive 지급</li>
                            </ul>
                        </div>

                        <!-- TYPE-3 incentive -->
                        <h6 style="color: #667eea; font-weight: 600;" class="mb-3" id="type3SectionTitle">TYPE-3 신입 직원 incentive</h6>
                        <table class="table table-sm table-hover mb-4" style="border: 1px solid #e0e0e0;">
                            <thead style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                <tr>
                                    <th class="type3-position-header">구분</th>
                                    <th class="type3-standard-incentive-header">기준 incentive</th>
                                    <th class="type3-calculation-method-header">calculation 방법</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="type3-new-qip-member">NEW QIP MEMBER</td>
                                    <td>0 VND</td>
                                    <td><span class="type3-no-incentive">신입 직원은 incentive 지급 없음.</span><br>
                                        <span class="type3-one-month-training">단, 1달 후 work지 배치한 다음부터</span><br>
                                        <span class="type3-type-reclassification">TYPE을 변경하며, incentive 지급 조건 부여됨</span></td>
                                </tr>
                            </tbody>
                        </table>
                        
                    </div>
                </div>
                
                <!-- 추가 정보 섹션 -->
                <div class="card mb-4">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0" id="goodToKnowTitle">💡 Good to Know</h5>
                    </div>
                    <div class="card-body">
                        <h6 class="text-primary mb-3" id="corePrinciplesSubtitle">Core Principles of Incentive Calculation</h6>
                        <ul class="list-group mb-3">
                            <li class="list-group-item">
                                <strong>📌 <span class="failure-principle-label">actual 지급액:</span></strong> <span class="failure-principle-text">표시된 금액 range는 예시이며, actual 지급액은 개인의 성과와 조건 충족 여부에 따라 달라집니다.</span>
                            </li>
                            <li class="list-group-item">
                                <strong>📊 <span class="type2-principle-label">TYPE-2 동적 calculation:</span></strong> <span class="type2-principle-text">TYPE-2 직원의 incentive는 매month corresponding TYPE-1 직급의 actual 평균값으로 자동 calculation됩니다.</span>
                            </li>
                            <li class="list-group-item">
                                <strong>🔄 <span class="consecutive-bonus-label">연속성 보상:</span></strong> <span class="consecutive-bonus-text">ASSEMBLY INSPECTOR는 연속 work 개월이 증가할수록 incentive가 단계적으로 상승합니다.</span>
                            </li>
                            <li class="list-group-item">
                                <strong>⚡ <span class="special-calculation-label">특별 calculation 직급:</span></strong> <span class="special-calculation-text">AQL INSPECTOR(3단계 합산: Part1 + Part2 + Part3)</span>
                            </li>
                            <li class="list-group-item">
                                <strong>🎯 <span class="condition-failure-label">조건 미충족시:</span></strong> <span class="condition-failure-text">하나라도 필count 조건을 충족하지 못하면 incentive가 0이 됩니다.</span>
                            </li>
                        </ul>
                        
                        <h6 class="text-success mb-3" id="monthlyIncentiveChangeReasonsTitle">monthby incentive 변동 요인</h6>
                        <table class="table table-sm table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th class="change-factors-header">변동 요인</th>
                                    <th class="impact-header">영향</th>
                                    <th class="example-header">예시</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="minimum-days-label">근무일count</td>
                                    <td class="less-than-12-days">12일 미만시 미지급</td>
                                    <td class="november-11-days">11일 work → 0 VND</td>
                                </tr>
                                <tr>
                                    <td class="attendance-rate-label">출근율</td>
                                    <td class="less-than-88-percent">88% 미만시 미지급</td>
                                    <td class="attendance-example">87% 출근율 → 0 VND</td>
                                </tr>
                                <tr>
                                    <td class="unauthorized-absence-label">무단결근</td>
                                    <td class="more-than-3-days">3일 이상시 미지급</td>
                                    <td class="unauthorized-example">3일 무단결근 → 0 VND</td>
                                </tr>
                                <tr>
                                    <td class="aql-failure-label">AQL failed</td>
                                    <td class="current-month-failure">corresponding 직급만 영향</td>
                                    <td class="aql-failure-example">AQL failed → 조건 미충족</td>
                                </tr>
                                <tr>
                                    <td class="fprs-pass-rate-label">5PRS 통과율</td>
                                    <td class="less-than-95-percent">95% 미만시 미지급 (corresponding자)</td>
                                    <td class="fprs-example">94% → 0 VND</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- calculation 예시 섹션 / Calculation Example Section -->
                <div class="card mb-4">
                    <div class="card-header bg-warning">
                        <h5 class="mb-0" id="faqCalculationExampleTitle">📐 actual calculation 예시</h5>
                    </div>
                    <div class="card-body">
                        <h6 class="text-primary mb-3" id="faqCase1Title">예시 1: TYPE-1 ASSEMBLY INSPECTOR (10개월 연속 work)</h6>
                        <div class="alert alert-light">
                            <p><strong id="faqCase1EmployeeLabel">직원:</strong> BÙI THỊ KIỀU LY (619060201)</p>
                            <p><strong id="faqCase1PrevMonthLabel">전month 상태:</strong> <span id="faqCase1PrevMonthText">9개월 연속 work, 750,000 VND 수령</span></p>
                            <p><strong id="faqCase1ConditionsLabel">당month 조건 충족:</strong></p>
                            <ul id="faqCase1ConditionsList">
                                <li>✅ <span class="faq-attendance-label">출근율:</span> 92% (≥88%)</li>
                                <li>✅ <span class="faq-absence-label">무단결근:</span> <span class="faq-absence-value">0일</span> (≤<span class="faq-absence-limit">2일</span>)</li>
                                <li>✅ <span class="faq-actual-days-label">actual 근무일:</span> <span class="faq-actual-days-value">20일</span> (><span class="faq-actual-days-min">0일</span>)</li>
                                <li>✅ <span class="faq-min-days-label">최소 근무일:</span> <span class="faq-min-days-value">20일</span> (≥<span class="faq-min-days-req">12일</span>)</li>
                                <li>✅ <span class="faq-aql-current-label">개인 AQL (당month):</span> <span class="faq-aql-current-value">failed 0cases</span></li>
                                <li>✅ <span class="faq-aql-consecutive-label">개인 AQL (연속):</span> <span class="faq-aql-consecutive-value">3연속 개월 실패 없음</span></li>
                                <li>✅ <span class="faq-fprs-rate-label">5PRS 통과율:</span> 97% (≥95%)</li>
                                <li>✅ <span class="faq-fprs-qty-label">5PRS 검사량:</span> <span class="faq-fprs-qty-value">150개</span> (≥<span class="faq-fprs-qty-min">100개</span>)</li>
                            </ul>
                            <p><strong id="faqCase1ResultLabel">결과:</strong> <span id="faqCase1ResultText">모든 조건 충족 → <span class="badge bg-success">10개월 연속 → 850,000 VND 지급</span></span></p>
                        </div>
                        
                        <h6 class="text-primary mb-3 mt-4" id="faqCase2Title">예시 2: AUDIT & TRAINING TEAM (담당구역 reject율 calculation)</h6>
                        <div class="alert alert-light">
                            <p><strong id="faqCase2EmployeeLabel">직원:</strong> VÕ THỊ THÙY LINH (AUDIT & TRAINING TEAM LEADER)</p>
                            <p><strong id="faqCase2AreaLabel">담당 구역:</strong> Building B </p>
                            <p><strong><span id="faqCase2InspectionLabel">Building B 구역 생산 total AQL 검사 PO count량:</span> <span id="faqCase2InspectionQty">100개</span></strong></p>
                            <p><strong><span id="faqCase2RejectLabel">Building B 구역 생산 total AQL 리젝 PO count량:</span> <span id="faqCase2RejectQty">2개</span></strong></p>
                            <p><strong id="faqCase2CalcLabel">calculation:</strong> 2 / 100 × 100 = 2%</p>
                            <p><strong id="faqCase2ResultLabel">결과:</strong> ✅ 2% < 3% → <span class="badge bg-success" id="faqCase2ResultBadge">조건 충족</span></p>
                        </div>
                        
                        <h6 class="text-primary mb-3 mt-4" id="faqMemberTableTitle">AUDIT & TRAINING TEAM 멤버by 담당 구역</h6>
                        <div class="table-responsive">
                            <table class="table table-sm">
                                <thead>
                                    <tr style="background-color: #f8f9fa; color: #333; border-bottom: 2px solid #667eea;">
                                        <th id="faqTableHeaderName">직원employees</th>
                                        <th id="faqTableHeaderBuilding">담당 Building</th>
                                        <th id="faqTableHeaderDesc">설직원</th>
                                        <th id="faqTableHeaderReject">Reject율</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>VÕ THỊ THÙY LINH</strong></td>
                                        <td class="faq-building-whole">total</td>
                                        <td class="faq-team-leader-desc">Team Leader - total Building total괄</td>
                                        <td style="color: #dc3545;">3.9% ❌</td>
                                    </tr>
                                    <tr>
                                        <td>CAO THỊ TỐ NGUYÊN</td>
                                        <td>Building B</td>
                                        <td>Building B & Repacking BS</td>
                                        <td style="color: #dc3545;">4.3% ❌</td>
                                    </tr>
                                    <tr>
                                        <td>NGUYỄN THÚY HẰNG</td>
                                        <td>Building C</td>
                                        <td><span>Building C </span><span class="faq-building-whole">total</span></td>
                                        <td style="color: #dc3545;">3.4% ❌</td>
                                    </tr>
                                    <tr>
                                        <td>DANH THỊ KIM ANH</td>
                                        <td>Building D</td>
                                        <td><span>Building D </span><span class="faq-building-whole">total</span></td>
                                        <td style="color: #dc3545;">3.3% ❌</td>
                                    </tr>
                                    <tr>
                                        <td>NGUYỄN THANH TRÚC</td>
                                        <td>Building A</td>
                                        <td><span>Building A </span><span class="faq-building-whole">total</span></td>
                                        <td style="color: #dc3545;">4.7% ❌</td>
                                    </tr>
                                    <tr>
                                        <td>PHẠM MỸ HUYỀN</td>
                                        <td>Building D</td>
                                        <td><span>Building D </span><span class="faq-building-whole">total</span></td>
                                        <td style="color: #dc3545;">3.3% ❌</td>
                                    </tr>
                                    <tr>
                                        <td>SẦM TRÍ THÀNH</td>
                                        <td>Building C</td>
                                        <td><span>Building C </span><span class="faq-building-whole">total</span></td>
                                        <td style="color: #dc3545;">3.4% ❌</td>
                                    </tr>
                                    <tr>
                                        <td>LÝ DĨ CƯỜNG</td>
                                        <td>-</td>
                                        <td class="faq-other-conditions">기타 조건 미충족</td>
                                        <td>-</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p class="text-muted small mt-2">
                                <span id="faqRejectRateNote">* Reject율 기준: 3% 미만 (✅ 충족, ❌ 미충족)</span><br>
                                <span id="faqMemberNote">* 9month 기준 모든 AUDIT & TRAINING TEAM 멤버가 reject율 조건 미충족으로 incentive 0원</span>
                            </p>
                        </div>
                        
                        <h6 class="text-primary mb-3 mt-4" id="faqCase3Title">예시 3: TYPE-2 STITCHING INSPECTOR</h6>
                        <div class="alert alert-light">
                            <p><strong id="faqCase3EmployeeLabel">직원:</strong> PHẠM THỊ HOA (STITCHING INSPECTOR)</p>
                            <p><strong id="faqCase3TypeLabel">직급 type:</strong> TYPE-2</p>
                            <p><strong id="faqCase3StatusLabel">조건 충족 현황:</strong></p>
                            <ul id="faqCase3ConditionsList">
                                <li>✅ <span class="faq-case3-attendance-label">출근율:</span> 95% (≥88% <span class="faq-case3-met">충족</span>)</li>
                                <li>✅ <span class="faq-case3-absence-label">무단결근:</span> <span class="faq-case3-absence-value">0일</span> (≤<span class="faq-case3-absence-limit">2일</span> <span class="faq-case3-met">충족</span>)</li>
                                <li>✅ <span class="faq-case3-actual-label">actual근무일:</span> <span class="faq-case3-actual-value">19일</span> (><span class="faq-case3-actual-min">0일</span> <span class="faq-case3-met">충족</span>)</li>
                                <li>✅ <span class="faq-case3-min-label">최소근무일:</span> <span class="faq-case3-min-value">19일</span> (≥<span class="faq-case3-min-req">12일</span> <span class="faq-case3-met">충족</span>)</li>
                            </ul>
                            <p><strong id="faqCase3CalcLabel">incentive calculation:</strong></p>
                            <p id="faqCase3Explanation">TYPE-2 STITCHING INSPECTOR는 출근 조건(1-4번)만 확인하며, 모든 조건을 충족했으므로 기본 incentive를 받습니다.</p>
                            <p><strong id="faqCase3PaymentLabel">지급액:</strong> 150,000 VND (<span id="faqCase3BasicText">TYPE-2 기본 incentive</span>)</p>
                            <p class="text-muted" id="faqCase3Note">* TYPE-2는 AQL이나 5PRS 조건 without 출근 조건만으로 incentive가 determination됩니다.</p>
                        </div>
                    </div>
                </div>
                
                <!-- 출근 calculation 공식 -->
                <div class="card mb-4">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0" id="attendanceCalcTitle">📊 출근율 calculation 방식</h5>
                    </div>
                    <div class="card-body">
                        <div class="formula-box p-3 bg-light rounded mb-3">
                            <h6 id="attendanceFormulaTitle">actual calculation 공식 (시스템 구현):</h6>
                            <code class="d-block p-2 bg-white rounded mb-2" id="attendanceFormula1">
                                출근율(%) = 100 - 결근율(%)
                            </code>
                            <code class="d-block p-2 bg-white rounded" id="attendanceFormula2">
                                결근율(%) = (결근 thcount / total 근무일) × 100
                            </code>
                            <p class="mt-2 text-muted small" id="attendanceFormulaNote">* 결근 thcount = total 근무일 - actual 근무일 - 승인된 휴가</p>
                        </div>
                        
                        <div class="formula-box p-3 bg-light rounded mb-3">
                            <h6 id="attendanceExamplesTitle">결근율 calculation 예시:</h6>
                            <div class="alert alert-light">
                                <strong id="attendanceExample1Title">예시 1: 정상 work자</strong><br>
                                • <span class="att-total-days-label">total 근무일</span>: 27<span class="att-days-unit">th</span><br>
                                • <span class="att-actual-days-label">actual 근무일</span>: 25<span class="att-days-unit">th</span><br>
                                • <span class="att-approved-leave-label">승인된 휴가</span>: 2<span class="att-days-unit">th</span> (<span class="att-annual-leave">연차</span>)<br>
                                • <span class="att-absence-days-label">결근 thcount</span>: 27 - 25 - 2 = 0<span class="att-days-unit">th</span><br>
                                • <span class="att-absence-rate-label">결근율</span>: (0 / 27) × 100 = <strong>0%</strong><br>
                                • <span class="att-attendance-rate-label">출근율</span>: 100 - 0 = <strong>100%</strong> ✅
                            </div>
                            <div class="alert alert-light">
                                <strong id="attendanceExample2Title">예시 2: 무단결근 포함</strong><br>
                                • <span class="att-total-days-label">total 근무일</span>: 27<span class="att-days-unit">th</span><br>
                                • <span class="att-actual-days-label">actual 근무일</span>: 22<span class="att-days-unit">th</span><br>
                                • <span class="att-approved-leave-label">승인된 휴가</span>: 1<span class="att-days-unit">th</span> (<span class="att-sick-leave">병가</span>)<br>
                                • <span class="att-unauthorized-absence-label">무단결근</span>: 4<span class="att-days-unit">th</span> (AR1)<br>
                                • <span class="att-absence-days-label">결근 thcount</span>: 27 - 22 - 1 = 4<span class="att-days-unit">th</span><br>
                                • <span class="att-absence-rate-label">결근율</span>: (4 / 27) × 100 = <strong>14.8%</strong><br>
                                • <span class="att-attendance-rate-label">출근율</span>: 100 - 14.8 = <strong>85.2%</strong> ❌ (<span class="att-less-than-88">88% 미만</span>)
                            </div>
                            <div class="alert alert-light">
                                <strong id="attendanceExample3Title">예시 3: 조건 충족 경계선</strong><br>
                                • <span class="att-total-days-label">total 근무일</span>: 27<span class="att-days-unit">th</span><br>
                                • <span class="att-actual-days-label">actual 근무일</span>: 24<span class="att-days-unit">th</span><br>
                                • <span class="att-approved-leave-label">승인된 휴가</span>: 0<span class="att-days-unit">th</span><br>
                                • <span class="att-unauthorized-absence-label">무단결근</span>: 3<span class="att-days-unit">th</span> (AR1)<br>
                                • <span class="att-absence-days-label">결근 thcount</span>: 27 - 24 - 0 = 3<span class="att-days-unit">th</span><br>
                                • <span class="att-absence-rate-label">결근율</span>: (3 / 27) × 100 = <strong>11.1%</strong><br>
                                • <span class="att-attendance-rate-label">출근율</span>: 100 - 11.1 = <strong>88.9%</strong> ✅ (<span class="att-more-than-88">88% 이상</span>)<br>
                                • <span id="attendanceCondition2NotMet">단, 무단결근 3일로 조건 2 미충족 → incentive 0원</span>
                            </div>
                        </div>
                        
                        <div class="formula-box p-3 bg-light rounded mb-3">
                            <h6 id="attendanceClassificationTitle">결근 사유by 분류:</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <p class="text-success"><strong id="attendanceNotIncludedTitle">✅ 결근율에 포함 안됨 (승인된 휴가):</strong></p>
                                    <ul class="small">
                                        <li>Sinh thường 1 con (<span class="att-maternity-leave">출산휴가</span>)</li>
                                        <li>Phép năm (<span class="att-annual-leave-vn">연차휴가</span>)</li>
                                        <li>Vắng có phép (<span class="att-approved-absence">승인된 휴가</span>)</li>
                                        <li>Dưỡng sức sinh thường (<span class="att-postpartum-rest">출산 후 요양</span>)</li>
                                        <li>Khám thai bình thường (<span class="att-prenatal-checkup">산전검진</span>)</li>
                                        <li>Con dưới 3 tuổi bị bệnh (<span class="att-childcare-leave">육아휴가</span>)</li>
                                        <li>AR2 - ốm ngắn ngày (<span class="att-short-sick-leave">병가</span>)</li>
                                        <li>Đi công tác (<span class="att-business-trip">출장</span>)</li>
                                        <li>Nghĩa vụ quân sự (<span class="att-military-service">군복무</span>)</li>
                                        <li class="text-info"><strong>Đi làm không quẹt thẻ</strong> (<span class="att-card-not-swiped">출퇴근 체크 누락</span>)</li>
                                        <li class="text-info"><strong>Công nhân viên mới</strong> (<span class="att-new-employee">신규입사 특례</span>)</li>
                                        <li class="text-info"><strong>Nghỉ bù</strong> (<span class="att-compensatory-leave">대체휴무</span>)</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <p class="text-danger"><strong id="attendanceIncludedTitle">❌ 결근율에 포함됨 (무단결근):</strong></p>
                                    <ul class="small">
                                        <li><strong>AR1 - Vắng không phép</strong> (<span class="att-unauthorized-absence-ar1">무단결근</span>)</li>
                                        <li><strong>AR1 - Gửi thư</strong> (<span class="att-written-notice-absence">서면통지 결근</span>)</li>
                                    </ul>
                                    <div class="alert alert-warning mt-3">
                                        <strong id="attendanceCountingRulesTitle">📢 무단결근 카운팅 규칙:</strong>
                                        <ul class="mb-0 small">
                                            <li id="attendanceCountingRule1">AR1 카테고리만 무단결근으로 카운트</li>
                                            <li id="attendanceCountingRule2">2일까지는 incentive 지급 가능</li>
                                            <li id="attendanceCountingRule3">3일 이상 → incentive 0원</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="formula-box p-3 bg-light rounded">
                            <h6 id="attendanceConditionCriteriaTitle">조건 충족 기준:</h6>
                            <ul>
                                <li id="attendanceCriteria1"><strong>출근율:</strong> ≥ 88% (결근율 ≤ 12%)</li>
                                <li id="attendanceCriteria2"><strong>무단결근:</strong> ≤ 2일 (AR1 카테고리만 corresponding)</li>
                                <li id="attendanceCriteria3"><strong>actual 근무일:</strong> > 0일</li>
                                <li id="attendanceCriteria4"><strong>최소 근무일:</strong> ≥ 12일</li>
                            </ul>
                            <div class="alert alert-info mt-2">
                                <strong id="attendanceUnapprovedTitle">📊 Unapproved Absence Days 설직원:</strong>
                                <ul class="mb-0 small">
                                    <li id="attendanceUnapproved1">HR 시스템에서 제공하는 무단결근 thcount data</li>
                                    <li id="attendanceUnapproved2">AR1 (Vắng không phép) 카테고리만 집계</li>
                                    <li id="attendanceUnapproved3">서면통지 결근(Gửi thư)도 AR1에 포함</li>
                                    <li id="attendanceUnapproved4">incentive 조건: ≤2일 (개인별 최대 허용치)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- QIP Talent Pool 프로그램 설직원 섹션 -->
                <div class="card mb-4">
                    <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <h5 class="mb-0" id="talentProgramTitle">🌟 QIP Talent Pool incentive 프로그램</h5>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info mb-4">
                            <p class="mb-0" id="talentProgramIntro">
                                <strong>QIP Talent Pool</strong>은 우수한 성과를 보이는 인원들을 대상으로 하는 특별 incentive 프로그램입니다.
                                선정된 인원은 6개월간 매month 추가 보너스를 받게 됩니다.
                            </p>
                        </div>
                        
                        <h6 class="mb-3" id="talentProgramQualificationTitle">🎯 선정 기준</h6>
                        <ul id="talentProgramQualifications">
                            <li>업무 성과 우수자</li>
                            <li>품질 목표 달성률 상위 10%</li>
                            <li>팀워크 및 리더십 발휘</li>
                            <li>지속적인 개선 활동 참여</li>
                        </ul>
                        
                        <h6 class="mb-3 mt-4" id="talentProgramBenefitsTitle">💰 혜택</h6>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="card bg-light">
                                    <div class="card-body">
                                        <h6 id="talentProgramMonthlyBonusTitle">month 특별 보너스</h6>
                                        <h4 class="text-primary">150,000 VND</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card bg-light">
                                    <div class="card-body">
                                        <h6 id="talentProgramTotalBonusTitle">total 지급 예정액 (6개월)</h6>
                                        <h4 class="text-success">900,000 VND</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <h6 class="mb-3" id="talentProgramProcessTitle">📋 평가 프로세스 (6개월 주기)</h6>
                        <div class="timeline-container">
                            <style>
                                .timeline-container {
                                    position: relative;
                                    padding: 20px 0;
                                }
                                .timeline-step {
                                    display: flex;
                                    align-items: center;
                                    margin-bottom: 20px;
                                    position: relative;
                                }
                                .timeline-step:not(:last-child)::before {
                                    content: '';
                                    position: absolute;
                                    left: 20px;
                                    top: 40px;
                                    width: 2px;
                                    height: calc(100% + 20px);
                                    background: #dee2e6;
                                }
                                .timeline-number {
                                    width: 40px;
                                    height: 40px;
                                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                    color: white;
                                    border-radius: 50%;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    font-weight: bold;
                                    flex-shrink: 0;
                                    margin-right: 15px;
                                }
                                .timeline-content {
                                    background: #f8f9fa;
                                    padding: 10px 15px;
                                    border-radius: 8px;
                                    flex: 1;
                                }
                            </style>
                            
                            <div class="timeline-step">
                                <div class="timeline-number">1</div>
                                <div class="timeline-content">
                                    <strong id="talentStep1Title">후보자 추천</strong>
                                    <p class="mb-0 text-muted small" id="talentStep1Desc">각 부서에서 우수 인원 추천</p>
                                </div>
                            </div>
                            
                            <div class="timeline-step">
                                <div class="timeline-number">2</div>
                                <div class="timeline-content">
                                    <strong id="talentStep2Title">성과 평가</strong>
                                    <p class="mb-0 text-muted small" id="talentStep2Desc">최근 3개월간 성과 data 분석</p>
                                </div>
                            </div>
                            
                            <div class="timeline-step">
                                <div class="timeline-number">3</div>
                                <div class="timeline-content">
                                    <strong id="talentStep3Title">위원회 심사</strong>
                                    <p class="mb-0 text-muted small" id="talentStep3Desc">QIP 운영위원회 final 심사</p>
                                </div>
                            </div>
                            
                            <div class="timeline-step">
                                <div class="timeline-number">4</div>
                                <div class="timeline-content">
                                    <strong id="talentStep4Title">final 선정</strong>
                                    <p class="mb-0 text-muted small" id="talentStep4Desc">Talent Pool 멤버 확정 및 공지</p>
                                </div>
                            </div>
                            
                            <div class="timeline-step">
                                <div class="timeline-number">5</div>
                                <div class="timeline-content">
                                    <strong id="talentStep5Title">보너스 지급</strong>
                                    <p class="mb-0 text-muted small" id="talentStep5Desc">매month 정기 incentive와 함께 지급</p>
                                </div>
                            </div>
                            
                            <div class="timeline-step">
                                <div class="timeline-number">6</div>
                                <div class="timeline-content">
                                    <strong id="talentStep6Title">재평가</strong>
                                    <p class="mb-0 text-muted small" id="talentStep6Desc">6개월 후 재평가 실시</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="alert alert-warning mt-4">
                            <h6 id="talentProgramImportantTitle">⚠️ 중요 사항</h6>
                            <ul class="mb-0" id="talentProgramImportantNotes">
                                <li>Talent Pool 보너스는 기본 incentive와 by도로 지급됩니다</li>
                                <li>지급 기간 중 퇴사 시 자격이 자동 상실됩니다</li>
                                <li>성과 미달 시 조기 end될 count 있습니다</li>
                                <li>매 6개월마다 재평가를 통해 갱신 여부가 determination됩니다</li>
                            </ul>
                        </div>
                        
                        <div class="card mt-4" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                            <div class="card-body text-center">
                                <h5 id="talentProgramCurrentTitle">🎉 현재 Talent Pool 멤버</h5>
                                <div id="talentProgramCurrentMembers" class="mt-3">
                                    <!-- JavaScript로 현재 멤버 표시 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 섹션 -->
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0" id="faqSectionTitle">❓ 자주 묻는 질문 (FAQ)</h5>
                    </div>
                    <div class="card-body">
                        <style>
                            .faq-item {
                                border: 1px solid #ddd;
                                border-radius: 5px;
                                margin-bottom: 10px;
                            }
                            .faq-question {
                                background-color: #f8f9fa;
                                padding: 15px;
                                cursor: pointer;
                                font-weight: bold;
                                border-radius: 5px;
                                transition: background-color 0.3s;
                            }
                            .faq-question:hover {
                                background-color: #e9ecef;
                            }
                            .faq-question::before {
                                content: "▶ ";
                                display: inline-block;
                                transition: transform 0.3s;
                            }
                            .faq-question.active::before {
                                transform: rotate(90deg);
                            }
                            .faq-answer {
                                padding: 15px;
                                display: none;
                                background-color: #fff;
                                border-top: 1px solid #ddd;
                            }
                            .faq-answer.show {
                                display: block;
                            }
                        </style>
                        
                        <div class="faq-container">
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion1">
                                    Q1. 왜 나는 incentive를 못 받았나요? 조건을 확인하는 방법은?
                                </div>
                                <div class="faq-answer">
                                    <strong id="faqAnswer1Main">incentive를 받지 못한 주요 이유:</strong>
                                    <ul>
                                        <li id="faqAnswer1Reason1">최소 근무일 12일 미충족</li>
                                        <li id="faqAnswer1Reason2">출근율 88% 미만</li>
                                        <li id="faqAnswer1Reason3">무단결근 3일 이상</li>
                                        <li id="faqAnswer1Reason4">AQL failed (corresponding 직급)</li>
                                        <li id="faqAnswer1Reason5">5PRS 통과율 95% 미만 (corresponding 직급)</li>
                                    </ul>
                                    <span id="faqAnswer1CheckMethod">개인별 상세 페이지에서 본인의 조건 충족 여부를 확인할 count 있습니다.</span>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion2">
                                    Q2. 무단결근이 며칠까지 허용되나요?
                                </div>
                                <div class="faq-answer">
                                    <strong id="faqAnswer2Main">무단결근은 최대 2일까지 허용됩니다.</strong> <span id="faqAnswer2Detail">3일 이상 무단결근시 corresponding month incentive를 받을 count not found. 사전 승인된 휴가나 병가는 무단결근에 포함되지 not.</span>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion3">
                                    Q3. TYPE-2 직급의 incentive는 어떻게 calculation되나요?
                                </div>
                                <div class="faq-answer">
                                    <span id="faqAnswer3Main">TYPE-2 직급의 incentive는 corresponding하는 TYPE-1 직급의 평균 incentive를 기준으로 calculation됩니다.</span>
                                    <span id="faqAnswer3Example">예를 들어:</span>
                                    <ul>
                                        <li id="faqAnswer3Example1">TYPE-2 GROUP LEADER는 TYPE-1 GROUP LEADER들의 평균 incentive</li>
                                        <li id="faqAnswer3Example2">TYPE-2 STITCHING INSPECTOR는 TYPE-1 ASSEMBLY INSPECTOR들의 평균 incentive</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion4">
                                    Q4. ASSEMBLY INSPECTOR의 연속 work 개월은 어떻게 calculation되나요?
                                </div>
                                <div class="faq-answer">
                                    <span id="faqAnswer4Main">TYPE-1 ASSEMBLY INSPECTOR만 corresponding되며, 조건을 충족하며 incentive를 받은 개월count가 누적됩니다.</span>
                                    <ul>
                                        <li id="faqAnswer4Detail1">조건 미충족으로 incentive를 못 받으면 0개월로 리셋</li>
                                        <li id="faqAnswer4Detail2">12개월 이상 연속시 최대 incentive 1,000,000 VND</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion5">
                                    Q5. AQL failed가 무엇이고 어떤 영향을 미치나요?
                                </div>
                                <div class="faq-answer">
                                    <span id="faqAnswer5Main">AQL(Acceptable Quality Limit)은 품질 검사 기준입니다.</span>
                                    <ul>
                                        <li id="faqAnswer5Detail1">개인 AQL failed: corresponding month에 품질 검사 failed한 경우</li>
                                        <li id="faqAnswer5Detail2">3연속 개월 실패: 지난 3개월 동안 연속으로 failed한 경우</li>
                                        <li id="faqAnswer5Detail3">AQL 관련 직급만 영향받음 (INSPECTOR 계열 등)</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion6">
                                    Q6. 5PRS 검사량이 부족하면 어떻게 되나요?
                                </div>
                                <div class="faq-answer">
                                    <span id="faqAnswer6Main">5PRS 관련 직급은 다음 조건을 충족해야 합니다:</span>
                                    <ul>
                                        <li id="faqAnswer6Detail1">검사량 100족 이상</li>
                                        <li id="faqAnswer6Detail2">통과율 95% 이상</li>
                                    </ul>
                                    <strong id="faqAnswer6Conclusion">둘 중 하나라도 미충족시 incentive를 받을 count not found.</strong>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion7">
                                    Q7. 출산휴가나 병가 중에도 incentive를 받을 count 있나요?
                                </div>
                                <div class="faq-answer">
                                    <strong id="faqAnswer7Main">출산휴가나 장기 병가 중에는 incentive가 지급되지 not.</strong>
                                    <ul>
                                        <li id="faqAnswer7Detail1">최소 근무일 12일 조건을 충족할 count 없기 때문</li>
                                        <li id="faqAnswer7Detail2">복귀 후 조건 충족시 다시 incentive 수령 가능</li>
                                        <li id="faqAnswer7Detail3">ASSEMBLY INSPECTOR의 경우 연속 개월count는 0으로 리셋</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion8">
                                    Q8. 전month incentive와 차이가 나는 이유는 무엇인가요?
                                </div>
                                <div class="faq-answer">
                                    <span id="faqAnswer8Main">incentive 금액이 변동하는 주요 이유:</span>
                                    <ul>
                                        <li id="faqAnswer8Reason1"><strong>ASSEMBLY INSPECTOR</strong>: 연속 work 개월 변화</li>
                                        <li id="faqAnswer8Reason2"><strong>TYPE-2 직급</strong>: TYPE-1 평균값 변동</li>
                                        <li id="faqAnswer8Reason3"><strong>AQL INSPECTOR</strong>: Part1, Part2, Part3 조건 변화</li>
                                        <li id="faqAnswer8Reason4"><strong>조건 미충족</strong>: 하나라도 미충족시 0</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion9">
                                    Q9. TYPE-3에서 TYPE-2로 승진하면 incentive가 어떻게 변하나요?
                                </div>
                                <div class="faq-answer">
                                    <ul>
                                        <li id="faqAnswer9Detail1"><strong>TYPE-3</strong>: 조건 without 기본 150,000 VND (work시 자동 지급)</li>
                                        <li id="faqAnswer9Detail2"><strong>TYPE-2</strong>: 조건 충족 필요, TYPE-1 평균 기준 calculation</li>
                                        <li id="faqAnswer9Detail3">승진 후 조건 충족시 th반적으로 incentive 증가</li>
                                        <li id="faqAnswer9Detail4">하지만 조건 미충족시 0이 될 count 있으므로 주의 필요</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion10">
                                    Q10. 조건을 모두 충족했는데도 incentive가 0인 이유는 무엇인가요?
                                </div>
                                <div class="faq-answer">
                                    <span id="faqAnswer10Main">다음 사항을 재확인해 보세요:</span>
                                    <ul>
                                        <li id="faqAnswer10Reason1"><strong>숨겨진 조건</strong>: 직급별로 apply되는 모든 조건 확인</li>
                                        <li id="faqAnswer10Reason2"><strong>데이터 업데이트</strong>: 최신 data 반영 여부</li>
                                        <li id="faqAnswer10Reason3"><strong>특별한 사유</strong>: 징계, 경고 등 특별 사유</li>
                                        <li id="faqAnswer10Reason4"><strong>시스템 오류</strong>: HR 부서에 문의</li>
                                    </ul>
                                    <span id="faqAnswer10Conclusion">개인별 상세 페이지에서 조건별 충족 여부를 상세히 확인하시기 바랍니다.</span>
                                </div>
                            </div>

                            <div class="faq-item">
                                <div class="faq-question" onclick="toggleFAQ(this)" id="faqQuestion11">
                                    Q11. TYPE-2 GROUP LEADER가 incentive를 못 받는 경우가 있나요?
                                </div>
                                <div class="faq-answer">
                                    <span id="faqAnswer11Main">TYPE-2 GROUP LEADER는 특별한 calculation 규칙이 apply됩니다:</span>
                                    <ul>
                                        <li id="faqAnswer11Detail1"><strong>기본 calculation:</strong> TYPE-1 GROUP LEADER 평균 incentive를 받습니다</li>
                                        <li id="faqAnswer11Detail2"><strong>독립 calculation:</strong> TYPE-1 GROUP LEADER 평균이 0 VNDth 경우, 자동으로 total TYPE-2 LINE LEADER 평균 × 2로 calculation됩니다</li>
                                        <li id="faqAnswer11Detail3"><strong>개선 사항:</strong> 부하직원 관계와 상관without total TYPE-2 LINE LEADER 평균을 use하여 더 공정한 calculation이 이루어집니다</li>
                                        <li id="faqAnswer11Detail4"><strong>조건:</strong> TYPE-2는 출근 조건(1-4번)만 충족하면 incentive를 받을 count 있습니다</li>
                                    </ul>
                                    <span id="faqAnswer11Conclusion">따라서 출근 조건을 충족한 TYPE-2 GROUP LEADER는 항상 incentive를 받을 count 있도록 보장됩니다.</span>
                                </div>
                            </div>
                        </div>
                        
                        <script>
                            function toggleFAQ(element) {
                                const answer = element.nextElementSibling;
                                const allAnswers = document.querySelectorAll('.faq-answer');
                                const allQuestions = document.querySelectorAll('.faq-question');
                                
                                // 다른 모든 답변 닫기
                                allAnswers.forEach(a => {
                                    if (a !== answer) {
                                        a.classList.remove('show');
                                    }
                                });
                                allQuestions.forEach(q => {
                                    if (q !== element) {
                                        q.classList.remove('active');
                                    }
                                });
                                
                                // 현재 항목 토글
                                answer.classList.toggle('show');
                                element.classList.toggle('active');
                            }
                        </script>
                    </div>
                </div>
                
                <!-- Multi-language Script - Removed duplicate event listener -->
            </div>

            <!-- 조직도 탭 -->
            <div id="orgchart" class="tab-content">
                <div class="card">
                    <div class="card-body">
                        <h3 id="orgChartTitle" class="mb-4">조직 구조도 (TYPE-1)</h3>

                        <!-- 제외된 직급 안내 -->
                        <div class="alert alert-info mb-3" style="background: #e3f2fd; border: 1px solid #1976d2; color: #0d47a1;">
                            <i class="fas fa-info-circle"></i>
                            <strong><span id="orgChartNoteLabel">참고</span>:</strong>
                            <span id="orgChartExcludedPositions">AQL INSPECTOR, AUDIT & TRAINING TEAM, MODEL MASTER 직급은 조직도에서 제외되었습니다.</span>
                        </div>

                        <!-- 동적 경로 표시 (Breadcrumb) -->
                        <div id="orgBreadcrumb" class="breadcrumb mb-3" style="background: #f8f9fa; padding: 10px; border-radius: 4px;">
                            <span id="orgBreadcrumbText" style="color: #666;">total 조직</span>
                        </div>

                        <!-- 필터 옵션 -->
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <select id="orgIncentiveFilter" class="form-select" onchange="updateOrgChart()">
                                    <option value="" id="filterAll">total 보기</option>
                                    <option value="paid" id="filterPaid">incentive 수령자</option>
                                    <option value="unpaid" id="filterUnpaid">incentive 미수령자</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <button class="btn btn-primary w-100" onclick="expandAll()">
                                    <i class="fas fa-expand"></i> <span id="expandAllBtn">total 펼치기</span>
                                </button>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-secondary w-100" onclick="collapseAll()">
                                    <i class="fas fa-compress"></i> <span id="collapseAllBtn">total 접기</span>
                                </button>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-primary" onclick="resetOrgChart()">
                                    <i class="fas fa-redo"></i> <span id="resetViewBtn">초기화</span>
                                </button>
                            </div>
                            <!-- 저장 버튼 제거 -->
                        </div>

                        <!-- 범례 -->
                        <div class="mb-3">
                            <div class="d-flex flex-wrap gap-3">
                                <span><span style="display:inline-block; width:15px; height:15px; background:#1f77b4; border-radius:3px;"></span> Manager</span>
                                <span><span style="display:inline-block; width:15px; height:15px; background:#2ca02c; border-radius:3px;"></span> Supervisor</span>
                                <span><span style="display:inline-block; width:15px; height:15px; background:#ff7f0e; border-radius:3px;"></span> Group Leader</span>
                                <span><span style="display:inline-block; width:15px; height:15px; background:#d62728; border-radius:3px;"></span> Line Leader</span>
                                <span><span style="display:inline-block; width:15px; height:15px; background:#9467bd; border-radius:3px;"></span> Inspector</span>
                                <span><span style="display:inline-block; width:15px; height:15px; background:#8c564b; border-radius:3px;"></span> Others</span>
                                <span class="ms-3"><span style="display:inline-block; width:15px; height:15px; border: 2px solid #28a745; border-radius:3px;"></span> <span id="legendReceived">incentive 수령</span></span>
                                <span><span style="display:inline-block; width:15px; height:15px; border: 2px solid #dc3545; border-radius:3px;"></span> <span id="legendNotReceived">incentive 미수령</span></span>
                            </div>
                        </div>

                        <!-- 새로운 접이식 조직도 컨테이너 -->
                        <div id="orgChartContainer" class="collapsible-tree">
                            <!-- 제목 및 설직원 -->
                            <div class="org-header">
                                <h4 id="orgChartTitleMain">TYPE-1 관리자 incentive 구조</h4>
                                <p id="orgChartSubtitleMain" class="text-muted">TYPE-1 managers receiving incentive 기준 subordinate performance</p>
                            </div>

                            <!-- 검색 및 필터 컨트롤 -->
                            <div class="org-controls mb-3">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="fas fa-search"></i></span>
                                            <input type="text" id="orgSearchInput" class="form-control" placeholder="직원 이름 또는 ID 검색...">
                                            <button class="btn btn-outline-secondary" id="orgSearchClear" type="button">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="btn-group" role="group">
                                            <button id="expandAllBtn" class="btn btn-outline-primary">
                                                <i class="fas fa-expand"></i> <span id="expandAllText">모두 펼치기</span>
                                            </button>
                                            <button id="collapseAllBtn" class="btn btn-outline-primary">
                                                <i class="fas fa-compress"></i> <span id="collapseAllText">모두 접기</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 사용 안내 -->
                            <div class="alert alert-info mb-3" role="alert" style="background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); border-left: 4px solid #6366f1;">
                                <i class="fas fa-info-circle me-2"></i>
                                <strong>💡 <span id="usageGuideTitle"></span></strong> <span id="usageGuideText"></span>
                                <span class="float-end text-muted small" id="usageGuideHelpText"></span>
                            </div>

                            <!-- 범례 -->
                            <div class="org-legend mb-3">
                                <h6 id="legendTitle">범례</h6>
                                <div class="legend-items">
                                    <span class="legend-item">
                                        <span class="legend-box" style="background:#2ca02c;"></span>
                                        <span id="legendManager">Manager</span>
                                    </span>
                                    <span class="legend-item">
                                        <span class="legend-box" style="background:#1f77b4;"></span>
                                        <span id="legendSupervisor">Supervisor</span>
                                    </span>
                                    <span class="legend-item">
                                        <span class="legend-box" style="background:#ff7f0e;"></span>
                                        <span id="legendGroupLeader">Group Leader</span>
                                    </span>
                                    <span class="legend-item">
                                        <span class="legend-box" style="background:#d62728;"></span>
                                        <span id="legendLineLeader">Line Leader</span>
                                    </span>
                                    <span class="legend-item ms-3">
                                        <span class="legend-dot received"></span>
                                        <span id="legendIncentiveReceived">incentive 수령</span>
                                    </span>
                                    <span class="legend-item">
                                        <span class="legend-dot not-received"></span>
                                        <span id="legendNoIncentive">incentive 미수령</span>
                                    </span>
                                </div>
                            </div>

                            <div id="orgTreeContent">
                                <!-- JavaScript로 동적 creation됨 -->
                            </div>
                        </div>


                        <!-- 직원 정보 툴팁 -->
                        <div id="orgTooltip" style="position: absolute; visibility: hidden; background: white; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); z-index: 1000;">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 검증 탭 -->
        <div id="validation" class="tab-content">
            <h3 id="validationTabTitle">요약 및 시스템 검증</h3>

            <!-- interim report 알림 (20일 이전 report인 경우에만 표시) -->
            <div id="interimReportNotice" class="alert alert-warning" style="display: none;">
                <i class="fas fa-info-circle"></i>
                <span id="interimReportText">interim report - 최소 근무일(12일) 및 출근율(88%) 조건이 apply되지 not</span>
            </div>

            <!-- KPI 카드 스타th -->
            <style>
                .kpi-cards-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                    gap: 20px;
                    margin-bottom: 30px;
                }

                .kpi-card {
                    padding: 25px;
                    border-radius: 15px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    position: relative;
                    overflow: hidden;
                    background: white;
                    border: 1px solid #e0e0e0;
                }

                .kpi-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
                }

                .kpi-card::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 5px;
                    background: linear-gradient(90deg, var(--card-color-1), var(--card-color-2));
                }

                .kpi-icon {
                    font-size: 2.5em;
                    margin-bottom: 15px;
                    display: inline-block;
                    background: linear-gradient(135deg, var(--card-color-1), var(--card-color-2));
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
                }

                .kpi-value {
                    font-size: 2.8em;
                    font-weight: 700;
                    color: #2c3e50;
                    margin: 10px 0;
                    letter-spacing: -0.5px;
                }

                .kpi-label {
                    color: #7f8c8d;
                    font-size: 0.95em;
                    font-weight: 500;
                    margin-top: 10px;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                .kpi-subtitle {
                    color: #95a5a6;
                    font-size: 0.75em;
                    font-weight: 400;
                    margin-top: 5px;
                    font-style: italic;
                    opacity: 0.9;
                }

                .kpi-card.warning {
                    background: #fff3cd;
                    border-color: #ffc107;
                }

                .kpi-card.danger {
                    background: #f8d7da;
                    border-color: #dc3545;
                }

                .kpi-card.success {
                    background: #d4edda;
                    border-color: #28a745;
                }

                .kpi-card.info {
                    background: #d1ecf1;
                    border-color: #17a2b8;
                }
            </style>

            <!-- KPI 카드 그리드 -->
            <div class="kpi-cards-grid">
                <!-- KPI 카드 1: 총 근무일수 -->
                <div class="kpi-card" onclick="showValidationModal('totalWorkingDays')" style="--card-color-1: #4a90e2; --card-color-2: #5ca0f2; box-shadow: 0 4px 15px rgba(74, 144, 226, 0.1);">
                    <div class="kpi-icon">📅</div>
                    <div class="kpi-value" id="kpiTotalWorkingDays">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.totalWorkingDays">총 근무일수</div>
                </div>

                <!-- KPI 카드 2: 무단결근 3일 이상 -->
                <div class="kpi-card" onclick="showValidationModal('absentWithoutInform')" style="--card-color-1: #f39c12; --card-color-2: #f1c40f; box-shadow: 0 4px 15px rgba(243, 156, 18, 0.1);"
                     title="" data-i18n-title="validationKpi.absentWithoutInformTooltip">
                    <div class="kpi-icon">⚠️</div>
                    <div class="kpi-value" id="kpiAbsentWithoutInform">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.absentWithoutInform">무단결근 ≥3일</div>
                    <div class="kpi-subtitle" data-i18n="validationKpi.absentWithoutInformSubtitle">인센티브 자동 제외</div>
                </div>

                <!-- KPI 카드 3: 실제 근무일 0일 -->
                <div class="kpi-card" onclick="showValidationModal('zeroWorkingDays')" style="--card-color-1: #e74c3c; --card-color-2: #c0392b; box-shadow: 0 4px 15px rgba(231, 76, 60, 0.1);"
                     title="" data-i18n-title="validationKpi.zeroWorkingDaysTooltip">
                    <div class="kpi-icon">🚫</div>
                    <div class="kpi-value" id="kpiZeroWorkingDays">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.zeroWorkingDays">실제 근무일 0일</div>
                    <div class="kpi-subtitle" data-i18n="validationKpi.zeroWorkingDaysSubtitle">정당한 사유 포함</div>
                </div>

                <!-- KPI 카드 4: 최소 근무일 미충족 -->
                <div class="kpi-card" onclick="showValidationModal('minimumDaysNotMet')" style="--card-color-1: #95a5a6; --card-color-2: #7f8c8d; box-shadow: 0 4px 15px rgba(149, 165, 166, 0.1);">
                    <div class="kpi-icon">📉</div>
                    <div class="kpi-value" id="kpiMinimumDaysNotMet">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.minimumDaysNotMet">최소 근무일 미충족</div>
                </div>

                <!-- KPI 카드 5: 출근율 88% 미만 -->
                <div class="kpi-card" onclick="showValidationModal('attendanceBelow88')" style="--card-color-1: #9b59b6; --card-color-2: #8e44ad; box-shadow: 0 4px 15px rgba(155, 89, 182, 0.1);"
                     title="" data-i18n-title="validationKpi.attendanceBelow88Tooltip">
                    <div class="kpi-icon">📊</div>
                    <div class="kpi-value" id="kpiAttendanceBelow88">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.attendanceBelow88">출근율 88% 미만</div>
                    <div class="kpi-subtitle" data-i18n="validationKpi.attendanceBelow88Subtitle">정당한 사유 제외</div>
                </div>

                <!-- KPI 카드 6: AQL FAIL 보유자 -->
                <div class="kpi-card" onclick="showValidationModal('aqlFail')" style="--card-color-1: #e67e22; --card-color-2: #d35400; box-shadow: 0 4px 15px rgba(230, 126, 34, 0.1);">
                    <div class="kpi-icon">❌</div>
                    <div class="kpi-value" id="kpiAqlFail">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.aqlFail">AQL FAIL 보유자</div>
                </div>

                <!-- KPI 카드 7: 3개월 연속 AQL FAIL -->
                <div class="kpi-card" onclick="showValidationModal('consecutiveAqlFail')" style="--card-color-1: #c0392b; --card-color-2: #a93226; box-shadow: 0 4px 15px rgba(192, 57, 43, 0.1);">
                    <div class="kpi-icon">🔴</div>
                    <div class="kpi-value" id="kpiConsecutiveAqlFail">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.consecutiveAqlFail">3개월 연속 AQL FAIL</div>
                </div>

                <!-- KPI 카드 8: 구역 AQL Reject 3% 이상 -->
                <div class="kpi-card" onclick="showValidationModal('areaRejectRate')" style="--card-color-1: #3498db; --card-color-2: #2980b9; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.1);">
                    <div class="kpi-icon">📊</div>
                    <div class="kpi-value" id="kpiAreaRejectRate">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.areaRejectRate">구역 AQL Reject ≥3%</div>
                </div>

                <!-- KPI 카드 9: 5PRS 통과율 < 95% -->
                <div class="kpi-card" onclick="showValidationModal('lowPassRate')" style="--card-color-1: #9b59b6; --card-color-2: #8e44ad; box-shadow: 0 4px 15px rgba(155, 89, 182, 0.1);">
                    <div class="kpi-icon">📉</div>
                    <div class="kpi-value" id="kpiLowPassRate">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.lowPassRate">5PRS Pass Rate < 95%</div>
                </div>

                <!-- KPI 카드 10: 5PRS 검사량 < 100족 -->
                <div class="kpi-card" onclick="showValidationModal('lowInspectionQty')" style="--card-color-1: #1abc9c; --card-color-2: #16a085; box-shadow: 0 4px 15px rgba(26, 188, 156, 0.1);">
                    <div class="kpi-icon">🔍</div>
                    <div class="kpi-value" id="kpiLowInspectionQty">-</div>
                    <div class="kpi-label" data-i18n="validationKpi.lowInspectionQty">5PRS Inspection < 100 pairs</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 직원 상세 모달 (Bootstrap 5) -->
    <div class="modal fade" id="employeeModal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle">직원 상세 정보</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modalBody">
                    <!-- JavaScript로 채워질 예정 -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal" id="employeeModalCloseBtn" data-translate="closeButton">닫기</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Position 상세 모달 (Bootstrap 5) -->
    <div class="modal fade" id="positionModal" tabindex="-1" aria-labelledby="positionModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="positionModalLabel" data-translate="positionModal">직급별 상세 정보</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="positionModalBody">
                    <!-- JavaScript로 채워질 예정 -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal" id="positionModalCloseBtn" data-translate="closeButton">닫기</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 모든 JSON data를 by도의 script 태그에 저장 -->
    <script type="application/json" id="employeeDataBase64">
        W3siZW1wX25vIjoiNjI1MDkwMjkzIiwiZW1wbG95ZWVfbm8iOiI2MjUwOTAyOTMiLCJFbXBsb3llZSBObyI6IjYyNTA5MDI5MyIsIm5hbWUiOiJEQU5IIEzhu5xJIiwiZnVsbF9uYW1lIjoiREFOSCBM4bucSSIsIkZ1bGwgTmFtZSI6IkRBTkggTOG7nEkiLCJwb3NpdGlvbiI6Ik5FVyIsInFpcF9wb3NpdGlvbiI6Ik5FVyIsIlFJUCBQT1NJVElPTiAxU1QgTkFNRSI6Ik5FVyIsInR5cGUiOiJUWVBFLTMiLCJib3NzX2lkIjoiIiwiYm9zc19uYW1lIjoiIiwiTVNUIGRpcmVjdCBib3NzIG5hbWUiOiIiLCJkaXJlY3QgYm9zcyBuYW1lIjoiIiwic2VwdGVtYmVyX2luY2VudGl2ZSI6IjAiLCJhdWd1c3RfaW5jZW50aXZlIjoiMC4wIiwianVseV9pbmNlbnRpdmUiOiIwIiwianVuZV9pbmNlbnRpdmUiOiIwIiwi7Lac6re87JyoX0F0dGVuZGFuY2VfUmF0ZV9QZXJjZW50IjowLjAsImFjdHVhbF93b3JraW5nX2RheXMiOjIsIkFjdHVhbCBXb3JraW5nIERheXMiOjIsInVuYXBwcm92ZWRfYWJzZW5jZXMiOjAsIlVuYXBwcm92ZWQgQWJzZW5jZXMiOjAsImFic2VuY2VfcmF0ZSI6MC4wLCJjb25kaXRpb24xIjoibm8iLCJjb25kaXRpb24yIjoibm8iLCJjb25kaXRpb24zIjoieWVzIiwiY29uZGl0aW9uNCI6Im5vIiwiYXFsX2ZhaWx1cmVzIjowLCJjb250aW51b3VzX2ZhaWwiOiJOTyIsImFyZWFfcmVqZWN0X3JhdGUiOjAuMCwiYXJlYV9jb25zZWN1dGl2ZV9mYWlsIjoiTk8iLCJwYXNzX3JhdGUiOjAuMCwidmFsaWRhdGlvbl9xdHkiOjAsIlRhbGVudF9Qb29sX01lbWJlciI6Ik4iLCJUYWxlbnRfUG9vbF9Cb251cyI6MCwiY29uZF8xX3ZhbHVlIjoxMi41LCJjb25kXzFfdGhyZXNob2xkIjo4OC4wLCJjb25kaXRpb25fcmVzdWx0cyI6W3siaWQiOjEsIm5hbWUiOiLstpzqt7zsnKggODglIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjoyLCJuYW1lIjoi66y064uo6rKw6re8IDLsnbwg7J207ZWYIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjMsIm5hbWUiOiLsi6TsoJzqt7zrrLTsnbwgMOydvCDstIjqs7wiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NCwibmFtZSI6Iuy1nOyGjCDqt7zrrLTsnbwgMTLsnbwg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjUsIm5hbWUiOiLqsJzsnbhBUUw6IOuLueyblOyLpO2MqCAw6rG0IiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjYsIm5hbWUiOiLsl7Dsho3shLEg7LK07YGsOiAz6rCc7JuUIOyXsOyGjSDsi6TtjKgg7JeG7J2MIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjcsIm5hbWUiOiLtjIAv6rWs7JetIEFRTDogM+qwnOyblCDsl7Dsho0g7Iuk7YyoIOyXhuydjCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo4LCJuYW1lIjoi64u064u56rWs7JetIHJlamVjdCAlIDwgMyUiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6OSwibmFtZSI6IjVQUlMg7Ya16rO87JyoIDk1JSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MTAsIm5hbWUiOiI1UFJTIOqygOyCrOufiSAxMDDsobEg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9XSwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMSAtIGFjY3R1YWwgd29ya2luZyBkYXlzIGlzIHplcm8iOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDIgLSB1bmFwcHJvdmVkIEFic2VuY2UgRGF5IGlzIG1vcmUgdGhhbiAyIGRheXMiOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDMgLSBhYnNlbnQgJSBpcyBvdmVyIDEyJSI6InllcyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDQgLSBtaW5pbXVtIHdvcmtpbmcgZGF5cyI6Im5vIiwiYXFsIGNvbmRpdGlvbiA3IC0gdGVhbS9hcmVhIGZhaWwgQVFMIjoibm8iLCJTZXB0ZW1iZXIgQVFMIEZhaWx1cmVzIjowLCJDb250aW51b3VzX0ZBSUwiOiJOTyIsIkNvbnNlY3V0aXZlX0ZhaWxfTW9udGhzIjowLCI1cHJzIGNvbmRpdGlvbiAxIC0gdGhlcmUgaXMgZW5vdWdoIDUgcHJzIHZhbGlkYXRpb24gcXR5IG9yIHBhc3MgcmF0ZSBpcyBvdmVyIDk1JSI6Im5vIiwiNXBycyBjb25kaXRpb24gMiAtIFRvdGFsIFZhbGlhdGlvbiBRdHkgaXMgemVybyI6InllcyIsImNvbmRpdGlvbnNfcGFzc19yYXRlIjowLjAsImNvbmRpdGlvbnNfcGFzc2VkIjowLCJjb25kaXRpb25zX2FwcGxpY2FibGUiOjAsIldvcmtpbmcgRGF5cyI6MiwiQVFMX1RvdGFsX1Rlc3RzIjowLCJBUUxfUGFzc19Db3VudCI6MCwiQVFMX0ZhaWxfUGVyY2VudCI6MC4wLCJjb25kXzJfdW5hcHByb3ZlZF9hYnNlbmNlIjpudWxsLCJjb25kXzJfdmFsdWUiOjAuMCwiY29uZF8yX3RocmVzaG9sZCI6Mi4wLCJjb25kXzNfYWN0dWFsX3dvcmtpbmdfZGF5cyI6bnVsbCwiY29uZF8zX3ZhbHVlIjoyLjAsImNvbmRfM190aHJlc2hvbGQiOjAuMCwiY29uZF80X21pbmltdW1fZGF5cyI6bnVsbCwiY29uZF80X3ZhbHVlIjoyLjAsImNvbmRfNF90aHJlc2hvbGQiOjEyLjAsImNvbmRfNV9hcWxfcGVyc29uYWxfZmFpbHVyZSI6bnVsbCwiY29uZF81X3ZhbHVlIjowLjAsImNvbmRfNV90aHJlc2hvbGQiOjAuMCwiY29uZF82X2FxbF9jb250aW51b3VzIjpudWxsLCJjb25kXzZfdmFsdWUiOiJOTyIsImNvbmRfNl90aHJlc2hvbGQiOiJOTyIsImNvbmRfN19hcWxfdGVhbV9hcmVhIjpudWxsLCJjb25kXzdfdmFsdWUiOm51bGwsImNvbmRfN190aHJlc2hvbGQiOiJOTyIsImNvbmRfOF9hcmVhX3JlamVjdCI6bnVsbCwiY29uZF84X3ZhbHVlIjpudWxsLCJjb25kXzhfdGhyZXNob2xkIjozLjAsImNvbmRfOV81cHJzX3Bhc3NfcmF0ZSI6bnVsbCwiY29uZF85X3ZhbHVlIjpudWxsLCJjb25kXzlfdGhyZXNob2xkIjo5NS4wLCJjb25kXzEwXzVwcnNfaW5zcGVjdGlvbl9xdHkiOm51bGwsImNvbmRfMTBfdmFsdWUiOm51bGwsImNvbmRfMTBfdGhyZXNob2xkIjoxMDAuMH0seyJlbXBfbm8iOiI2MjUwOTAyOTMiLCJlbXBsb3llZV9ubyI6IjYyNTA5MDI5MyIsIkVtcGxveWVlIE5vIjoiNjI1MDkwMjkzIiwibmFtZSI6IkRBTkggTOG7nEkiLCJmdWxsX25hbWUiOiJEQU5IIEzhu5xJIiwiRnVsbCBOYW1lIjoiREFOSCBM4bucSSIsInBvc2l0aW9uIjoiTkVXIiwicWlwX3Bvc2l0aW9uIjoiTkVXIiwiUUlQIFBPU0lUSU9OIDFTVCBOQU1FIjoiTkVXIiwidHlwZSI6IlRZUEUtMyIsImJvc3NfaWQiOiIiLCJib3NzX25hbWUiOiIiLCJNU1QgZGlyZWN0IGJvc3MgbmFtZSI6IiIsImRpcmVjdCBib3NzIG5hbWUiOiIiLCJzZXB0ZW1iZXJfaW5jZW50aXZlIjoiMCIsImF1Z3VzdF9pbmNlbnRpdmUiOiIwLjAiLCJqdWx5X2luY2VudGl2ZSI6IjAiLCJqdW5lX2luY2VudGl2ZSI6IjAiLCLstpzqt7zsnKhfQXR0ZW5kYW5jZV9SYXRlX1BlcmNlbnQiOjAuMCwiYWN0dWFsX3dvcmtpbmdfZGF5cyI6MiwiQWN0dWFsIFdvcmtpbmcgRGF5cyI6MiwidW5hcHByb3ZlZF9hYnNlbmNlcyI6MCwiVW5hcHByb3ZlZCBBYnNlbmNlcyI6MCwiYWJzZW5jZV9yYXRlIjowLjAsImNvbmRpdGlvbjEiOiJubyIsImNvbmRpdGlvbjIiOiJubyIsImNvbmRpdGlvbjMiOiJ5ZXMiLCJjb25kaXRpb240Ijoibm8iLCJhcWxfZmFpbHVyZXMiOjAsImNvbnRpbnVvdXNfZmFpbCI6Ik5PIiwiYXJlYV9yZWplY3RfcmF0ZSI6MC4wLCJhcmVhX2NvbnNlY3V0aXZlX2ZhaWwiOiJOTyIsInBhc3NfcmF0ZSI6MC4wLCJ2YWxpZGF0aW9uX3F0eSI6MCwiVGFsZW50X1Bvb2xfTWVtYmVyIjoiTiIsIlRhbGVudF9Qb29sX0JvbnVzIjowLCJjb25kXzFfdmFsdWUiOjEyLjUsImNvbmRfMV90aHJlc2hvbGQiOjg4LjAsImNvbmRpdGlvbl9yZXN1bHRzIjpbeyJpZCI6MSwibmFtZSI6Iuy2nOq3vOycqCA4OCUg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjIsIm5hbWUiOiLrrLTri6jqsrDqt7wgMuydvCDsnbTtlZgiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MywibmFtZSI6IuyLpOygnOq3vOustOydvCAw7J28IOy0iOqzvCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo0LCJuYW1lIjoi7LWc7IaMIOq3vOustOydvCAxMuydvCDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NSwibmFtZSI6IuqwnOyduEFRTDog64u57JuU7Iuk7YyoIDDqsbQiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NiwibmFtZSI6IuyXsOyGjeyEsSDssrTtgaw6IDPqsJzsm5Qg7Jew7IaNIOyLpO2MqCDsl4bsnYwiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NywibmFtZSI6Iu2MgC/qtazsl60gQVFMOiAz6rCc7JuUIOyXsOyGjSDsi6TtjKgg7JeG7J2MIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjgsIm5hbWUiOiLri7Tri7nqtazsl60gcmVqZWN0ICUgPCAzJSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo5LCJuYW1lIjoiNVBSUyDthrXqs7zsnKggOTUlIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjoxMCwibmFtZSI6IjVQUlMg6rKA7IKs65+JIDEwMOyhsSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX1dLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAxIC0gYWNjdHVhbCB3b3JraW5nIGRheXMgaXMgemVybyI6Im5vIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMiAtIHVuYXBwcm92ZWQgQWJzZW5jZSBEYXkgaXMgbW9yZSB0aGFuIDIgZGF5cyI6Im5vIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMyAtIGFic2VudCAlIGlzIG92ZXIgMTIlIjoieWVzIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gNCAtIG1pbmltdW0gd29ya2luZyBkYXlzIjoibm8iLCJhcWwgY29uZGl0aW9uIDcgLSB0ZWFtL2FyZWEgZmFpbCBBUUwiOiJubyIsIlNlcHRlbWJlciBBUUwgRmFpbHVyZXMiOjAsIkNvbnRpbnVvdXNfRkFJTCI6Ik5PIiwiQ29uc2VjdXRpdmVfRmFpbF9Nb250aHMiOjAsIjVwcnMgY29uZGl0aW9uIDEgLSB0aGVyZSBpcyBlbm91Z2ggNSBwcnMgdmFsaWRhdGlvbiBxdHkgb3IgcGFzcyByYXRlIGlzIG92ZXIgOTUlIjoibm8iLCI1cHJzIGNvbmRpdGlvbiAyIC0gVG90YWwgVmFsaWF0aW9uIFF0eSBpcyB6ZXJvIjoieWVzIiwiY29uZGl0aW9uc19wYXNzX3JhdGUiOjAuMCwiY29uZGl0aW9uc19wYXNzZWQiOjAsImNvbmRpdGlvbnNfYXBwbGljYWJsZSI6MCwiV29ya2luZyBEYXlzIjoyLCJBUUxfVG90YWxfVGVzdHMiOjAsIkFRTF9QYXNzX0NvdW50IjowLCJBUUxfRmFpbF9QZXJjZW50IjowLjAsImNvbmRfMl91bmFwcHJvdmVkX2Fic2VuY2UiOm51bGwsImNvbmRfMl92YWx1ZSI6MC4wLCJjb25kXzJfdGhyZXNob2xkIjoyLjAsImNvbmRfM19hY3R1YWxfd29ya2luZ19kYXlzIjpudWxsLCJjb25kXzNfdmFsdWUiOjIuMCwiY29uZF8zX3RocmVzaG9sZCI6MC4wLCJjb25kXzRfbWluaW11bV9kYXlzIjpudWxsLCJjb25kXzRfdmFsdWUiOjIuMCwiY29uZF80X3RocmVzaG9sZCI6MTIuMCwiY29uZF81X2FxbF9wZXJzb25hbF9mYWlsdXJlIjpudWxsLCJjb25kXzVfdmFsdWUiOjAuMCwiY29uZF81X3RocmVzaG9sZCI6MC4wLCJjb25kXzZfYXFsX2NvbnRpbnVvdXMiOm51bGwsImNvbmRfNl92YWx1ZSI6Ik5PIiwiY29uZF82X3RocmVzaG9sZCI6Ik5PIiwiY29uZF83X2FxbF90ZWFtX2FyZWEiOm51bGwsImNvbmRfN192YWx1ZSI6bnVsbCwiY29uZF83X3RocmVzaG9sZCI6Ik5PIiwiY29uZF84X2FyZWFfcmVqZWN0IjpudWxsLCJjb25kXzhfdmFsdWUiOm51bGwsImNvbmRfOF90aHJlc2hvbGQiOjMuMCwiY29uZF85XzVwcnNfcGFzc19yYXRlIjpudWxsLCJjb25kXzlfdmFsdWUiOm51bGwsImNvbmRfOV90aHJlc2hvbGQiOjk1LjAsImNvbmRfMTBfNXByc19pbnNwZWN0aW9uX3F0eSI6bnVsbCwiY29uZF8xMF92YWx1ZSI6bnVsbCwiY29uZF8xMF90aHJlc2hvbGQiOjEwMC4wfSx7ImVtcF9ubyI6IjYyNTA5MDI5MyIsImVtcGxveWVlX25vIjoiNjI1MDkwMjkzIiwiRW1wbG95ZWUgTm8iOiI2MjUwOTAyOTMiLCJuYW1lIjoiREFOSCBM4bucSSIsImZ1bGxfbmFtZSI6IkRBTkggTOG7nEkiLCJGdWxsIE5hbWUiOiJEQU5IIEzhu5xJIiwicG9zaXRpb24iOiJORVciLCJxaXBfcG9zaXRpb24iOiJORVciLCJRSVAgUE9TSVRJT04gMVNUIE5BTUUiOiJORVciLCJ0eXBlIjoiVFlQRS0zIiwiYm9zc19pZCI6IiIsImJvc3NfbmFtZSI6IiIsIk1TVCBkaXJlY3QgYm9zcyBuYW1lIjoiIiwiZGlyZWN0IGJvc3MgbmFtZSI6IiIsInNlcHRlbWJlcl9pbmNlbnRpdmUiOiIwIiwiYXVndXN0X2luY2VudGl2ZSI6IjAuMCIsImp1bHlfaW5jZW50aXZlIjoiMCIsImp1bmVfaW5jZW50aXZlIjoiMCIsIuy2nOq3vOycqF9BdHRlbmRhbmNlX1JhdGVfUGVyY2VudCI6MC4wLCJhY3R1YWxfd29ya2luZ19kYXlzIjoyLCJBY3R1YWwgV29ya2luZyBEYXlzIjoyLCJ1bmFwcHJvdmVkX2Fic2VuY2VzIjowLCJVbmFwcHJvdmVkIEFic2VuY2VzIjowLCJhYnNlbmNlX3JhdGUiOjAuMCwiY29uZGl0aW9uMSI6Im5vIiwiY29uZGl0aW9uMiI6Im5vIiwiY29uZGl0aW9uMyI6InllcyIsImNvbmRpdGlvbjQiOiJubyIsImFxbF9mYWlsdXJlcyI6MCwiY29udGludW91c19mYWlsIjoiTk8iLCJhcmVhX3JlamVjdF9yYXRlIjowLjAsImFyZWFfY29uc2VjdXRpdmVfZmFpbCI6Ik5PIiwicGFzc19yYXRlIjowLjAsInZhbGlkYXRpb25fcXR5IjowLCJUYWxlbnRfUG9vbF9NZW1iZXIiOiJOIiwiVGFsZW50X1Bvb2xfQm9udXMiOjAsImNvbmRfMV92YWx1ZSI6MTIuNSwiY29uZF8xX3RocmVzaG9sZCI6ODguMCwiY29uZGl0aW9uX3Jlc3VsdHMiOlt7ImlkIjoxLCJuYW1lIjoi7Lac6re87JyoIDg4JSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MiwibmFtZSI6IuustOuLqOqysOq3vCAy7J28IOydtO2VmCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjozLCJuYW1lIjoi7Iuk7KCc6re866y07J28IDDsnbwg7LSI6rO8IiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjQsIm5hbWUiOiLstZzshowg6re866y07J28IDEy7J28IOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo1LCJuYW1lIjoi6rCc7J24QVFMOiDri7nsm5Tsi6TtjKggMOqxtCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo2LCJuYW1lIjoi7Jew7IaN7ISxIOyytO2BrDogM+qwnOyblCDsl7Dsho0g7Iuk7YyoIOyXhuydjCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo3LCJuYW1lIjoi7YyAL+q1rOyXrSBBUUw6IDPqsJzsm5Qg7Jew7IaNIOyLpO2MqCDsl4bsnYwiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6OCwibmFtZSI6IuuLtOuLueq1rOyXrSByZWplY3QgJSA8IDMlIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjksIm5hbWUiOiI1UFJTIO2GteqzvOycqCA5NSUg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjEwLCJuYW1lIjoiNVBSUyDqsoDsgqzrn4kgMTAw7KGxIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfV0sImF0dGVuZGFuY3kgY29uZGl0aW9uIDEgLSBhY2N0dWFsIHdvcmtpbmcgZGF5cyBpcyB6ZXJvIjoibm8iLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAyIC0gdW5hcHByb3ZlZCBBYnNlbmNlIERheSBpcyBtb3JlIHRoYW4gMiBkYXlzIjoibm8iLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAzIC0gYWJzZW50ICUgaXMgb3ZlciAxMiUiOiJ5ZXMiLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiA0IC0gbWluaW11bSB3b3JraW5nIGRheXMiOiJubyIsImFxbCBjb25kaXRpb24gNyAtIHRlYW0vYXJlYSBmYWlsIEFRTCI6Im5vIiwiU2VwdGVtYmVyIEFRTCBGYWlsdXJlcyI6MCwiQ29udGludW91c19GQUlMIjoiTk8iLCJDb25zZWN1dGl2ZV9GYWlsX01vbnRocyI6MCwiNXBycyBjb25kaXRpb24gMSAtIHRoZXJlIGlzIGVub3VnaCA1IHBycyB2YWxpZGF0aW9uIHF0eSBvciBwYXNzIHJhdGUgaXMgb3ZlciA5NSUiOiJubyIsIjVwcnMgY29uZGl0aW9uIDIgLSBUb3RhbCBWYWxpYXRpb24gUXR5IGlzIHplcm8iOiJ5ZXMiLCJjb25kaXRpb25zX3Bhc3NfcmF0ZSI6MC4wLCJjb25kaXRpb25zX3Bhc3NlZCI6MCwiY29uZGl0aW9uc19hcHBsaWNhYmxlIjowLCJXb3JraW5nIERheXMiOjIsIkFRTF9Ub3RhbF9UZXN0cyI6MCwiQVFMX1Bhc3NfQ291bnQiOjAsIkFRTF9GYWlsX1BlcmNlbnQiOjAuMCwiY29uZF8yX3VuYXBwcm92ZWRfYWJzZW5jZSI6bnVsbCwiY29uZF8yX3ZhbHVlIjowLjAsImNvbmRfMl90aHJlc2hvbGQiOjIuMCwiY29uZF8zX2FjdHVhbF93b3JraW5nX2RheXMiOm51bGwsImNvbmRfM192YWx1ZSI6Mi4wLCJjb25kXzNfdGhyZXNob2xkIjowLjAsImNvbmRfNF9taW5pbXVtX2RheXMiOm51bGwsImNvbmRfNF92YWx1ZSI6Mi4wLCJjb25kXzRfdGhyZXNob2xkIjoxMi4wLCJjb25kXzVfYXFsX3BlcnNvbmFsX2ZhaWx1cmUiOm51bGwsImNvbmRfNV92YWx1ZSI6MC4wLCJjb25kXzVfdGhyZXNob2xkIjowLjAsImNvbmRfNl9hcWxfY29udGludW91cyI6bnVsbCwiY29uZF82X3ZhbHVlIjoiTk8iLCJjb25kXzZfdGhyZXNob2xkIjoiTk8iLCJjb25kXzdfYXFsX3RlYW1fYXJlYSI6bnVsbCwiY29uZF83X3ZhbHVlIjpudWxsLCJjb25kXzdfdGhyZXNob2xkIjoiTk8iLCJjb25kXzhfYXJlYV9yZWplY3QiOm51bGwsImNvbmRfOF92YWx1ZSI6bnVsbCwiY29uZF84X3RocmVzaG9sZCI6My4wLCJjb25kXzlfNXByc19wYXNzX3JhdGUiOm51bGwsImNvbmRfOV92YWx1ZSI6bnVsbCwiY29uZF85X3RocmVzaG9sZCI6OTUuMCwiY29uZF8xMF81cHJzX2luc3BlY3Rpb25fcXR5IjpudWxsLCJjb25kXzEwX3ZhbHVlIjpudWxsLCJjb25kXzEwX3RocmVzaG9sZCI6MTAwLjB9LHsiZW1wX25vIjoiNjI1MDkwMjkzIiwiZW1wbG95ZWVfbm8iOiI2MjUwOTAyOTMiLCJFbXBsb3llZSBObyI6IjYyNTA5MDI5MyIsIm5hbWUiOiJEQU5IIEzhu5xJIiwiZnVsbF9uYW1lIjoiREFOSCBM4bucSSIsIkZ1bGwgTmFtZSI6IkRBTkggTOG7nEkiLCJwb3NpdGlvbiI6Ik5FVyIsInFpcF9wb3NpdGlvbiI6Ik5FVyIsIlFJUCBQT1NJVElPTiAxU1QgTkFNRSI6Ik5FVyIsInR5cGUiOiJUWVBFLTMiLCJib3NzX2lkIjoiIiwiYm9zc19uYW1lIjoiIiwiTVNUIGRpcmVjdCBib3NzIG5hbWUiOiIiLCJkaXJlY3QgYm9zcyBuYW1lIjoiIiwic2VwdGVtYmVyX2luY2VudGl2ZSI6IjAiLCJhdWd1c3RfaW5jZW50aXZlIjoiMC4wIiwianVseV9pbmNlbnRpdmUiOiIwIiwianVuZV9pbmNlbnRpdmUiOiIwIiwi7Lac6re87JyoX0F0dGVuZGFuY2VfUmF0ZV9QZXJjZW50IjowLjAsImFjdHVhbF93b3JraW5nX2RheXMiOjIsIkFjdHVhbCBXb3JraW5nIERheXMiOjIsInVuYXBwcm92ZWRfYWJzZW5jZXMiOjAsIlVuYXBwcm92ZWQgQWJzZW5jZXMiOjAsImFic2VuY2VfcmF0ZSI6MC4wLCJjb25kaXRpb24xIjoibm8iLCJjb25kaXRpb24yIjoibm8iLCJjb25kaXRpb24zIjoieWVzIiwiY29uZGl0aW9uNCI6Im5vIiwiYXFsX2ZhaWx1cmVzIjowLCJjb250aW51b3VzX2ZhaWwiOiJOTyIsImFyZWFfcmVqZWN0X3JhdGUiOjAuMCwiYXJlYV9jb25zZWN1dGl2ZV9mYWlsIjoiTk8iLCJwYXNzX3JhdGUiOjAuMCwidmFsaWRhdGlvbl9xdHkiOjAsIlRhbGVudF9Qb29sX01lbWJlciI6Ik4iLCJUYWxlbnRfUG9vbF9Cb251cyI6MCwiY29uZF8xX3ZhbHVlIjoxMi41LCJjb25kXzFfdGhyZXNob2xkIjo4OC4wLCJjb25kaXRpb25fcmVzdWx0cyI6W3siaWQiOjEsIm5hbWUiOiLstpzqt7zsnKggODglIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjoyLCJuYW1lIjoi66y064uo6rKw6re8IDLsnbwg7J207ZWYIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjMsIm5hbWUiOiLsi6TsoJzqt7zrrLTsnbwgMOydvCDstIjqs7wiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NCwibmFtZSI6Iuy1nOyGjCDqt7zrrLTsnbwgMTLsnbwg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjUsIm5hbWUiOiLqsJzsnbhBUUw6IOuLueyblOyLpO2MqCAw6rG0IiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjYsIm5hbWUiOiLsl7Dsho3shLEg7LK07YGsOiAz6rCc7JuUIOyXsOyGjSDsi6TtjKgg7JeG7J2MIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjcsIm5hbWUiOiLtjIAv6rWs7JetIEFRTDogM+qwnOyblCDsl7Dsho0g7Iuk7YyoIOyXhuydjCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo4LCJuYW1lIjoi64u064u56rWs7JetIHJlamVjdCAlIDwgMyUiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6OSwibmFtZSI6IjVQUlMg7Ya16rO87JyoIDk1JSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MTAsIm5hbWUiOiI1UFJTIOqygOyCrOufiSAxMDDsobEg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9XSwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMSAtIGFjY3R1YWwgd29ya2luZyBkYXlzIGlzIHplcm8iOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDIgLSB1bmFwcHJvdmVkIEFic2VuY2UgRGF5IGlzIG1vcmUgdGhhbiAyIGRheXMiOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDMgLSBhYnNlbnQgJSBpcyBvdmVyIDEyJSI6InllcyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDQgLSBtaW5pbXVtIHdvcmtpbmcgZGF5cyI6Im5vIiwiYXFsIGNvbmRpdGlvbiA3IC0gdGVhbS9hcmVhIGZhaWwgQVFMIjoibm8iLCJTZXB0ZW1iZXIgQVFMIEZhaWx1cmVzIjowLCJDb250aW51b3VzX0ZBSUwiOiJOTyIsIkNvbnNlY3V0aXZlX0ZhaWxfTW9udGhzIjowLCI1cHJzIGNvbmRpdGlvbiAxIC0gdGhlcmUgaXMgZW5vdWdoIDUgcHJzIHZhbGlkYXRpb24gcXR5IG9yIHBhc3MgcmF0ZSBpcyBvdmVyIDk1JSI6Im5vIiwiNXBycyBjb25kaXRpb24gMiAtIFRvdGFsIFZhbGlhdGlvbiBRdHkgaXMgemVybyI6InllcyIsImNvbmRpdGlvbnNfcGFzc19yYXRlIjowLjAsImNvbmRpdGlvbnNfcGFzc2VkIjowLCJjb25kaXRpb25zX2FwcGxpY2FibGUiOjAsIldvcmtpbmcgRGF5cyI6MiwiQVFMX1RvdGFsX1Rlc3RzIjowLCJBUUxfUGFzc19Db3VudCI6MCwiQVFMX0ZhaWxfUGVyY2VudCI6MC4wLCJjb25kXzJfdW5hcHByb3ZlZF9hYnNlbmNlIjpudWxsLCJjb25kXzJfdmFsdWUiOjAuMCwiY29uZF8yX3RocmVzaG9sZCI6Mi4wLCJjb25kXzNfYWN0dWFsX3dvcmtpbmdfZGF5cyI6bnVsbCwiY29uZF8zX3ZhbHVlIjoyLjAsImNvbmRfM190aHJlc2hvbGQiOjAuMCwiY29uZF80X21pbmltdW1fZGF5cyI6bnVsbCwiY29uZF80X3ZhbHVlIjoyLjAsImNvbmRfNF90aHJlc2hvbGQiOjEyLjAsImNvbmRfNV9hcWxfcGVyc29uYWxfZmFpbHVyZSI6bnVsbCwiY29uZF81X3ZhbHVlIjowLjAsImNvbmRfNV90aHJlc2hvbGQiOjAuMCwiY29uZF82X2FxbF9jb250aW51b3VzIjpudWxsLCJjb25kXzZfdmFsdWUiOiJOTyIsImNvbmRfNl90aHJlc2hvbGQiOiJOTyIsImNvbmRfN19hcWxfdGVhbV9hcmVhIjpudWxsLCJjb25kXzdfdmFsdWUiOm51bGwsImNvbmRfN190aHJlc2hvbGQiOiJOTyIsImNvbmRfOF9hcmVhX3JlamVjdCI6bnVsbCwiY29uZF84X3ZhbHVlIjpudWxsLCJjb25kXzhfdGhyZXNob2xkIjozLjAsImNvbmRfOV81cHJzX3Bhc3NfcmF0ZSI6bnVsbCwiY29uZF85X3ZhbHVlIjpudWxsLCJjb25kXzlfdGhyZXNob2xkIjo5NS4wLCJjb25kXzEwXzVwcnNfaW5zcGVjdGlvbl9xdHkiOm51bGwsImNvbmRfMTBfdmFsdWUiOm51bGwsImNvbmRfMTBfdGhyZXNob2xkIjoxMDAuMH0seyJlbXBfbm8iOiI2MjUwOTAyOTMiLCJlbXBsb3llZV9ubyI6IjYyNTA5MDI5MyIsIkVtcGxveWVlIE5vIjoiNjI1MDkwMjkzIiwibmFtZSI6IkRBTkggTOG7nEkiLCJmdWxsX25hbWUiOiJEQU5IIEzhu5xJIiwiRnVsbCBOYW1lIjoiREFOSCBM4bucSSIsInBvc2l0aW9uIjoiTkVXIiwicWlwX3Bvc2l0aW9uIjoiTkVXIiwiUUlQIFBPU0lUSU9OIDFTVCBOQU1FIjoiTkVXIiwidHlwZSI6IlRZUEUtMyIsImJvc3NfaWQiOiIiLCJib3NzX25hbWUiOiIiLCJNU1QgZGlyZWN0IGJvc3MgbmFtZSI6IiIsImRpcmVjdCBib3NzIG5hbWUiOiIiLCJzZXB0ZW1iZXJfaW5jZW50aXZlIjoiMCIsImF1Z3VzdF9pbmNlbnRpdmUiOiIwLjAiLCJqdWx5X2luY2VudGl2ZSI6IjAiLCJqdW5lX2luY2VudGl2ZSI6IjAiLCLstpzqt7zsnKhfQXR0ZW5kYW5jZV9SYXRlX1BlcmNlbnQiOjAuMCwiYWN0dWFsX3dvcmtpbmdfZGF5cyI6MiwiQWN0dWFsIFdvcmtpbmcgRGF5cyI6MiwidW5hcHByb3ZlZF9hYnNlbmNlcyI6MCwiVW5hcHByb3ZlZCBBYnNlbmNlcyI6MCwiYWJzZW5jZV9yYXRlIjowLjAsImNvbmRpdGlvbjEiOiJubyIsImNvbmRpdGlvbjIiOiJubyIsImNvbmRpdGlvbjMiOiJ5ZXMiLCJjb25kaXRpb240Ijoibm8iLCJhcWxfZmFpbHVyZXMiOjAsImNvbnRpbnVvdXNfZmFpbCI6Ik5PIiwiYXJlYV9yZWplY3RfcmF0ZSI6MC4wLCJhcmVhX2NvbnNlY3V0aXZlX2ZhaWwiOiJOTyIsInBhc3NfcmF0ZSI6MC4wLCJ2YWxpZGF0aW9uX3F0eSI6MCwiVGFsZW50X1Bvb2xfTWVtYmVyIjoiTiIsIlRhbGVudF9Qb29sX0JvbnVzIjowLCJjb25kXzFfdmFsdWUiOjEyLjUsImNvbmRfMV90aHJlc2hvbGQiOjg4LjAsImNvbmRpdGlvbl9yZXN1bHRzIjpbeyJpZCI6MSwibmFtZSI6Iuy2nOq3vOycqCA4OCUg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjIsIm5hbWUiOiLrrLTri6jqsrDqt7wgMuydvCDsnbTtlZgiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MywibmFtZSI6IuyLpOygnOq3vOustOydvCAw7J28IOy0iOqzvCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo0LCJuYW1lIjoi7LWc7IaMIOq3vOustOydvCAxMuydvCDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NSwibmFtZSI6IuqwnOyduEFRTDog64u57JuU7Iuk7YyoIDDqsbQiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NiwibmFtZSI6IuyXsOyGjeyEsSDssrTtgaw6IDPqsJzsm5Qg7Jew7IaNIOyLpO2MqCDsl4bsnYwiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NywibmFtZSI6Iu2MgC/qtazsl60gQVFMOiAz6rCc7JuUIOyXsOyGjSDsi6TtjKgg7JeG7J2MIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjgsIm5hbWUiOiLri7Tri7nqtazsl60gcmVqZWN0ICUgPCAzJSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo5LCJuYW1lIjoiNVBSUyDthrXqs7zsnKggOTUlIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjoxMCwibmFtZSI6IjVQUlMg6rKA7IKs65+JIDEwMOyhsSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX1dLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAxIC0gYWNjdHVhbCB3b3JraW5nIGRheXMgaXMgemVybyI6Im5vIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMiAtIHVuYXBwcm92ZWQgQWJzZW5jZSBEYXkgaXMgbW9yZSB0aGFuIDIgZGF5cyI6Im5vIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMyAtIGFic2VudCAlIGlzIG92ZXIgMTIlIjoieWVzIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gNCAtIG1pbmltdW0gd29ya2luZyBkYXlzIjoibm8iLCJhcWwgY29uZGl0aW9uIDcgLSB0ZWFtL2FyZWEgZmFpbCBBUUwiOiJubyIsIlNlcHRlbWJlciBBUUwgRmFpbHVyZXMiOjAsIkNvbnRpbnVvdXNfRkFJTCI6Ik5PIiwiQ29uc2VjdXRpdmVfRmFpbF9Nb250aHMiOjAsIjVwcnMgY29uZGl0aW9uIDEgLSB0aGVyZSBpcyBlbm91Z2ggNSBwcnMgdmFsaWRhdGlvbiBxdHkgb3IgcGFzcyByYXRlIGlzIG92ZXIgOTUlIjoibm8iLCI1cHJzIGNvbmRpdGlvbiAyIC0gVG90YWwgVmFsaWF0aW9uIFF0eSBpcyB6ZXJvIjoieWVzIiwiY29uZGl0aW9uc19wYXNzX3JhdGUiOjAuMCwiY29uZGl0aW9uc19wYXNzZWQiOjAsImNvbmRpdGlvbnNfYXBwbGljYWJsZSI6MCwiV29ya2luZyBEYXlzIjoyLCJBUUxfVG90YWxfVGVzdHMiOjAsIkFRTF9QYXNzX0NvdW50IjowLCJBUUxfRmFpbF9QZXJjZW50IjowLjAsImNvbmRfMl91bmFwcHJvdmVkX2Fic2VuY2UiOm51bGwsImNvbmRfMl92YWx1ZSI6MC4wLCJjb25kXzJfdGhyZXNob2xkIjoyLjAsImNvbmRfM19hY3R1YWxfd29ya2luZ19kYXlzIjpudWxsLCJjb25kXzNfdmFsdWUiOjIuMCwiY29uZF8zX3RocmVzaG9sZCI6MC4wLCJjb25kXzRfbWluaW11bV9kYXlzIjpudWxsLCJjb25kXzRfdmFsdWUiOjIuMCwiY29uZF80X3RocmVzaG9sZCI6MTIuMCwiY29uZF81X2FxbF9wZXJzb25hbF9mYWlsdXJlIjpudWxsLCJjb25kXzVfdmFsdWUiOjAuMCwiY29uZF81X3RocmVzaG9sZCI6MC4wLCJjb25kXzZfYXFsX2NvbnRpbnVvdXMiOm51bGwsImNvbmRfNl92YWx1ZSI6Ik5PIiwiY29uZF82X3RocmVzaG9sZCI6Ik5PIiwiY29uZF83X2FxbF90ZWFtX2FyZWEiOm51bGwsImNvbmRfN192YWx1ZSI6bnVsbCwiY29uZF83X3RocmVzaG9sZCI6Ik5PIiwiY29uZF84X2FyZWFfcmVqZWN0IjpudWxsLCJjb25kXzhfdmFsdWUiOm51bGwsImNvbmRfOF90aHJlc2hvbGQiOjMuMCwiY29uZF85XzVwcnNfcGFzc19yYXRlIjpudWxsLCJjb25kXzlfdmFsdWUiOm51bGwsImNvbmRfOV90aHJlc2hvbGQiOjk1LjAsImNvbmRfMTBfNXByc19pbnNwZWN0aW9uX3F0eSI6bnVsbCwiY29uZF8xMF92YWx1ZSI6bnVsbCwiY29uZF8xMF90aHJlc2hvbGQiOjEwMC4wfSx7ImVtcF9ubyI6IjYyNTA5MDI5MyIsImVtcGxveWVlX25vIjoiNjI1MDkwMjkzIiwiRW1wbG95ZWUgTm8iOiI2MjUwOTAyOTMiLCJuYW1lIjoiREFOSCBM4bucSSIsImZ1bGxfbmFtZSI6IkRBTkggTOG7nEkiLCJGdWxsIE5hbWUiOiJEQU5IIEzhu5xJIiwicG9zaXRpb24iOiJORVciLCJxaXBfcG9zaXRpb24iOiJORVciLCJRSVAgUE9TSVRJT04gMVNUIE5BTUUiOiJORVciLCJ0eXBlIjoiVFlQRS0zIiwiYm9zc19pZCI6IiIsImJvc3NfbmFtZSI6IiIsIk1TVCBkaXJlY3QgYm9zcyBuYW1lIjoiIiwiZGlyZWN0IGJvc3MgbmFtZSI6IiIsInNlcHRlbWJlcl9pbmNlbnRpdmUiOiIwIiwiYXVndXN0X2luY2VudGl2ZSI6IjAuMCIsImp1bHlfaW5jZW50aXZlIjoiMCIsImp1bmVfaW5jZW50aXZlIjoiMCIsIuy2nOq3vOycqF9BdHRlbmRhbmNlX1JhdGVfUGVyY2VudCI6MC4wLCJhY3R1YWxfd29ya2luZ19kYXlzIjoyLCJBY3R1YWwgV29ya2luZyBEYXlzIjoyLCJ1bmFwcHJvdmVkX2Fic2VuY2VzIjowLCJVbmFwcHJvdmVkIEFic2VuY2VzIjowLCJhYnNlbmNlX3JhdGUiOjAuMCwiY29uZGl0aW9uMSI6Im5vIiwiY29uZGl0aW9uMiI6Im5vIiwiY29uZGl0aW9uMyI6InllcyIsImNvbmRpdGlvbjQiOiJubyIsImFxbF9mYWlsdXJlcyI6MCwiY29udGludW91c19mYWlsIjoiTk8iLCJhcmVhX3JlamVjdF9yYXRlIjowLjAsImFyZWFfY29uc2VjdXRpdmVfZmFpbCI6Ik5PIiwicGFzc19yYXRlIjowLjAsInZhbGlkYXRpb25fcXR5IjowLCJUYWxlbnRfUG9vbF9NZW1iZXIiOiJOIiwiVGFsZW50X1Bvb2xfQm9udXMiOjAsImNvbmRfMV92YWx1ZSI6MTIuNSwiY29uZF8xX3RocmVzaG9sZCI6ODguMCwiY29uZGl0aW9uX3Jlc3VsdHMiOlt7ImlkIjoxLCJuYW1lIjoi7Lac6re87JyoIDg4JSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MiwibmFtZSI6IuustOuLqOqysOq3vCAy7J28IOydtO2VmCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjozLCJuYW1lIjoi7Iuk7KCc6re866y07J28IDDsnbwg7LSI6rO8IiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjQsIm5hbWUiOiLstZzshowg6re866y07J28IDEy7J28IOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo1LCJuYW1lIjoi6rCc7J24QVFMOiDri7nsm5Tsi6TtjKggMOqxtCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo2LCJuYW1lIjoi7Jew7IaN7ISxIOyytO2BrDogM+qwnOyblCDsl7Dsho0g7Iuk7YyoIOyXhuydjCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo3LCJuYW1lIjoi7YyAL+q1rOyXrSBBUUw6IDPqsJzsm5Qg7Jew7IaNIOyLpO2MqCDsl4bsnYwiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6OCwibmFtZSI6IuuLtOuLueq1rOyXrSByZWplY3QgJSA8IDMlIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjksIm5hbWUiOiI1UFJTIO2GteqzvOycqCA5NSUg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjEwLCJuYW1lIjoiNVBSUyDqsoDsgqzrn4kgMTAw7KGxIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfV0sImF0dGVuZGFuY3kgY29uZGl0aW9uIDEgLSBhY2N0dWFsIHdvcmtpbmcgZGF5cyBpcyB6ZXJvIjoibm8iLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAyIC0gdW5hcHByb3ZlZCBBYnNlbmNlIERheSBpcyBtb3JlIHRoYW4gMiBkYXlzIjoibm8iLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAzIC0gYWJzZW50ICUgaXMgb3ZlciAxMiUiOiJ5ZXMiLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiA0IC0gbWluaW11bSB3b3JraW5nIGRheXMiOiJubyIsImFxbCBjb25kaXRpb24gNyAtIHRlYW0vYXJlYSBmYWlsIEFRTCI6Im5vIiwiU2VwdGVtYmVyIEFRTCBGYWlsdXJlcyI6MCwiQ29udGludW91c19GQUlMIjoiTk8iLCJDb25zZWN1dGl2ZV9GYWlsX01vbnRocyI6MCwiNXBycyBjb25kaXRpb24gMSAtIHRoZXJlIGlzIGVub3VnaCA1IHBycyB2YWxpZGF0aW9uIHF0eSBvciBwYXNzIHJhdGUgaXMgb3ZlciA5NSUiOiJubyIsIjVwcnMgY29uZGl0aW9uIDIgLSBUb3RhbCBWYWxpYXRpb24gUXR5IGlzIHplcm8iOiJ5ZXMiLCJjb25kaXRpb25zX3Bhc3NfcmF0ZSI6MC4wLCJjb25kaXRpb25zX3Bhc3NlZCI6MCwiY29uZGl0aW9uc19hcHBsaWNhYmxlIjowLCJXb3JraW5nIERheXMiOjIsIkFRTF9Ub3RhbF9UZXN0cyI6MCwiQVFMX1Bhc3NfQ291bnQiOjAsIkFRTF9GYWlsX1BlcmNlbnQiOjAuMCwiY29uZF8yX3VuYXBwcm92ZWRfYWJzZW5jZSI6bnVsbCwiY29uZF8yX3ZhbHVlIjowLjAsImNvbmRfMl90aHJlc2hvbGQiOjIuMCwiY29uZF8zX2FjdHVhbF93b3JraW5nX2RheXMiOm51bGwsImNvbmRfM192YWx1ZSI6Mi4wLCJjb25kXzNfdGhyZXNob2xkIjowLjAsImNvbmRfNF9taW5pbXVtX2RheXMiOm51bGwsImNvbmRfNF92YWx1ZSI6Mi4wLCJjb25kXzRfdGhyZXNob2xkIjoxMi4wLCJjb25kXzVfYXFsX3BlcnNvbmFsX2ZhaWx1cmUiOm51bGwsImNvbmRfNV92YWx1ZSI6MC4wLCJjb25kXzVfdGhyZXNob2xkIjowLjAsImNvbmRfNl9hcWxfY29udGludW91cyI6bnVsbCwiY29uZF82X3ZhbHVlIjoiTk8iLCJjb25kXzZfdGhyZXNob2xkIjoiTk8iLCJjb25kXzdfYXFsX3RlYW1fYXJlYSI6bnVsbCwiY29uZF83X3ZhbHVlIjpudWxsLCJjb25kXzdfdGhyZXNob2xkIjoiTk8iLCJjb25kXzhfYXJlYV9yZWplY3QiOm51bGwsImNvbmRfOF92YWx1ZSI6bnVsbCwiY29uZF84X3RocmVzaG9sZCI6My4wLCJjb25kXzlfNXByc19wYXNzX3JhdGUiOm51bGwsImNvbmRfOV92YWx1ZSI6bnVsbCwiY29uZF85X3RocmVzaG9sZCI6OTUuMCwiY29uZF8xMF81cHJzX2luc3BlY3Rpb25fcXR5IjpudWxsLCJjb25kXzEwX3ZhbHVlIjpudWxsLCJjb25kXzEwX3RocmVzaG9sZCI6MTAwLjB9LHsiZW1wX25vIjoiNjI1MDkwMjkzIiwiZW1wbG95ZWVfbm8iOiI2MjUwOTAyOTMiLCJFbXBsb3llZSBObyI6IjYyNTA5MDI5MyIsIm5hbWUiOiJEQU5IIEzhu5xJIiwiZnVsbF9uYW1lIjoiREFOSCBM4bucSSIsIkZ1bGwgTmFtZSI6IkRBTkggTOG7nEkiLCJwb3NpdGlvbiI6Ik5FVyIsInFpcF9wb3NpdGlvbiI6Ik5FVyIsIlFJUCBQT1NJVElPTiAxU1QgTkFNRSI6Ik5FVyIsInR5cGUiOiJUWVBFLTMiLCJib3NzX2lkIjoiIiwiYm9zc19uYW1lIjoiIiwiTVNUIGRpcmVjdCBib3NzIG5hbWUiOiIiLCJkaXJlY3QgYm9zcyBuYW1lIjoiIiwic2VwdGVtYmVyX2luY2VudGl2ZSI6IjAiLCJhdWd1c3RfaW5jZW50aXZlIjoiMC4wIiwianVseV9pbmNlbnRpdmUiOiIwIiwianVuZV9pbmNlbnRpdmUiOiIwIiwi7Lac6re87JyoX0F0dGVuZGFuY2VfUmF0ZV9QZXJjZW50IjowLjAsImFjdHVhbF93b3JraW5nX2RheXMiOjIsIkFjdHVhbCBXb3JraW5nIERheXMiOjIsInVuYXBwcm92ZWRfYWJzZW5jZXMiOjAsIlVuYXBwcm92ZWQgQWJzZW5jZXMiOjAsImFic2VuY2VfcmF0ZSI6MC4wLCJjb25kaXRpb24xIjoibm8iLCJjb25kaXRpb24yIjoibm8iLCJjb25kaXRpb24zIjoieWVzIiwiY29uZGl0aW9uNCI6Im5vIiwiYXFsX2ZhaWx1cmVzIjowLCJjb250aW51b3VzX2ZhaWwiOiJOTyIsImFyZWFfcmVqZWN0X3JhdGUiOjAuMCwiYXJlYV9jb25zZWN1dGl2ZV9mYWlsIjoiTk8iLCJwYXNzX3JhdGUiOjAuMCwidmFsaWRhdGlvbl9xdHkiOjAsIlRhbGVudF9Qb29sX01lbWJlciI6Ik4iLCJUYWxlbnRfUG9vbF9Cb251cyI6MCwiY29uZF8xX3ZhbHVlIjoxMi41LCJjb25kXzFfdGhyZXNob2xkIjo4OC4wLCJjb25kaXRpb25fcmVzdWx0cyI6W3siaWQiOjEsIm5hbWUiOiLstpzqt7zsnKggODglIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjoyLCJuYW1lIjoi66y064uo6rKw6re8IDLsnbwg7J207ZWYIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjMsIm5hbWUiOiLsi6TsoJzqt7zrrLTsnbwgMOydvCDstIjqs7wiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NCwibmFtZSI6Iuy1nOyGjCDqt7zrrLTsnbwgMTLsnbwg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjUsIm5hbWUiOiLqsJzsnbhBUUw6IOuLueyblOyLpO2MqCAw6rG0IiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjYsIm5hbWUiOiLsl7Dsho3shLEg7LK07YGsOiAz6rCc7JuUIOyXsOyGjSDsi6TtjKgg7JeG7J2MIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjcsIm5hbWUiOiLtjIAv6rWs7JetIEFRTDogM+qwnOyblCDsl7Dsho0g7Iuk7YyoIOyXhuydjCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo4LCJuYW1lIjoi64u064u56rWs7JetIHJlamVjdCAlIDwgMyUiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6OSwibmFtZSI6IjVQUlMg7Ya16rO87JyoIDk1JSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MTAsIm5hbWUiOiI1UFJTIOqygOyCrOufiSAxMDDsobEg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9XSwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMSAtIGFjY3R1YWwgd29ya2luZyBkYXlzIGlzIHplcm8iOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDIgLSB1bmFwcHJvdmVkIEFic2VuY2UgRGF5IGlzIG1vcmUgdGhhbiAyIGRheXMiOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDMgLSBhYnNlbnQgJSBpcyBvdmVyIDEyJSI6InllcyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDQgLSBtaW5pbXVtIHdvcmtpbmcgZGF5cyI6Im5vIiwiYXFsIGNvbmRpdGlvbiA3IC0gdGVhbS9hcmVhIGZhaWwgQVFMIjoibm8iLCJTZXB0ZW1iZXIgQVFMIEZhaWx1cmVzIjowLCJDb250aW51b3VzX0ZBSUwiOiJOTyIsIkNvbnNlY3V0aXZlX0ZhaWxfTW9udGhzIjowLCI1cHJzIGNvbmRpdGlvbiAxIC0gdGhlcmUgaXMgZW5vdWdoIDUgcHJzIHZhbGlkYXRpb24gcXR5IG9yIHBhc3MgcmF0ZSBpcyBvdmVyIDk1JSI6Im5vIiwiNXBycyBjb25kaXRpb24gMiAtIFRvdGFsIFZhbGlhdGlvbiBRdHkgaXMgemVybyI6InllcyIsImNvbmRpdGlvbnNfcGFzc19yYXRlIjowLjAsImNvbmRpdGlvbnNfcGFzc2VkIjowLCJjb25kaXRpb25zX2FwcGxpY2FibGUiOjAsIldvcmtpbmcgRGF5cyI6MiwiQVFMX1RvdGFsX1Rlc3RzIjowLCJBUUxfUGFzc19Db3VudCI6MCwiQVFMX0ZhaWxfUGVyY2VudCI6MC4wLCJjb25kXzJfdW5hcHByb3ZlZF9hYnNlbmNlIjpudWxsLCJjb25kXzJfdmFsdWUiOjAuMCwiY29uZF8yX3RocmVzaG9sZCI6Mi4wLCJjb25kXzNfYWN0dWFsX3dvcmtpbmdfZGF5cyI6bnVsbCwiY29uZF8zX3ZhbHVlIjoyLjAsImNvbmRfM190aHJlc2hvbGQiOjAuMCwiY29uZF80X21pbmltdW1fZGF5cyI6bnVsbCwiY29uZF80X3ZhbHVlIjoyLjAsImNvbmRfNF90aHJlc2hvbGQiOjEyLjAsImNvbmRfNV9hcWxfcGVyc29uYWxfZmFpbHVyZSI6bnVsbCwiY29uZF81X3ZhbHVlIjowLjAsImNvbmRfNV90aHJlc2hvbGQiOjAuMCwiY29uZF82X2FxbF9jb250aW51b3VzIjpudWxsLCJjb25kXzZfdmFsdWUiOiJOTyIsImNvbmRfNl90aHJlc2hvbGQiOiJOTyIsImNvbmRfN19hcWxfdGVhbV9hcmVhIjpudWxsLCJjb25kXzdfdmFsdWUiOm51bGwsImNvbmRfN190aHJlc2hvbGQiOiJOTyIsImNvbmRfOF9hcmVhX3JlamVjdCI6bnVsbCwiY29uZF84X3ZhbHVlIjpudWxsLCJjb25kXzhfdGhyZXNob2xkIjozLjAsImNvbmRfOV81cHJzX3Bhc3NfcmF0ZSI6bnVsbCwiY29uZF85X3ZhbHVlIjpudWxsLCJjb25kXzlfdGhyZXNob2xkIjo5NS4wLCJjb25kXzEwXzVwcnNfaW5zcGVjdGlvbl9xdHkiOm51bGwsImNvbmRfMTBfdmFsdWUiOm51bGwsImNvbmRfMTBfdGhyZXNob2xkIjoxMDAuMH0seyJlbXBfbm8iOiI2MjUwOTAyOTMiLCJlbXBsb3llZV9ubyI6IjYyNTA5MDI5MyIsIkVtcGxveWVlIE5vIjoiNjI1MDkwMjkzIiwibmFtZSI6IkRBTkggTOG7nEkiLCJmdWxsX25hbWUiOiJEQU5IIEzhu5xJIiwiRnVsbCBOYW1lIjoiREFOSCBM4bucSSIsInBvc2l0aW9uIjoiTkVXIiwicWlwX3Bvc2l0aW9uIjoiTkVXIiwiUUlQIFBPU0lUSU9OIDFTVCBOQU1FIjoiTkVXIiwidHlwZSI6IlRZUEUtMyIsImJvc3NfaWQiOiIiLCJib3NzX25hbWUiOiIiLCJNU1QgZGlyZWN0IGJvc3MgbmFtZSI6IiIsImRpcmVjdCBib3NzIG5hbWUiOiIiLCJzZXB0ZW1iZXJfaW5jZW50aXZlIjoiMCIsImF1Z3VzdF9pbmNlbnRpdmUiOiIwLjAiLCJqdWx5X2luY2VudGl2ZSI6IjAiLCJqdW5lX2luY2VudGl2ZSI6IjAiLCLstpzqt7zsnKhfQXR0ZW5kYW5jZV9SYXRlX1BlcmNlbnQiOjAuMCwiYWN0dWFsX3dvcmtpbmdfZGF5cyI6MiwiQWN0dWFsIFdvcmtpbmcgRGF5cyI6MiwidW5hcHByb3ZlZF9hYnNlbmNlcyI6MCwiVW5hcHByb3ZlZCBBYnNlbmNlcyI6MCwiYWJzZW5jZV9yYXRlIjowLjAsImNvbmRpdGlvbjEiOiJubyIsImNvbmRpdGlvbjIiOiJubyIsImNvbmRpdGlvbjMiOiJ5ZXMiLCJjb25kaXRpb240Ijoibm8iLCJhcWxfZmFpbHVyZXMiOjAsImNvbnRpbnVvdXNfZmFpbCI6Ik5PIiwiYXJlYV9yZWplY3RfcmF0ZSI6MC4wLCJhcmVhX2NvbnNlY3V0aXZlX2ZhaWwiOiJOTyIsInBhc3NfcmF0ZSI6MC4wLCJ2YWxpZGF0aW9uX3F0eSI6MCwiVGFsZW50X1Bvb2xfTWVtYmVyIjoiTiIsIlRhbGVudF9Qb29sX0JvbnVzIjowLCJjb25kXzFfdmFsdWUiOjEyLjUsImNvbmRfMV90aHJlc2hvbGQiOjg4LjAsImNvbmRpdGlvbl9yZXN1bHRzIjpbeyJpZCI6MSwibmFtZSI6Iuy2nOq3vOycqCA4OCUg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjIsIm5hbWUiOiLrrLTri6jqsrDqt7wgMuydvCDsnbTtlZgiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MywibmFtZSI6IuyLpOygnOq3vOustOydvCAw7J28IOy0iOqzvCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo0LCJuYW1lIjoi7LWc7IaMIOq3vOustOydvCAxMuydvCDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NSwibmFtZSI6IuqwnOyduEFRTDog64u57JuU7Iuk7YyoIDDqsbQiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NiwibmFtZSI6IuyXsOyGjeyEsSDssrTtgaw6IDPqsJzsm5Qg7Jew7IaNIOyLpO2MqCDsl4bsnYwiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NywibmFtZSI6Iu2MgC/qtazsl60gQVFMOiAz6rCc7JuUIOyXsOyGjSDsi6TtjKgg7JeG7J2MIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjgsIm5hbWUiOiLri7Tri7nqtazsl60gcmVqZWN0ICUgPCAzJSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo5LCJuYW1lIjoiNVBSUyDthrXqs7zsnKggOTUlIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjoxMCwibmFtZSI6IjVQUlMg6rKA7IKs65+JIDEwMOyhsSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX1dLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAxIC0gYWNjdHVhbCB3b3JraW5nIGRheXMgaXMgemVybyI6Im5vIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMiAtIHVuYXBwcm92ZWQgQWJzZW5jZSBEYXkgaXMgbW9yZSB0aGFuIDIgZGF5cyI6Im5vIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMyAtIGFic2VudCAlIGlzIG92ZXIgMTIlIjoieWVzIiwiYXR0ZW5kYW5jeSBjb25kaXRpb24gNCAtIG1pbmltdW0gd29ya2luZyBkYXlzIjoibm8iLCJhcWwgY29uZGl0aW9uIDcgLSB0ZWFtL2FyZWEgZmFpbCBBUUwiOiJubyIsIlNlcHRlbWJlciBBUUwgRmFpbHVyZXMiOjAsIkNvbnRpbnVvdXNfRkFJTCI6Ik5PIiwiQ29uc2VjdXRpdmVfRmFpbF9Nb250aHMiOjAsIjVwcnMgY29uZGl0aW9uIDEgLSB0aGVyZSBpcyBlbm91Z2ggNSBwcnMgdmFsaWRhdGlvbiBxdHkgb3IgcGFzcyByYXRlIGlzIG92ZXIgOTUlIjoibm8iLCI1cHJzIGNvbmRpdGlvbiAyIC0gVG90YWwgVmFsaWF0aW9uIFF0eSBpcyB6ZXJvIjoieWVzIiwiY29uZGl0aW9uc19wYXNzX3JhdGUiOjAuMCwiY29uZGl0aW9uc19wYXNzZWQiOjAsImNvbmRpdGlvbnNfYXBwbGljYWJsZSI6MCwiV29ya2luZyBEYXlzIjoyLCJBUUxfVG90YWxfVGVzdHMiOjAsIkFRTF9QYXNzX0NvdW50IjowLCJBUUxfRmFpbF9QZXJjZW50IjowLjAsImNvbmRfMl91bmFwcHJvdmVkX2Fic2VuY2UiOm51bGwsImNvbmRfMl92YWx1ZSI6MC4wLCJjb25kXzJfdGhyZXNob2xkIjoyLjAsImNvbmRfM19hY3R1YWxfd29ya2luZ19kYXlzIjpudWxsLCJjb25kXzNfdmFsdWUiOjIuMCwiY29uZF8zX3RocmVzaG9sZCI6MC4wLCJjb25kXzRfbWluaW11bV9kYXlzIjpudWxsLCJjb25kXzRfdmFsdWUiOjIuMCwiY29uZF80X3RocmVzaG9sZCI6MTIuMCwiY29uZF81X2FxbF9wZXJzb25hbF9mYWlsdXJlIjpudWxsLCJjb25kXzVfdmFsdWUiOjAuMCwiY29uZF81X3RocmVzaG9sZCI6MC4wLCJjb25kXzZfYXFsX2NvbnRpbnVvdXMiOm51bGwsImNvbmRfNl92YWx1ZSI6Ik5PIiwiY29uZF82X3RocmVzaG9sZCI6Ik5PIiwiY29uZF83X2FxbF90ZWFtX2FyZWEiOm51bGwsImNvbmRfN192YWx1ZSI6bnVsbCwiY29uZF83X3RocmVzaG9sZCI6Ik5PIiwiY29uZF84X2FyZWFfcmVqZWN0IjpudWxsLCJjb25kXzhfdmFsdWUiOm51bGwsImNvbmRfOF90aHJlc2hvbGQiOjMuMCwiY29uZF85XzVwcnNfcGFzc19yYXRlIjpudWxsLCJjb25kXzlfdmFsdWUiOm51bGwsImNvbmRfOV90aHJlc2hvbGQiOjk1LjAsImNvbmRfMTBfNXByc19pbnNwZWN0aW9uX3F0eSI6bnVsbCwiY29uZF8xMF92YWx1ZSI6bnVsbCwiY29uZF8xMF90aHJlc2hvbGQiOjEwMC4wfSx7ImVtcF9ubyI6IjYyNTA5MDI5MyIsImVtcGxveWVlX25vIjoiNjI1MDkwMjkzIiwiRW1wbG95ZWUgTm8iOiI2MjUwOTAyOTMiLCJuYW1lIjoiREFOSCBM4bucSSIsImZ1bGxfbmFtZSI6IkRBTkggTOG7nEkiLCJGdWxsIE5hbWUiOiJEQU5IIEzhu5xJIiwicG9zaXRpb24iOiJORVciLCJxaXBfcG9zaXRpb24iOiJORVciLCJRSVAgUE9TSVRJT04gMVNUIE5BTUUiOiJORVciLCJ0eXBlIjoiVFlQRS0zIiwiYm9zc19pZCI6IiIsImJvc3NfbmFtZSI6IiIsIk1TVCBkaXJlY3QgYm9zcyBuYW1lIjoiIiwiZGlyZWN0IGJvc3MgbmFtZSI6IiIsInNlcHRlbWJlcl9pbmNlbnRpdmUiOiIwIiwiYXVndXN0X2luY2VudGl2ZSI6IjAuMCIsImp1bHlfaW5jZW50aXZlIjoiMCIsImp1bmVfaW5jZW50aXZlIjoiMCIsIuy2nOq3vOycqF9BdHRlbmRhbmNlX1JhdGVfUGVyY2VudCI6MC4wLCJhY3R1YWxfd29ya2luZ19kYXlzIjoyLCJBY3R1YWwgV29ya2luZyBEYXlzIjoyLCJ1bmFwcHJvdmVkX2Fic2VuY2VzIjowLCJVbmFwcHJvdmVkIEFic2VuY2VzIjowLCJhYnNlbmNlX3JhdGUiOjAuMCwiY29uZGl0aW9uMSI6Im5vIiwiY29uZGl0aW9uMiI6Im5vIiwiY29uZGl0aW9uMyI6InllcyIsImNvbmRpdGlvbjQiOiJubyIsImFxbF9mYWlsdXJlcyI6MCwiY29udGludW91c19mYWlsIjoiTk8iLCJhcmVhX3JlamVjdF9yYXRlIjowLjAsImFyZWFfY29uc2VjdXRpdmVfZmFpbCI6Ik5PIiwicGFzc19yYXRlIjowLjAsInZhbGlkYXRpb25fcXR5IjowLCJUYWxlbnRfUG9vbF9NZW1iZXIiOiJOIiwiVGFsZW50X1Bvb2xfQm9udXMiOjAsImNvbmRfMV92YWx1ZSI6MTIuNSwiY29uZF8xX3RocmVzaG9sZCI6ODguMCwiY29uZGl0aW9uX3Jlc3VsdHMiOlt7ImlkIjoxLCJuYW1lIjoi7Lac6re87JyoIDg4JSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MiwibmFtZSI6IuustOuLqOqysOq3vCAy7J28IOydtO2VmCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjozLCJuYW1lIjoi7Iuk7KCc6re866y07J28IDDsnbwg7LSI6rO8IiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjQsIm5hbWUiOiLstZzshowg6re866y07J28IDEy7J28IOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo1LCJuYW1lIjoi6rCc7J24QVFMOiDri7nsm5Tsi6TtjKggMOqxtCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo2LCJuYW1lIjoi7Jew7IaN7ISxIOyytO2BrDogM+qwnOyblCDsl7Dsho0g7Iuk7YyoIOyXhuydjCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo3LCJuYW1lIjoi7YyAL+q1rOyXrSBBUUw6IDPqsJzsm5Qg7Jew7IaNIOyLpO2MqCDsl4bsnYwiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6OCwibmFtZSI6IuuLtOuLueq1rOyXrSByZWplY3QgJSA8IDMlIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjksIm5hbWUiOiI1UFJTIO2GteqzvOycqCA5NSUg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjEwLCJuYW1lIjoiNVBSUyDqsoDsgqzrn4kgMTAw7KGxIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfV0sImF0dGVuZGFuY3kgY29uZGl0aW9uIDEgLSBhY2N0dWFsIHdvcmtpbmcgZGF5cyBpcyB6ZXJvIjoibm8iLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAyIC0gdW5hcHByb3ZlZCBBYnNlbmNlIERheSBpcyBtb3JlIHRoYW4gMiBkYXlzIjoibm8iLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiAzIC0gYWJzZW50ICUgaXMgb3ZlciAxMiUiOiJ5ZXMiLCJhdHRlbmRhbmN5IGNvbmRpdGlvbiA0IC0gbWluaW11bSB3b3JraW5nIGRheXMiOiJubyIsImFxbCBjb25kaXRpb24gNyAtIHRlYW0vYXJlYSBmYWlsIEFRTCI6Im5vIiwiU2VwdGVtYmVyIEFRTCBGYWlsdXJlcyI6MCwiQ29udGludW91c19GQUlMIjoiTk8iLCJDb25zZWN1dGl2ZV9GYWlsX01vbnRocyI6MCwiNXBycyBjb25kaXRpb24gMSAtIHRoZXJlIGlzIGVub3VnaCA1IHBycyB2YWxpZGF0aW9uIHF0eSBvciBwYXNzIHJhdGUgaXMgb3ZlciA5NSUiOiJubyIsIjVwcnMgY29uZGl0aW9uIDIgLSBUb3RhbCBWYWxpYXRpb24gUXR5IGlzIHplcm8iOiJ5ZXMiLCJjb25kaXRpb25zX3Bhc3NfcmF0ZSI6MC4wLCJjb25kaXRpb25zX3Bhc3NlZCI6MCwiY29uZGl0aW9uc19hcHBsaWNhYmxlIjowLCJXb3JraW5nIERheXMiOjIsIkFRTF9Ub3RhbF9UZXN0cyI6MCwiQVFMX1Bhc3NfQ291bnQiOjAsIkFRTF9GYWlsX1BlcmNlbnQiOjAuMCwiY29uZF8yX3VuYXBwcm92ZWRfYWJzZW5jZSI6bnVsbCwiY29uZF8yX3ZhbHVlIjowLjAsImNvbmRfMl90aHJlc2hvbGQiOjIuMCwiY29uZF8zX2FjdHVhbF93b3JraW5nX2RheXMiOm51bGwsImNvbmRfM192YWx1ZSI6Mi4wLCJjb25kXzNfdGhyZXNob2xkIjowLjAsImNvbmRfNF9taW5pbXVtX2RheXMiOm51bGwsImNvbmRfNF92YWx1ZSI6Mi4wLCJjb25kXzRfdGhyZXNob2xkIjoxMi4wLCJjb25kXzVfYXFsX3BlcnNvbmFsX2ZhaWx1cmUiOm51bGwsImNvbmRfNV92YWx1ZSI6MC4wLCJjb25kXzVfdGhyZXNob2xkIjowLjAsImNvbmRfNl9hcWxfY29udGludW91cyI6bnVsbCwiY29uZF82X3ZhbHVlIjoiTk8iLCJjb25kXzZfdGhyZXNob2xkIjoiTk8iLCJjb25kXzdfYXFsX3RlYW1fYXJlYSI6bnVsbCwiY29uZF83X3ZhbHVlIjpudWxsLCJjb25kXzdfdGhyZXNob2xkIjoiTk8iLCJjb25kXzhfYXJlYV9yZWplY3QiOm51bGwsImNvbmRfOF92YWx1ZSI6bnVsbCwiY29uZF84X3RocmVzaG9sZCI6My4wLCJjb25kXzlfNXByc19wYXNzX3JhdGUiOm51bGwsImNvbmRfOV92YWx1ZSI6bnVsbCwiY29uZF85X3RocmVzaG9sZCI6OTUuMCwiY29uZF8xMF81cHJzX2luc3BlY3Rpb25fcXR5IjpudWxsLCJjb25kXzEwX3ZhbHVlIjpudWxsLCJjb25kXzEwX3RocmVzaG9sZCI6MTAwLjB9LHsiZW1wX25vIjoiNjI1MDkwMjkzIiwiZW1wbG95ZWVfbm8iOiI2MjUwOTAyOTMiLCJFbXBsb3llZSBObyI6IjYyNTA5MDI5MyIsIm5hbWUiOiJEQU5IIEzhu5xJIiwiZnVsbF9uYW1lIjoiREFOSCBM4bucSSIsIkZ1bGwgTmFtZSI6IkRBTkggTOG7nEkiLCJwb3NpdGlvbiI6Ik5FVyIsInFpcF9wb3NpdGlvbiI6Ik5FVyIsIlFJUCBQT1NJVElPTiAxU1QgTkFNRSI6Ik5FVyIsInR5cGUiOiJUWVBFLTMiLCJib3NzX2lkIjoiIiwiYm9zc19uYW1lIjoiIiwiTVNUIGRpcmVjdCBib3NzIG5hbWUiOiIiLCJkaXJlY3QgYm9zcyBuYW1lIjoiIiwic2VwdGVtYmVyX2luY2VudGl2ZSI6IjAiLCJhdWd1c3RfaW5jZW50aXZlIjoiMC4wIiwianVseV9pbmNlbnRpdmUiOiIwIiwianVuZV9pbmNlbnRpdmUiOiIwIiwi7Lac6re87JyoX0F0dGVuZGFuY2VfUmF0ZV9QZXJjZW50IjowLjAsImFjdHVhbF93b3JraW5nX2RheXMiOjIsIkFjdHVhbCBXb3JraW5nIERheXMiOjIsInVuYXBwcm92ZWRfYWJzZW5jZXMiOjAsIlVuYXBwcm92ZWQgQWJzZW5jZXMiOjAsImFic2VuY2VfcmF0ZSI6MC4wLCJjb25kaXRpb24xIjoibm8iLCJjb25kaXRpb24yIjoibm8iLCJjb25kaXRpb24zIjoieWVzIiwiY29uZGl0aW9uNCI6Im5vIiwiYXFsX2ZhaWx1cmVzIjowLCJjb250aW51b3VzX2ZhaWwiOiJOTyIsImFyZWFfcmVqZWN0X3JhdGUiOjAuMCwiYXJlYV9jb25zZWN1dGl2ZV9mYWlsIjoiTk8iLCJwYXNzX3JhdGUiOjAuMCwidmFsaWRhdGlvbl9xdHkiOjAsIlRhbGVudF9Qb29sX01lbWJlciI6Ik4iLCJUYWxlbnRfUG9vbF9Cb251cyI6MCwiY29uZF8xX3ZhbHVlIjoxMi41LCJjb25kXzFfdGhyZXNob2xkIjo4OC4wLCJjb25kaXRpb25fcmVzdWx0cyI6W3siaWQiOjEsIm5hbWUiOiLstpzqt7zsnKggODglIOydtOyDgSIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjoyLCJuYW1lIjoi66y064uo6rKw6re8IDLsnbwg7J207ZWYIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjMsIm5hbWUiOiLsi6TsoJzqt7zrrLTsnbwgMOydvCDstIjqs7wiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6NCwibmFtZSI6Iuy1nOyGjCDqt7zrrLTsnbwgMTLsnbwg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjUsIm5hbWUiOiLqsJzsnbhBUUw6IOuLueyblOyLpO2MqCAw6rG0IiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjYsIm5hbWUiOiLsl7Dsho3shLEg7LK07YGsOiAz6rCc7JuUIOyXsOyGjSDsi6TtjKgg7JeG7J2MIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9LHsiaWQiOjcsIm5hbWUiOiLtjIAv6rWs7JetIEFRTDogM+qwnOyblCDsl7Dsho0g7Iuk7YyoIOyXhuydjCIsImlzX21ldCI6ZmFsc2UsImFjdHVhbCI6Ik4vQSIsImlzX25hIjp0cnVlfSx7ImlkIjo4LCJuYW1lIjoi64u064u56rWs7JetIHJlamVjdCAlIDwgMyUiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6OSwibmFtZSI6IjVQUlMg7Ya16rO87JyoIDk1JSDsnbTsg4EiLCJpc19tZXQiOmZhbHNlLCJhY3R1YWwiOiJOL0EiLCJpc19uYSI6dHJ1ZX0seyJpZCI6MTAsIm5hbWUiOiI1UFJTIOqygOyCrOufiSAxMDDsobEg7J207IOBIiwiaXNfbWV0IjpmYWxzZSwiYWN0dWFsIjoiTi9BIiwiaXNfbmEiOnRydWV9XSwiYXR0ZW5kYW5jeSBjb25kaXRpb24gMSAtIGFjY3R1YWwgd29ya2luZyBkYXlzIGlzIHplcm8iOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDIgLSB1bmFwcHJvdmVkIEFic2VuY2UgRGF5IGlzIG1vcmUgdGhhbiAyIGRheXMiOiJubyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDMgLSBhYnNlbnQgJSBpcyBvdmVyIDEyJSI6InllcyIsImF0dGVuZGFuY3kgY29uZGl0aW9uIDQgLSBtaW5pbXVtIHdvcmtpbmcgZGF5cyI6Im5vIiwiYXFsIGNvbmRpdGlvbiA3IC0gdGVhbS9hcmVhIGZhaWwgQVFMIjoibm8iLCJTZXB0ZW1iZXIgQVFMIEZhaWx1cmVzIjowLCJDb250aW51b3VzX0ZBSUwiOiJOTyIsIkNvbnNlY3V0aXZlX0ZhaWxfTW9udGhzIjowLCI1cHJzIGNvbmRpdGlvbiAxIC0gdGhlcmUgaXMgZW5vdWdoIDUgcHJzIHZhbGlkYXRpb24gcXR5IG9yIHBhc3MgcmF0ZSBpcyBvdmVyIDk1JSI6Im5vIiwiNXBycyBjb25kaXRpb24gMiAtIFRvdGFsIFZhbGlhdGlvbiBRdHkgaXMgemVybyI6InllcyIsImNvbmRpdGlvbnNfcGFzc19yYXRlIjowLjAsImNvbmRpdGlvbnNfcGFzc2VkIjowLCJjb25kaXRpb25zX2FwcGxpY2FibGUiOjAsIldvcmtpbmcgRGF5cyI6MiwiQVFMX1RvdGFsX1Rlc3RzIjowLCJBUUxfUGFzc19Db3VudCI6MCwiQVFMX0ZhaWxfUGVyY2VudCI6MC4wLCJjb25kXzJfdW5hcHByb3ZlZF9hYnNlbmNlIjpudWxsLCJjb25kXzJfdmFsdWUiOjAuMCwiY29uZF8yX3RocmVzaG9sZCI6Mi4wLCJjb25kXzNfYWN0dWFsX3dvcmtpbmdfZGF5cyI6bnVsbCwiY29uZF8zX3ZhbHVlIjoyLjAsImNvbmRfM190aHJlc2hvbGQiOjAuMCwiY29uZF80X21pbmltdW1fZGF5cyI6bnVsbCwiY29uZF80X3ZhbHVlIjoyLjAsImNvbmRfNF90aHJlc2hvbGQiOjEyLjAsImNvbmRfNV9hcWxfcGVyc29uYWxfZmFpbHVyZSI6bnVsbCwiY29uZF81X3ZhbHVlIjowLjAsImNvbmRfNV90aHJlc2hvbGQiOjAuMCwiY29uZF82X2FxbF9jb250aW51b3VzIjpudWxsLCJjb25kXzZfdmFsdWUiOiJOTyIsImNvbmRfNl90aHJlc2hvbGQiOiJOTyIsImNvbmRfN19hcWxfdGVhbV9hcmVhIjpudWxsLCJjb25kXzdfdmFsdWUiOm51bGwsImNvbmRfN190aHJlc2hvbGQiOiJOTyIsImNvbmRfOF9hcmVhX3JlamVjdCI6bnVsbCwiY29uZF84X3ZhbHVlIjpudWxsLCJjb25kXzhfdGhyZXNob2xkIjozLjAsImNvbmRfOV81cHJzX3Bhc3NfcmF0ZSI6bnVsbCwiY29uZF85X3ZhbHVlIjpudWxsLCJjb25kXzlfdGhyZXNob2xkIjo5NS4wLCJjb25kXzEwXzVwcnNfaW5zcGVjdGlvbl9xdHkiOm51bGwsImNvbmRfMTBfdmFsdWUiOm51bGwsImNvbmRfMTBfdGhyZXNob2xkIjoxMDAuMH1d
    </script>

    <script type="application/json" id="translationsData">
        {
  "languages": {
    "ko": "한국어",
    "en": "English",
    "vi": "Tiếng Việt"
  },
  "tabs": {
    "summary": {
      "ko": "요약",
      "en": "Summary",
      "vi": "Tóm tắt"
    },
    "position": {
      "ko": "직급별 상세",
      "en": "Position Details",
      "vi": "Chi tiết vị trí"
    },
    "individual": {
      "ko": "개인별 상세",
      "en": "Individual Details",
      "vi": "Chi tiết cá nhân"
    },
    "criteria": {
      "ko": "인센티브 기준",
      "en": "Incentive Criteria",
      "vi": "Tiêu chí khuyến khích"
    },
    "conditions": {
      "ko": "지급 조건",
      "en": "Payment Conditions",
      "vi": "Điều kiện thanh toán"
    },
    "orgChart": {
      "ko": "조직도",
      "en": "Org Chart",
      "vi": "Sơ đồ tổ chức"
    },
    "orgchart": {
      "ko": "조직도",
      "en": "Org Chart",
      "vi": "Sơ đồ tổ chức"
    },
    "validation": {
      "ko": "요약 및 시스템 검증",
      "en": "Summary & System Validation",
      "vi": "Tóm tắt & Xác thực hệ thống"
    }
  },
  "table": {
    "position": {
      "ko": "직급",
      "en": "Position",
      "vi": "Chức vụ"
    },
    "type": {
      "ko": "구분",
      "en": "Type",
      "vi": "Loại"
    },
    "totalCount": {
      "ko": "전체 인원",
      "en": "Total Count",
      "vi": "Tổng số"
    },
    "paidCount": {
      "ko": "수령 인원",
      "en": "Paid Count",
      "vi": "Số người nhận"
    },
    "paymentRate": {
      "ko": "지급률",
      "en": "Payment Rate",
      "vi": "Tỷ lệ thanh toán"
    },
    "totalAmount": {
      "ko": "총 금액",
      "en": "Total Amount",
      "vi": "Tổng tiền"
    },
    "name": {
      "ko": "이름",
      "en": "Name",
      "vi": "Tên"
    },
    "employeeId": {
      "ko": "사번",
      "en": "Employee ID",
      "vi": "Mã nhân viên"
    },
    "department": {
      "ko": "부서",
      "en": "Department",
      "vi": "Phòng ban"
    },
    "amount": {
      "ko": "인센티브",
      "en": "Incentive",
      "vi": "Tiền thưởng"
    },
    "status": {
      "ko": "상태",
      "en": "Status",
      "vi": "Trạng thái"
    },
    "action": {
      "ko": "상세",
      "en": "Details",
      "vi": "Chi tiết"
    }
  },
  "orgChart": {
    "title": {
      "ko": "TYPE-1 관리자 인센티브 구조",
      "en": "TYPE-1 Manager Incentive Structure",
      "vi": "Cấu trúc khuyến khích quản lý TYPE-1"
    },
    "subtitle": {
      "ko": "부하직원 성과에 기반한 인센티브를 받는 TYPE-1 관리자",
      "en": "TYPE-1 managers receiving incentive based on subordinate performance",
      "vi": "Quản lý TYPE-1 nhận khuyến khích dựa trên hiệu suất cấp dưới"
    },
    "noteLabel": {
      "ko": "참고",
      "en": "Note",
      "vi": "Lưu ý"
    },
    "excludedPositions": {
      "ko": "AQL INSPECTOR, AUDIT & TRAINING TEAM, MODEL MASTER 직급은 조직도에서 제외되었습니다.",
      "en": "AQL INSPECTOR, AUDIT & TRAINING TEAM, MODEL MASTER positions are excluded from the organization chart.",
      "vi": "Các vị trí AQL INSPECTOR, AUDIT & TRAINING TEAM, MODEL MASTER không được bao gồm trong sơ đồ tổ chức."
    },
    "helpText": {
      "ko": "각 직원의 인센티브 계산 기준과 부하직원 정보를 확인하세요",
      "en": "Check each employee's incentive calculation criteria and subordinate information",
      "vi": "Kiểm tra tiêu chí tính khuyến khích và thông tin cấp dưới của từng nhân viên"
    },
    "searchPlaceholder": {
      "ko": "이름 또는 사번으로 검색...",
      "en": "Search by name or employee ID...",
      "vi": "Tìm kiếm theo tên hoặc mã nhân viên..."
    },
    "filterLabel": {
      "ko": "직급 필터",
      "en": "Position Filter",
      "vi": "Bộ lọc chức vụ"
    },
    "showReceivingOnly": {
      "ko": "인센티브 수령자만 표시",
      "en": "Show Incentive Recipients Only",
      "vi": "Chỉ hiện người nhận khuyến khích"
    },
    "legendTitle": {
      "ko": "인센티브 계산 방식",
      "en": "Incentive Calculation Method",
      "vi": "Phương pháp tính khuyến khích"
    },
    "legendNote": {
      "ko": "특수 직급(AQL Inspector, Audit Team, Model Master)은 개별 성과 기반이므로 제외",
      "en": "Special positions (AQL Inspector, Audit Team, Model Master) excluded as they are based on individual performance",
      "vi": "Các vị trí đặc biệt (AQL Inspector, Audit Team, Model Master) được loại trừ vì dựa trên hiệu suất cá nhân"
    },
    "calculationFormulas": {
      "lineLeader": {
        "ko": "TYPE-1 부하 인센티브 합 × 12% × 수령비율",
        "en": "TYPE-1 Subordinate Incentive Sum × 12% × Receiving Rate",
        "vi": "Tổng khuyến khích cấp dưới TYPE-1 × 12% × Tỷ lệ nhận"
      },
      "groupLeader": {
        "ko": "팀 내 LINE LEADER 평균 × 2",
        "en": "Team LINE LEADER Average × 2",
        "vi": "Trung bình LINE LEADER trong nhóm × 2"
      },
      "supervisor": {
        "ko": "LINE LEADER 평균 × 2.5",
        "en": "LINE LEADER Average × 2.5",
        "vi": "Trung bình LINE LEADER × 2.5"
      },
      "assistantManager": {
        "ko": "LINE LEADER 평균 × 3",
        "en": "LINE LEADER Average × 3",
        "vi": "Trung bình LINE LEADER × 3"
      },
      "aManager": {
        "ko": "LINE LEADER 평균 × 3",
        "en": "LINE LEADER Average × 3",
        "vi": "Trung bình LINE LEADER × 3"
      },
      "manager": {
        "ko": "하위 관리자 평균 × 3.5",
        "en": "Lower Manager Average × 3.5",
        "vi": "Trung bình quản lý cấp dưới × 3.5"
      }
    },
    "entireOrganization": {
      "ko": "전체 조직",
      "en": "Entire Organization",
      "vi": "Toàn bộ tổ chức"
    },
    "modalTitle": {
      "ko": "인센티브 계산 상세",
      "en": "Incentive Calculation Details",
      "vi": "Chi tiết tính khuyến khích"
    },
    "filters": {
      "allTypes": {
        "ko": "모든 Type",
        "en": "All Types",
        "vi": "Tất cả loại"
      },
      "viewAll": {
        "ko": "전체 보기",
        "en": "View All",
        "vi": "Xem tất cả"
      },
      "paidOnly": {
        "ko": "인센티브 수령자",
        "en": "Incentive Recipients",
        "vi": "Người nhận khen thưởng"
      },
      "unpaidOnly": {
        "ko": "인센티브 미수령자",
        "en": "Non-Recipients",
        "vi": "Người không nhận"
      }
    },
    "usageGuide": {
      "title": {
        "ko": "사용 안내:",
        "en": "Usage Guide:",
        "vi": "Hướng dẫn sử dụng:"
      },
      "text": {
        "ko": "인센티브 금액 또는",
        "en": "Click incentive amount or",
        "vi": "Nhấp vào số tiền khuyến khích hoặc"
      },
      "subtext": {
        "ko": "버튼을 클릭하면 상세 정보를 볼 수 있습니다.",
        "en": "button to view detailed information.",
        "vi": "nút để xem thông tin chi tiết."
      }
    },
    "buttons": {
      "expandAll": {
        "ko": "전체 펼치기",
        "en": "Expand All",
        "vi": "Mở rộng tất cả"
      },
      "collapseAll": {
        "ko": "전체 접기",
        "en": "Collapse All",
        "vi": "Thu gọn tất cả"
      },
      "reset": {
        "ko": "초기화",
        "en": "Reset",
        "vi": "Đặt lại"
      },
      "export": {
        "ko": "이미지 저장",
        "en": "Save Image",
        "vi": "Lưu hình ảnh"
      },
      "close": {
        "ko": "닫기",
        "en": "Close",
        "vi": "Đóng"
      }
    },
    "noData": {
      "ko": "조직도 데이터가 없습니다.",
      "en": "No organization data available.",
      "vi": "Không có dữ liệu tổ chức."
    },
    "error": {
      "ko": "조직도 생성 중 오류가 발생했습니다.",
      "en": "Error creating organization chart.",
      "vi": "Lỗi khi tạo sơ đồ tổ chức."
    },
    "tooltipLabels": {
      "empNo": {
        "ko": "사번",
        "en": "Employee No",
        "vi": "Mã nhân viên"
      },
      "position": {
        "ko": "직급",
        "en": "Position",
        "vi": "Chức vụ"
      },
      "type": {
        "ko": "구분",
        "en": "Type",
        "vi": "Loại"
      },
      "incentive": {
        "ko": "인센티브",
        "en": "Incentive",
        "vi": "Khen thưởng"
      },
      "boss": {
        "ko": "상사",
        "en": "Supervisor",
        "vi": "Quản lý"
      },
      "none": {
        "ko": "없음",
        "en": "None",
        "vi": "Không có"
      }
    },
    "incentiveReceived": {
      "ko": "인센티브 수령",
      "en": "Incentive Received",
      "vi": "Đã nhận thưởng"
    },
    "incentiveNotReceived": {
      "ko": "인센티브 미수령",
      "en": "Incentive Not Received",
      "vi": "Chưa nhận thưởng"
    },
    "modalLabels": {
      "actualIncentive": {
        "ko": "실제 인센티브",
        "en": "Actual Incentive",
        "vi": "Khuyến khích thực tế"
      },
      "calculationMethod": {
        "ko": "계산 방식",
        "en": "Calculation Method",
        "vi": "Phương pháp tính"
      },
      "subordinateCount": {
        "ko": "부하직원 수",
        "en": "Number of Subordinates",
        "vi": "Số lượng cấp dưới"
      },
      "receivingSubordinates": {
        "ko": "인센티브 수령 부하",
        "en": "Incentive Receiving Subordinates",
        "vi": "Cấp dưới nhận khuyến khích"
      },
      "subordinateIncentiveSum": {
        "ko": "부하 인센티브 합계",
        "en": "Subordinate Incentive Sum",
        "vi": "Tổng khuyến khích cấp dưới"
      },
      "expectedCalculation": {
        "ko": "예상 계산",
        "en": "Expected Calculation",
        "vi": "Tính toán dự kiến"
      },
      "conditionStatus": {
        "ko": "조건 충족 현황",
        "en": "Condition Fulfillment Status",
        "vi": "Tình trạng đáp ứng điều kiện"
      },
      "teamLineLeaderList": {
        "ko": "팀 LINE LEADER 목록",
        "en": "Team LINE LEADER List",
        "vi": "Danh sách LINE LEADER nhóm"
      },
      "teamLineLeaderCount": {
        "ko": "팀 LINE LEADER 수",
        "en": "Team LINE LEADER Count",
        "vi": "Số lượng LINE LEADER nhóm"
      },
      "calcDetailLineLeader": {
        "ko": "계산 상세 (LINE LEADER)",
        "en": "Calculation Detail (LINE LEADER)",
        "vi": "Chi tiết tính toán (LINE LEADER)"
      },
      "calcDetailGroupLeader": {
        "ko": "계산 상세 (GROUP LEADER)",
        "en": "Calculation Detail (GROUP LEADER)",
        "vi": "Chi tiết tính toán (GROUP LEADER)"
      },
      "calcDetailSupervisor": {
        "ko": "계산 상세 (SUPERVISOR)",
        "en": "Calculation Detail (SUPERVISOR)",
        "vi": "Chi tiết tính toán (SUPERVISOR)"
      },
      "calcDetailAManager": {
        "ko": "계산 상세 (A.MANAGER)",
        "en": "Calculation Detail (A.MANAGER)",
        "vi": "Chi tiết tính toán (A.MANAGER)"
      },
      "calcDetailManager": {
        "ko": "계산 상세 (MANAGER)",
        "en": "Calculation Detail (MANAGER)",
        "vi": "Chi tiết tính toán (MANAGER)"
      },
      "subordinateIncentive": {
        "ko": "부하 인센티브",
        "en": "Subordinate Incentive",
        "vi": "Khuyến khích cấp dưới"
      },
      "receivingRate": {
        "ko": "수령비율",
        "en": "Receiving Rate",
        "vi": "Tỷ lệ nhận"
      },
      "noPaymentReason": {
        "ko": "미지급 사유",
        "en": "Non-Payment Reason",
        "vi": "Lý do không chi trả"
      },
      "conditionFailure": {
        "ko": "조건 미충족",
        "en": "Condition Not Met",
        "vi": "Điều kiện không đáp ứng"
      },
      "actualPayment": {
        "ko": "실제 지급액",
        "en": "Actual Payment",
        "vi": "Số tiền chi trả thực tế"
      }
    },
    "modal": {
      "basicInfo": {
        "position": {
          "ko": "직급",
          "en": "Position",
          "vi": "Chức vụ"
        },
        "employeeId": {
          "ko": "사원번호",
          "en": "Employee ID",
          "vi": "Mã nhân viên"
        },
        "type": {
          "ko": "구분",
          "en": "Type",
          "vi": "Loại"
        }
      },
      "calculationDetails": {
        "ko": "계산 상세",
        "en": "Calculation Details",
        "vi": "Chi tiết tính toán"
      },
      "assemblyInspectorList": {
        "ko": "ASSEMBLY INSPECTOR 목록",
        "en": "ASSEMBLY INSPECTOR List",
        "vi": "Danh sách ASSEMBLY INSPECTOR"
      },
      "lineLeaderList": {
        "ko": "LINE LEADER 목록",
        "en": "LINE LEADER List",
        "vi": "Danh sách LINE LEADER"
      },
      "total": {
        "ko": "합계",
        "en": "Total",
        "vi": "Tổng cộng"
      },
      "averageReceiving": {
        "ko": "평균 ({{receiving}}/{{total}}명 수령)",
        "en": "Average ({{receiving}}/{{total}} receiving)",
        "vi": "Trung bình ({{receiving}}/{{total}} nhận)"
      },
      "labels": {
        "formula": {
          "ko": "계산 공식",
          "en": "Formula",
          "vi": "Công thức"
        },
        "inspectorCount": {
          "ko": "Inspector 수",
          "en": "Inspector Count",
          "vi": "Số lượng Inspector"
        },
        "lineLeaderCount": {
          "ko": "LINE LEADER 수",
          "en": "LINE LEADER Count",
          "vi": "Số lượng LINE LEADER"
        },
        "receiving": {
          "ko": "수령",
          "en": "receiving",
          "vi": "nhận"
        },
        "incentiveSum": {
          "ko": "인센티브 합계",
          "en": "Incentive Sum",
          "vi": "Tổng khuyến khích"
        },
        "receivingRatio": {
          "ko": "수령 비율",
          "en": "Receiving Ratio",
          "vi": "Tỷ lệ nhận"
        },
        "calculation": {
          "ko": "계산식",
          "en": "Calculation",
          "vi": "Tính toán"
        },
        "lineLeaderAvg": {
          "ko": "LINE LEADER 평균",
          "en": "LINE LEADER Average",
          "vi": "Trung bình LINE LEADER"
        },
        "expectedIncentive": {
          "ko": "예상 인센티브",
          "en": "Expected Incentive",
          "vi": "Khuyến khích dự kiến"
        },
        "actualIncentive": {
          "ko": "실제 인센티브",
          "en": "Actual Incentive",
          "vi": "Khuyến khích thực tế"
        }
      },
      "alerts": {
        "nonPaymentTitle": {
          "ko": "미지급 사유",
          "en": "Non-Payment Reason",
          "vi": "Lý do không thanh toán"
        },
        "differenceTitle": {
          "ko": "인센티브 차이 안내",
          "en": "Incentive Difference Notice",
          "vi": "Thông báo sự khác biệt khuyến khích"
        },
        "difference": {
          "ko": "차이",
          "en": "Difference",
          "vi": "Sự khác biệt"
        },
        "differenceReason": {
          "ko": "차이 원인: 부하 직원 중 일부가 조건 미충족으로 인센티브를 받지 못했습니다.",
          "en": "Reason: Some subordinates did not receive incentives due to unmet conditions.",
          "vi": "Lý do: Một số nhân viên cấp dưới không nhận được khuyến khích do không đáp ứng điều kiện."
        }
      },
      "tableHeaders": {
        "name": {
          "ko": "이름",
          "en": "Name",
          "vi": "Tên"
        },
        "id": {
          "ko": "사번",
          "en": "ID",
          "vi": "Mã NV"
        },
        "incentive": {
          "ko": "인센티브",
          "en": "Incentive",
          "vi": "Khuyến khích"
        },
        "received": {
          "ko": "수령",
          "en": "Received",
          "vi": "Đã nhận"
        },
        "group": {
          "ko": "그룹",
          "en": "Group",
          "vi": "Nhóm"
        },
        "groupLeader": {
          "ko": "GROUP LEADER",
          "en": "GROUP LEADER",
          "vi": "GROUP LEADER"
        },
        "lineLeader": {
          "ko": "LINE LEADER",
          "en": "LINE LEADER",
          "vi": "LINE LEADER"
        },
        "included": {
          "ko": "포함",
          "en": "Included",
          "vi": "Bao gồm"
        }
      },
      "formulas": {
        "lineLeader": {
          "ko": "TYPE-1 부하 인센티브 합 × 12% × 수령비율",
          "en": "TYPE-1 Subordinate Incentive Sum × 12% × Receiving Rate",
          "vi": "Tổng khuyến khích cấp dưới TYPE-1 × 12% × Tỷ lệ nhận"
        },
        "groupLeader": {
          "ko": "팀 내 LINE LEADER 평균 × 2",
          "en": "Team LINE LEADER Average × 2",
          "vi": "Trung bình LINE LEADER trong nhóm × 2"
        },
        "supervisor": {
          "ko": "LINE LEADER 평균 × 2.5",
          "en": "LINE LEADER Average × 2.5",
          "vi": "Trung bình LINE LEADER × 2.5"
        },
        "amanager": {
          "ko": "LINE LEADER 평균 × 3",
          "en": "LINE LEADER Average × 3",
          "vi": "Trung bình LINE LEADER × 3"
        },
        "manager": {
          "ko": "하위 관리자 평균 × 3.5",
          "en": "Lower Manager Average × 3.5",
          "vi": "Trung bình quản lý cấp dưới × 3.5"
        }
      },
      "nonPaymentReasons": {
        "actualWorkingDaysZero": {
          "ko": "실제 근무일 0일 (출근 조건 1번 미충족)",
          "en": "Actual working days 0 (Attendance condition 1 not met)",
          "vi": "Ngày làm việc thực tế 0 (Điều kiện chấm công 1 không đáp ứng)"
        },
        "unapprovedAbsenceOver2": {
          "ko": "무단결근 2일 초과 (출근 조건 2번 미충족)",
          "en": "Unapproved absence over 2 days (Attendance condition 2 not met)",
          "vi": "Vắng mặt không phép trên 2 ngày (Điều kiện chấm công 2 không đáp ứng)"
        },
        "absentRateOver12": {
          "ko": "결근율 12% 초과 (출근 조건 3번 미충족)",
          "en": "Absence rate over 12% (Attendance condition 3 not met)",
          "vi": "Tỷ lệ vắng mặt trên 12% (Điều kiện chấm công 3 không đáp ứng)"
        },
        "minimumWorkingDays": {
          "ko": "최소 근무일 미달 (출근 조건 4번 미충족)",
          "en": "Minimum working days not met (Attendance condition 4 not met)",
          "vi": "Ngày làm việc tối thiểu không đáp ứng (Điều kiện chấm công 4 không đáp ứng)"
        },
        "teamAreaAQLFail": {
          "ko": "팀/구역 AQL 실패 (AQL 조건 7번 미충족)",
          "en": "Team/Area AQL failure (AQL condition 7 not met)",
          "vi": "Thất bại AQL nhóm/khu vực (Điều kiện AQL 7 không đáp ứng)"
        },
        "monthlyAQLFailures": {
          "ko": "{{month}} AQL 실패 {{count}}건",
          "en": "{{month}} AQL failures: {{count}}",
          "vi": "Thất bại AQL {{month}}: {{count}}"
        },
        "continuous3MonthsAQLFail": {
          "ko": "3개월 연속 AQL 실패",
          "en": "3 consecutive months AQL failure",
          "vi": "Thất bại AQL 3 tháng liên tiếp"
        },
        "continuous2MonthsAQLFail": {
          "ko": "2개월 연속 AQL 실패",
          "en": "2 consecutive months AQL failure",
          "vi": "Thất bại AQL 2 tháng liên tiếp"
        },
        "prs5ValidationOrPassRate": {
          "ko": "5PRS 검증 부족 또는 합격률 95% 미달 (5PRS 조건 1번 미충족)",
          "en": "5PRS validation insufficient or pass rate below 95% (5PRS condition 1 not met)",
          "vi": "Xác thực 5PRS không đủ hoặc tỷ lệ đạt dưới 95% (Điều kiện 5PRS 1 không đáp ứng)"
        },
        "prs5TotalQtyZero": {
          "ko": "5PRS 총 검증 수량 0 (5PRS 조건 2번 미충족)",
          "en": "5PRS total validation quantity 0 (5PRS condition 2 not met)",
          "vi": "Tổng số lượng xác thực 5PRS 0 (Điều kiện 5PRS 2 không đáp ứng)"
        },
        "conditionPassRateInsufficient": {
          "ko": "조건 미충족: {{passed}}/{{applicable}} 충족 ({{passRate}}%)",
          "en": "Conditions not met: {{passed}}/{{applicable}} passed ({{passRate}}%)",
          "vi": "Điều kiện không đạt: {{passed}}/{{applicable}} đạt ({{passRate}}%)"
        },
        "conditionInfoUnavailable": {
          "ko": "조건 정보를 확인할 수 없습니다",
          "en": "Condition information unavailable",
          "vi": "Thông tin điều kiện không có sẵn"
        },
        "failedConditionsLabel": {
          "ko": "미충족 조건",
          "en": "Failed Conditions",
          "vi": "Điều kiện không đạt"
        },
        "cond1_attendance_rate": {
          "ko": "출근율 88% 미만",
          "en": "Attendance rate < 88%",
          "vi": "Tỷ lệ đi làm < 88%"
        },
        "cond2_unapproved_absence": {
          "ko": "무단결근 3일 이상",
          "en": "Unapproved absence ≥ 3 days",
          "vi": "Vắng mặt không phép ≥ 3 ngày"
        },
        "cond3_actual_working_days": {
          "ko": "실제 근무일수 0일",
          "en": "Actual working days is 0",
          "vi": "Số ngày làm việc thực tế là 0"
        },
        "cond4_minimum_days": {
          "ko": "최소 근무일수 미달 (12일)",
          "en": "Below minimum working days (12 days)",
          "vi": "Dưới số ngày làm việc tối thiểu (12 ngày)"
        },
        "cond5_aql_personal_failure": {
          "ko": "개인 AQL 실패 (당월)",
          "en": "Personal AQL failure (current month)",
          "vi": "AQL cá nhân thất bại (tháng hiện tại)"
        },
        "cond6_aql_continuous": {
          "ko": "개인 AQL 3개월 연속 실패",
          "en": "Personal AQL failed 3 consecutive months",
          "vi": "AQL cá nhân thất bại 3 tháng liên tiếp"
        },
        "cond7_aql_team_area": {
          "ko": "팀/구역 AQL 3개월 연속 실패",
          "en": "Team/Area AQL failed 3 consecutive months",
          "vi": "AQL nhóm/khu vực thất bại 3 tháng liên tiếp"
        },
        "cond8_area_reject": {
          "ko": "담당 구역 불량률 3% 초과",
          "en": "Area reject rate > 3%",
          "vi": "Tỷ lệ lỗi khu vực > 3%"
        },
        "cond9_5prs_pass_rate": {
          "ko": "5PRS 통과율 95% 미만",
          "en": "5PRS pass rate < 95%",
          "vi": "Tỷ lệ đạt 5PRS < 95%"
        },
        "cond10_5prs_inspection_qty": {
          "ko": "5PRS 검사 수량 100개 미만",
          "en": "5PRS inspection quantity < 100 pieces",
          "vi": "Số lượng kiểm tra 5PRS < 100 cái"
        }
      }
    },
    "expandAll": {
      "ko": "전체 펼치기",
      "en": "Expand All",
      "vi": "Mở rộng tất cả"
    },
    "collapseAll": {
      "ko": "전체 접기",
      "en": "Collapse All",
      "vi": "Thu gọn tất cả"
    },
    "noIncentive": {
      "ko": "인센티브 미수령",
      "en": "No Incentive",
      "vi": "Không có thưởng"
    }
  },
  "headers": {
    "title": {
      "ko": "QIP 인센티브 대시보드",
      "en": "QIP Incentive Dashboard",
      "vi": "Bảng điều khiển khen thưởng QIP"
    },
    "mainTitle": {
      "ko": "QIP 인센티브 계산 결과",
      "en": "QIP Incentive Calculation Results",
      "vi": "Kết quả tính khen thưởng QIP"
    },
    "incentiveStatus": {
      "ko": "인센티브 지급 현황",
      "en": "Incentive Payment Status",
      "vi": "Tình trạng chi trả khen thưởng"
    },
    "reportDateLabel": {
      "ko": "보고서 생성일:",
      "en": "Report Generated:",
      "vi": "Báo cáo tạo ngày:"
    },
    "dataPeriod": {
      "title": {
        "ko": "📊 사용 데이터 기간:",
        "en": "📊 Data Period Used:",
        "vi": "📊 Thời gian dữ liệu sử dụng:"
      },
      "incentiveData": {
        "ko": "인센티브 데이터",
        "en": "Incentive Data",
        "vi": "Dữ liệu khen thưởng"
      },
      "attendanceData": {
        "ko": "출근 데이터",
        "en": "Attendance Data",
        "vi": "Dữ liệu chấm công"
      },
      "aqlData": {
        "ko": "AQL 데이터",
        "en": "AQL Data",
        "vi": "Dữ liệu AQL"
      },
      "5prsData": {
        "ko": "5PRS 데이터",
        "en": "5PRS Data",
        "vi": "Dữ liệu 5PRS"
      },
      "manpowerData": {
        "ko": "기본 인력 데이터",
        "en": "Basic Manpower Data",
        "vi": "Dữ liệu nhân lực cơ bản"
      },
      "basedOn": {
        "ko": "기준",
        "en": "Based on",
        "vi": "Dựa trên"
      }
    },
    "month": {
      "ko": "월",
      "en": "Month",
      "vi": "Tháng"
    },
    "year": {
      "ko": "년",
      "en": "Year",
      "vi": "Năm"
    },
    "august": {
      "ko": "8월",
      "en": "August",
      "vi": "Tháng 8"
    },
    "september": {
      "ko": "9월",
      "en": "September",
      "vi": "Tháng 9"
    }
  },
  "reportTypeBanner": {
    "interim": {
      "title": {
        "ko": "중간 점검용 보고서",
        "en": "Interim Report",
        "vi": "Báo cáo tạm thời"
      },
      "description": {
        "ko": "이 보고서는 월중 점검용 중간 보고서입니다. 최소 근무일(12일) 및 결근율(12%) 조건이 적용되지 않습니다.",
        "en": "This is an interim report for mid-month review. Minimum working days (12 days) and absence rate (12%) conditions are not applied.",
        "vi": "Đây là báo cáo tạm thời để kiểm tra giữa tháng. Các điều kiện ngày làm việc tối thiểu (12 ngày) và tỷ lệ vắng mặt (12%) không được áp dụng."
      }
    },
    "final": {
      "title": {
        "ko": "최종 보고서",
        "en": "Final Report",
        "vi": "Báo cáo cuối cùng"
      },
      "description": {
        "ko": "이 보고서는 월말 최종 보고서입니다. 모든 인센티브 조건이 정상적으로 적용됩니다.",
        "en": "This is the final report for month-end. All incentive conditions are applied normally.",
        "vi": "Đây là báo cáo cuối cùng cho cuối tháng. Tất cả các điều kiện khen thưởng được áp dụng bình thường."
      }
    },
    "generatedOn": {
      "ko": "생성일",
      "en": "Generated on",
      "vi": "Tạo ngày"
    }
  },
  "summary": {
    "cards": {
      "totalEmployees": {
        "ko": "전체 직원",
        "en": "Total Employees",
        "vi": "Tổng nhân viên"
      },
      "eligibleEmployees": {
        "ko": "지급 대상",
        "en": "Eligible",
        "vi": "Đủ điều kiện"
      },
      "paidEmployees": {
        "ko": "수령 직원",
        "en": "Paid Employees",
        "vi": "Nhân viên đã nhận"
      },
      "totalAmount": {
        "ko": "총 지급액",
        "en": "Total Amount",
        "vi": "Tổng tiền thưởng"
      },
      "avgAmount": {
        "ko": "평균 지급액",
        "en": "Average Amount",
        "vi": "Trung bình"
      },
      "paymentRate": {
        "ko": "지급률",
        "en": "Payment Rate",
        "vi": "Tỷ lệ chi trả"
      }
    },
    "chartLabels": {
      "recipientBased": {
        "ko": "수령인원 기준",
        "en": "Recipients Based",
        "vi": "Dựa trên người nhận"
      },
      "totalBased": {
        "ko": "총원 기준",
        "en": "Total Based",
        "vi": "Dựa trên tổng số"
      }
    },
    "typeTable": {
      "title": {
        "ko": "Type별 요약",
        "en": "Summary by Type",
        "vi": "Tóm tắt theo loại"
      },
      "columns": {
        "type": {
          "ko": "Type",
          "en": "Type",
          "vi": "Loại"
        },
        "totalEmployees": {
          "ko": "전체 인원",
          "en": "Total",
          "vi": "Tổng số"
        },
        "eligible": {
          "ko": "지급 대상",
          "en": "Eligible",
          "vi": "Đủ điều kiện"
        },
        "paymentRate": {
          "ko": "지급률",
          "en": "Payment Rate",
          "vi": "Tỷ lệ"
        },
        "totalAmount": {
          "ko": "총 지급액",
          "en": "Total Amount",
          "vi": "Tổng tiền"
        }
      }
    }
  },
  "position": {
    "title": {
      "ko": "직급별 상세 현황",
      "en": "Position Details Status",
      "vi": "Chi tiết theo chức vụ"
    },
    "sectionTitles": {
      "type1": {
        "ko": "TYPE-1 직급별 현황",
        "en": "TYPE-1 Position Status",
        "vi": "Tình trạng chức vụ TYPE-1"
      },
      "type2": {
        "ko": "TYPE-2 직급별 현황",
        "en": "TYPE-2 Position Status",
        "vi": "Tình trạng chức vụ TYPE-2"
      },
      "type3": {
        "ko": "TYPE-3 직급별 현황",
        "en": "TYPE-3 Position Status",
        "vi": "Tình trạng chức vụ TYPE-3"
      },
      "type1Total": {
        "ko": "TYPE-1 합계",
        "en": "TYPE-1 Total",
        "vi": "Tổng TYPE-1"
      },
      "type2Total": {
        "ko": "TYPE-2 합계",
        "en": "TYPE-2 Total",
        "vi": "Tổng TYPE-2"
      },
      "type3Total": {
        "ko": "TYPE-3 합계",
        "en": "TYPE-3 Total",
        "vi": "Tổng TYPE-3"
      }
    },
    "viewButton": {
      "ko": "보기",
      "en": "View",
      "vi": "Xem"
    },
    "positionTable": {
      "columns": {
        "position": {
          "ko": "직급",
          "en": "Position",
          "vi": "Chức vụ"
        },
        "type": {
          "ko": "Type",
          "en": "Type",
          "vi": "Loại"
        },
        "total": {
          "ko": "총 인원",
          "en": "Total",
          "vi": "Tổng"
        },
        "paid": {
          "ko": "지급 대상",
          "en": "Paid",
          "vi": "Đã trả"
        },
        "totalEmployees": {
          "ko": "총 인원",
          "en": "Total",
          "vi": "Tổng"
        },
        "eligible": {
          "ko": "지급 대상",
          "en": "Eligible",
          "vi": "Đủ điều kiện"
        },
        "paymentRate": {
          "ko": "지급률",
          "en": "Rate",
          "vi": "Tỷ lệ"
        },
        "avgAmount": {
          "ko": "평균 지급액",
          "en": "Avg Amount",
          "vi": "Trung bình"
        },
        "totalAmount": {
          "ko": "총 지급액",
          "en": "Total Amount",
          "vi": "Tổng tiền"
        },
        "details": {
          "ko": "상세",
          "en": "Details",
          "vi": "Chi tiết"
        }
      }
    }
  },
  "individual": {
    "title": {
      "ko": "개인별 상세 정보",
      "en": "Individual Details",
      "vi": "Chi tiết cá nhân"
    },
    "filters": {
      "type": {
        "ko": "Type 선택",
        "en": "Select Type",
        "vi": "Chọn loại"
      },
      "position": {
        "ko": "직급 선택",
        "en": "Select Position",
        "vi": "Chọn chức vụ"
      },
      "payment": {
        "ko": "지급 상태",
        "en": "Payment Status",
        "vi": "Trạng thái"
      },
      "search": {
        "ko": "검색 (이름/ID)",
        "en": "Search (Name/ID)",
        "vi": "Tìm kiếm (Tên/ID)"
      },
      "allTypes": {
        "ko": "모든 Type",
        "en": "All Types",
        "vi": "Tất cả loại"
      },
      "allPositions": {
        "ko": "모든 직급",
        "en": "All Positions",
        "vi": "Tất cả chức vụ"
      },
      "allStatus": {
        "ko": "전체",
        "en": "All",
        "vi": "Tất cả"
      },
      "paidOnly": {
        "ko": "지급 대상만",
        "en": "Paid Only",
        "vi": "Được trả"
      },
      "unpaidOnly": {
        "ko": "미지급만",
        "en": "Unpaid Only",
        "vi": "Chưa trả"
      }
    },
    "table": {
      "columns": {
        "employeeId": {
          "ko": "사원번호",
          "en": "Employee ID",
          "vi": "Mã NV"
        },
        "name": {
          "ko": "이름",
          "en": "Name",
          "vi": "Họ tên"
        },
        "position": {
          "ko": "직급",
          "en": "Position",
          "vi": "Chức vụ"
        },
        "type": {
          "ko": "Type",
          "en": "Type",
          "vi": "Loại"
        },
        "incentiveAmount": {
          "ko": "인센티브",
          "en": "Incentive",
          "vi": "Tiền thưởng"
        },
        "status": {
          "ko": "상태",
          "en": "Status",
          "vi": "Trạng thái"
        },
        "details": {
          "ko": "상세",
          "en": "Details",
          "vi": "Chi tiết"
        }
      },
      "detailButton": {
        "ko": "상세보기",
        "en": "View Details",
        "vi": "Xem chi tiết"
      },
      "noResults": {
        "ko": "검색 결과가 없습니다",
        "en": "No results found",
        "vi": "Không tìm thấy kết quả"
      }
    }
  },
  "criteria": {
    "mainTitle": {
      "ko": "QIP 인센티브 정책 및 계산 기준",
      "en": "QIP Incentive Policy and Calculation Standards",
      "vi": "Chính sách và Tiêu chuẩn Tính toán Khen thưởng QIP"
    },
    "title": {
      "ko": "인센티브 지급 기준",
      "en": "Incentive Payment Criteria",
      "vi": "Tiêu chí chi trả khen thưởng"
    },
    "corePrinciples": {
      "title": {
        "ko": "📌 핵심 원칙",
        "en": "📌 Core Principles",
        "vi": "📌 Nguyên tắc cốt lõi"
      },
      "description1": {
        "ko": "모든 직원은 해당 직급별로 지정된 <strong>모든 조건을 충족</strong>해야 인센티브를 받을 수 있습니다.",
        "en": "All employees must meet <strong>all conditions</strong> specified for their position to receive incentives.",
        "vi": "Tất cả nhân viên phải đáp ứng <strong>tất cả điều kiện</strong> theo chức vụ để nhận thưởng."
      },
      "description2": {
        "ko": "조건은 출근(4개), AQL(4개), 5PRS(2개)로 구성되며, 직급별로 적용 조건이 다릅니다.",
        "en": "Conditions consist of Attendance (4), AQL (4), and 5PRS (2), with different applications by position.",
        "vi": "Điều kiện bao gồm Chấm công (4), AQL (4), và 5PRS (2), áp dụng khác nhau theo chức vụ."
      }
    },
    "evaluationConditions": {
      "title": {
        "ko": "📊 10가지 평가 조건 상세",
        "en": "📊 10 Evaluation Conditions Details",
        "vi": "📊 Chi tiết 10 điều kiện đánh giá"
      },
      "tableHeaders": {
        "number": {
          "ko": "#",
          "en": "#",
          "vi": "#"
        },
        "conditionName": {
          "ko": "조건명",
          "en": "Condition Name",
          "vi": "Tên điều kiện"
        },
        "criteria": {
          "ko": "기준",
          "en": "Criteria",
          "vi": "Tiêu chí"
        },
        "description": {
          "ko": "설명",
          "en": "Description",
          "vi": "Mô tả"
        }
      }
    },
    "policySummary": {
      "title": {
        "ko": "📌 인센티브 정책 개요",
        "en": "📌 Incentive Policy Overview",
        "vi": "📌 Tổng quan chính sách khen thưởng"
      },
      "description": {
        "ko": "모든 직원은 해당 직급별로 지정된 <strong>모든 조건을 충족</strong>해야 인센티브를 받을 수 있습니다.",
        "en": "All employees must meet <strong>all conditions</strong> specified for their position to receive incentives.",
        "vi": "Tất cả nhân viên phải đáp ứng <strong>tất cả điều kiện</strong> theo chức vụ để nhận thưởng."
      },
      "conditionTypes": {
        "ko": "조건은 출근(4개), AQL(4개), 5PRS(2개)로 구성되며, 직급별로 적용 조건이 다릅니다.",
        "en": "Conditions consist of Attendance (4), AQL (4), and 5PRS (2), with different applications by position.",
        "vi": "Điều kiện bao gồm Chấm công (4), AQL (4), và 5PRS (2), áp dụng khác nhau theo chức vụ."
      }
    },
    "conditions": {
      "attendance": {
        "title": {
          "ko": "📅 출근 조건 (4개)",
          "en": "📅 Attendance Conditions (4)",
          "vi": "📅 Điều kiện chấm công (4)"
        },
        "items": {
          "attendanceRate": {
            "name": {
              "ko": "출근율",
              "en": "Attendance Rate",
              "vi": "Tỷ lệ chấm công"
            },
            "criteria": {
              "ko": "≥88%",
              "en": "≥88%",
              "vi": "≥88%"
            },
            "description": {
              "ko": "월간 출근율이 88% 이상이어야 합니다 (결근율 12% 이하)",
              "en": "Monthly attendance rate must be 88% or higher (absence rate 12% or lower)",
              "vi": "Tỷ lệ chấm công hàng tháng phải từ 88% trở lên (tỷ lệ vắng mặt dưới 12%)"
            }
          },
          "unapprovedAbsence": {
            "name": {
              "ko": "무단결근",
              "en": "Unapproved Absence",
              "vi": "Vắng không phép"
            },
            "criteria": {
              "ko": "≤2일",
              "en": "≤2 days",
              "vi": "≤2 ngày"
            },
            "description": {
              "ko": "사전 승인 없는 결근이 월 2일 이하여야 합니다",
              "en": "Unapproved absences must be 2 days or less per month",
              "vi": "Vắng không phép phải dưới 2 ngày mỗi tháng"
            }
          },
          "actualWorkingDays": {
            "name": {
              "ko": "실제 근무일",
              "en": "Actual Working Days",
              "vi": "Ngày làm thực tế"
            },
            "criteria": {
              "ko": ">0일",
              "en": ">0 days",
              "vi": ">0 ngày"
            },
            "description": {
              "ko": "실제 출근한 날이 1일 이상이어야 합니다",
              "en": "Must have at least 1 day of actual work attendance",
              "vi": "Phải có ít nhất 1 ngày làm việc thực tế"
            }
          },
          "minimumWorkingDays": {
            "name": {
              "ko": "최소 근무일",
              "en": "Minimum Working Days",
              "vi": "Ngày làm tối thiểu"
            },
            "criteria": {
              "ko": "≥12일",
              "en": "≥12 days",
              "vi": "≥12 ngày"
            },
            "description": {
              "ko": "월간 최소 12일 이상 근무해야 합니다",
              "en": "Must work at least 12 days per month",
              "vi": "Phải làm việc ít nhất 12 ngày mỗi tháng"
            }
          }
        }
      },
      "aql": {
        "title": {
          "ko": "🎯 AQL 조건 (4개)",
          "en": "🎯 AQL Conditions (4)",
          "vi": "🎯 Điều kiện AQL (4)"
        },
        "items": {
          "personalFailure": {
            "name": {
              "ko": "개인 AQL (당월)",
              "en": "Personal AQL (Current Month)",
              "vi": "AQL cá nhân (Tháng hiện tại)"
            },
            "criteria": {
              "ko": "실패 0건",
              "en": "0 failures",
              "vi": "0 thất bại"
            },
            "description": {
              "ko": "당월 개인 AQL 검사 실패가 없어야 합니다",
              "en": "Must have no personal AQL inspection failures this month",
              "vi": "Không có thất bại kiểm tra AQL cá nhân trong tháng này"
            }
          },
          "personalContinuous": {
            "name": {
              "ko": "개인 AQL (연속성)",
              "en": "Personal AQL (Continuity)",
              "vi": "AQL cá nhân (Liên tục)"
            },
            "criteria": {
              "ko": "3개월 연속 실패 없음",
              "en": "No 3-month consecutive failures",
              "vi": "Không thất bại 3 tháng liên tiếp"
            },
            "description": {
              "ko": "최근 3개월간 연속으로 AQL 실패가 없어야 합니다",
              "en": "Must not have AQL failures for 3 consecutive months",
              "vi": "Không có thất bại AQL trong 3 tháng liên tiếp"
            }
          },
          "teamArea": {
            "name": {
              "ko": "팀/구역 AQL",
              "en": "Team/Area AQL",
              "vi": "AQL nhóm/khu vực"
            },
            "criteria": {
              "ko": "3개월 연속 실패 없음",
              "en": "No 3-month consecutive failures",
              "vi": "Không thất bại 3 tháng liên tiếp"
            },
            "description": {
              "ko": "관리하는 팀/구역에서 3개월 연속 실패자가 없어야 합니다",
              "en": "Managed team/area must have no failures for 3 consecutive months",
              "vi": "Nhóm/khu vực quản lý không có người thất bại trong 3 tháng liên tiếp"
            }
          },
          "areaReject": {
            "name": {
              "ko": "담당구역 AQL Reject율",
              "en": "Area AQL Reject Rate",
              "vi": "Tỷ lệ từ chối AQL khu vực"
            },
            "criteria": {
              "ko": "<3%",
              "en": "<3%",
              "vi": "<3%"
            },
            "description": {
              "ko": "담당 구역의 AQL 리젝률이 3% 미만이어야 합니다",
              "en": "Area AQL reject rate must be less than 3%",
              "vi": "Tỷ lệ từ chối AQL khu vực phải dưới 3%"
            }
          }
        }
      },
      "5prs": {
        "title": {
          "ko": "📊 5PRS 조건 (2개)",
          "en": "📊 5PRS Conditions (2)",
          "vi": "📊 Điều kiện 5PRS (2)"
        },
        "items": {
          "passRate": {
            "name": {
              "ko": "5PRS 통과율",
              "en": "5PRS Pass Rate",
              "vi": "Tỷ lệ đạt 5PRS"
            },
            "criteria": {
              "ko": "≥95%",
              "en": "≥95%",
              "vi": "≥95%"
            },
            "description": {
              "ko": "5족 평가 시스템에서 95% 이상 통과해야 합니다",
              "en": "Must pass 95% or more in 5-pair evaluation system",
              "vi": "Phải đạt từ 95% trở lên trong hệ thống đánh giá 5 đôi"
            }
          },
          "inspectionQty": {
            "name": {
              "ko": "5PRS 검사량",
              "en": "5PRS Inspection Quantity",
              "vi": "Số lượng kiểm tra 5PRS"
            },
            "criteria": {
              "ko": "≥100개",
              "en": "≥100 pairs",
              "vi": "≥100 đôi"
            },
            "description": {
              "ko": "월간 최소 100개 이상 검사를 수행해야 합니다",
              "en": "Must perform at least 100 inspections per month",
              "vi": "Phải thực hiện ít nhất 100 kiểm tra mỗi tháng"
            }
          }
        }
      }
    },
    "positionMatrix": {
      "title": {
        "ko": "🎖️ 직급별 적용 조건",
        "en": "🎖️ Conditions by Position",
        "vi": "🎖️ Điều kiện theo chức vụ"
      },
      "tableHeaders": {
        "position": {
          "ko": "직급",
          "en": "Position",
          "vi": "Chức vụ"
        },
        "appliedConditions": {
          "ko": "적용 조건",
          "en": "Applied Conditions",
          "vi": "Điều kiện áp dụng"
        },
        "conditionCount": {
          "ko": "조건 수",
          "en": "Condition Count",
          "vi": "Số điều kiện"
        },
        "notes": {
          "ko": "특이사항",
          "en": "Notes",
          "vi": "Ghi chú"
        }
      },
      "type2Table": {
        "allType2": {
          "ko": "모든 TYPE-2 직급",
          "en": "All TYPE-2 Positions",
          "vi": "Tất cả chức vụ TYPE-2"
        },
        "fourConditions": {
          "ko": "4개",
          "en": "4",
          "vi": "4"
        },
        "attendanceOnly": {
          "ko": "출근 조건만 적용",
          "en": "Attendance only",
          "vi": "Chỉ điều kiện chấm công"
        }
      },
      "type3Table": {
        "newMember": {
          "ko": "NEW QIP MEMBER",
          "en": "NEW QIP MEMBER",
          "vi": "THÀNH VIÊN QIP MỚI"
        },
        "noConditions": {
          "ko": "없음",
          "en": "None",
          "vi": "Không có"
        },
        "zeroConditions": {
          "ko": "0개",
          "en": "0",
          "vi": "0"
        },
        "newMemberNote": {
          "ko": "신입직원 - 인센티브 없음",
          "en": "New employee - No incentive",
          "vi": "Nhân viên mới - Không có thưởng"
        }
      },
      "typeHeaders": {
        "type1": {
          "ko": "TYPE-1 직급별 조건",
          "en": "TYPE-1 Position Conditions",
          "vi": "Điều kiện chức vụ TYPE-1"
        },
        "type2": {
          "ko": "TYPE-2 직급별 조건",
          "en": "TYPE-2 Position Conditions",
          "vi": "Điều kiện chức vụ TYPE-2"
        },
        "type3": {
          "ko": "TYPE-3 직급별 조건",
          "en": "TYPE-3 Position Conditions",
          "vi": "Điều kiện chức vụ TYPE-3"
        }
      },
      "notes": {
        "attendanceOnly": {
          "ko": "출근 조건만",
          "en": "Attendance only",
          "vi": "Chỉ điều kiện chấm công"
        },
        "attendanceTeamAql": {
          "ko": "출근 + 팀/구역 AQL",
          "en": "Attendance + Team/Area AQL",
          "vi": "Chấm công + AQL nhóm/khu vực"
        },
        "attendanceMonthAql": {
          "ko": "출근 + 당월 AQL (특별 계산)",
          "en": "Attendance + Monthly AQL (Special calculation)",
          "vi": "Chấm công + AQL tháng hiện tại (Đặc biệt)"
        },
        "attendancePersonalAql5prs": {
          "ko": "출근 + 개인 AQL + 5PRS",
          "en": "Attendance + Personal AQL + 5PRS",
          "vi": "Chấm công + AQL cá nhân + 5PRS"
        },
        "attendanceTeamAreaReject": {
          "ko": "출근 + 팀/구역 AQL + 담당구역 reject",
          "en": "Attendance + Team/Area AQL + Area reject",
          "vi": "Chấm công + AQL nhóm/khu vực + Từ chối khu vực"
        },
        "attendanceAreaReject": {
          "ko": "출근 + 담당구역 reject",
          "en": "Attendance + Area reject",
          "vi": "Chấm công + Từ chối khu vực"
        },
        "allConditions": {
          "ko": "모든 조건",
          "en": "All conditions",
          "vi": "Tất cả điều kiện"
        },
        "noConditions": {
          "ko": "조건 없음 (신규 QIP)",
          "en": "No conditions (New QIP)",
          "vi": "Không có điều kiện (QIP mới)"
        }
      }
    },
    "incentiveAmount": {
      "title": {
        "ko": "💰 인센티브 금액 계산",
        "en": "💰 Incentive Amount Calculation",
        "vi": "💰 Tính toán số tiền khen thưởng"
      },
      "type1Range": {
        "ko": "TYPE-1: 300,000 - 500,000 VND",
        "en": "TYPE-1: 300,000 - 500,000 VND",
        "vi": "TYPE-1: 300.000 - 500.000 VND"
      },
      "type2Range": {
        "ko": "TYPE-2: 200,000 - 400,000 VND",
        "en": "TYPE-2: 200,000 - 400,000 VND",
        "vi": "TYPE-2: 200.000 - 400.000 VND"
      },
      "type3Range": {
        "ko": "TYPE-3: 100,000 VND (고정)",
        "en": "TYPE-3: 100,000 VND (Fixed)",
        "vi": "TYPE-3: 100.000 VND (Cố định)"
      },
      "note": {
        "ko": "* 금액은 성과와 직급에 따라 결정됩니다",
        "en": "* Amount is determined by performance and position",
        "vi": "* Số tiền được xác định theo hiệu suất và chức vụ"
      }
    },
    "specialRules": {
      "title": {
        "ko": "📘 특별 규칙",
        "en": "📘 Special Rules",
        "vi": "📘 Quy tắc đặc biệt"
      },
      "rule1": {
        "ko": "AQL INSPECTOR는 당월 AQL 조건만 평가 (연속성 조건 제외)",
        "en": "AQL INSPECTOR is evaluated only on current month AQL (continuity excluded)",
        "vi": "AQL INSPECTOR chỉ đánh giá AQL tháng hiện tại (không liên tục)"
      },
      "rule2": {
        "ko": "TYPE-3 직급은 조건 충족 여부와 무관하게 고정 금액 지급",
        "en": "TYPE-3 positions receive fixed amount regardless of condition fulfillment",
        "vi": "Chức vụ TYPE-3 nhận số tiền cố định bất kể điều kiện"
      },
      "rule3": {
        "ko": "3개월 연속 조건은 직전 2개월 데이터 포함 평가",
        "en": "3-month continuity conditions include previous 2 months' data",
        "vi": "Điều kiện liên tục 3 tháng bao gồm dữ liệu 2 tháng trước"
      }
    },
    "goodToKnow": {
      "title": {
        "ko": "💡 알아두면 좋은 정보",
        "en": "💡 Good to Know",
        "vi": "💡 Thông tin hữu ích"
      },
      "corePrinciplesSubtitle": {
        "ko": "인센티브 계산 핵심 원칙",
        "en": "Core Principles of Incentive Calculation",
        "vi": "Nguyên tắc cốt lõi tính khen thưởng"
      }
    },
    "faq": {
      "title": {
        "ko": "❓ 자주 묻는 질문",
        "en": "❓ Frequently Asked Questions",
        "vi": "❓ Câu hỏi thường gặp"
      },
      "q1": {
        "question": {
          "ko": "Q: 조건을 하나라도 충족하지 못하면 인센티브를 못 받나요?",
          "en": "Q: If I fail even one condition, do I not receive any incentive?",
          "vi": "Q: Nếu tôi không đáp ứng một điều kiện, tôi có nhận được khen thưởng không?"
        },
        "answer": {
          "ko": "A: 네, 모든 해당 조건을 충족해야 인센티브를 받을 수 있습니다.",
          "en": "A: Yes, all applicable conditions must be met to receive incentive.",
          "vi": "A: Đúng, tất cả điều kiện áp dụng phải được đáp ứng để nhận khen thưởng."
        }
      },
      "q2": {
        "question": {
          "ko": "Q: TYPE-3 직급은 조건이 없나요?",
          "en": "Q: Do TYPE-3 positions have no conditions?",
          "vi": "Q: Chức vụ TYPE-3 không có điều kiện à?"
        },
        "answer": {
          "ko": "A: TYPE-3는 신규 QIP 멤버로 기본 인센티브만 받으며 특별 조건이 없습니다.",
          "en": "A: TYPE-3 are new QIP members who receive basic incentive without special conditions.",
          "vi": "A: TYPE-3 là thành viên QIP mới nhận khen thưởng cơ bản không có điều kiện đặc biệt."
        }
      }
    }
  },
  "modal": {
    "modalTitle": {
      "ko": "인센티브 계산 상세",
      "en": "Incentive Calculation Details",
      "vi": "Chi tiết tính khen thưởng"
    },
    "expectedIncentive": {
      "ko": "예상 인센티브",
      "en": "Expected Incentive",
      "vi": "Khuyến khích dự kiến"
    },
    "actualIncentive": {
      "ko": "실제 인센티브",
      "en": "Actual Incentive",
      "vi": "Khuyến khích thực tế"
    },
    "title": {
      "ko": "직원 상세 정보",
      "en": "Employee Details",
      "vi": "Chi tiết nhân viên"
    },
    "incentiveCalculationDetail": {
      "ko": "인센티브 계산 상세",
      "en": "Incentive Calculation Details",
      "vi": "Chi tiết tính khen thưởng"
    },
    "incentiveStats": {
      "ko": "인센티브 통계",
      "en": "Incentive Statistics",
      "vi": "Thống kê khen thưởng"
    },
    "totalPersonnel": {
      "ko": "전체 인원",
      "en": "Total Personnel",
      "vi": "Tổng nhân sự"
    },
    "paidPersonnel": {
      "ko": "지급 인원",
      "en": "Paid Personnel",
      "vi": "Nhân sự được trả"
    },
    "unpaidPersonnel": {
      "ko": "미지급 인원",
      "en": "Unpaid Personnel",
      "vi": "Nhân sự chưa trả"
    },
    "avgIncentive": {
      "ko": "평균 인센티브",
      "en": "Average Incentive",
      "vi": "Khen thưởng trung bình"
    },
    "maxIncentive": {
      "ko": "최대 인센티브",
      "en": "Maximum Incentive",
      "vi": "Khen thưởng tối đa"
    },
    "minIncentive": {
      "ko": "최소 인센티브",
      "en": "Minimum Incentive",
      "vi": "Khen thưởng tối thiểu"
    },
    "median": {
      "ko": "중간값",
      "en": "Median",
      "vi": "Giá trị trung vị"
    },
    "payment": {
      "paid": {
        "ko": "지급 완료",
        "en": "Payment Complete",
        "vi": "Đã thanh toán"
      },
      "unpaid": {
        "ko": "미지급",
        "en": "Unpaid",
        "vi": "Chưa thanh toán"
      }
    },
    "conditionFulfillmentDetails": {
      "ko": "조건 충족 상세",
      "en": "Condition Fulfillment Details",
      "vi": "Chi tiết đáp ứng điều kiện"
    },
    "condition": {
      "ko": "조건",
      "en": "Condition",
      "vi": "Điều kiện"
    },
    "evaluationTarget": {
      "ko": "평가 대상",
      "en": "Evaluation Target",
      "vi": "Đối tượng đánh giá"
    },
    "fulfillmentRate": {
      "ko": "충족률",
      "en": "Fulfillment Rate",
      "vi": "Tỷ lệ đạt"
    },
    "fulfilled": {
      "ko": "충족",
      "en": "Fulfilled",
      "vi": "Đạt"
    },
    "notFulfilled": {
      "ko": "미충족",
      "en": "Not Fulfilled",
      "vi": "Không đạt"
    },
    "type1ContinuousMonthsRule": {
      "title": {
        "ko": "TYPE-1 연속 개월 수 (Continuous Months) 규칙",
        "en": "TYPE-1 Continuous Months Rule",
        "vi": "Quy tắc số tháng liên tục TYPE-1"
      },
      "allConditionsMet": {
        "ko": "모든 조건 100% 충족 시: 연속 개월 수 +1 증가 (최대 15개월)",
        "en": "When all conditions are 100% met: Continuous months +1 (max 15 months)",
        "vi": "Khi đáp ứng 100% tất cả điều kiện: Số tháng liên tục +1 (tối đa 15 tháng)"
      },
      "anyConditionFailed": {
        "ko": "하나라도 조건 미충족 시: 연속 개월 수 0으로 리셋",
        "en": "When any condition is not met: Reset continuous months to 0",
        "vi": "Khi không đáp ứng bất kỳ điều kiện nào: Đặt lại số tháng liên tục về 0"
      },
      "zeroMonthsResult": {
        "ko": "연속 개월 수 0인 경우: 인센티브 0 VND",
        "en": "When continuous months = 0: Incentive 0 VND",
        "vi": "Khi số tháng liên tục = 0: Khuyến khích 0 VND"
      },
      "example": {
        "ko": "예시: 조건은 모두 PASS했지만 이전 달 조건 미충족으로 연속 개월 수 = 0 → 인센티브 0 VND",
        "en": "Example: All conditions PASS this month, but previous month failed → Continuous months = 0 → Incentive 0 VND",
        "vi": "Ví dụ: Tất cả điều kiện PASS tháng này, nhưng tháng trước không đạt → Số tháng liên tục = 0 → Khuyến khích 0 VND"
      }
    },
    "paymentRate": {
      "ko": "지급율",
      "en": "Payment Rate",
      "vi": "Tỷ lệ chi trả"
    },
    "employeeDetails": {
      "ko": "직원별 상세 현황",
      "en": "Employee Details Status",
      "vi": "Tình trạng chi tiết nhân viên"
    },
    "all": {
      "ko": "전체",
      "en": "All",
      "vi": "Tất cả"
    },
    "paidOnly": {
      "ko": "지급자만",
      "en": "Paid Only",
      "vi": "Chỉ đã trả"
    },
    "unpaidOnly": {
      "ko": "미지급자만",
      "en": "Unpaid Only",
      "vi": "Chỉ chưa trả"
    },
    "conditionStatus": {
      "ko": "조건 충족 현황",
      "en": "Condition Fulfillment Status",
      "vi": "Tình trạng đáp ứng điều kiện"
    },
    "attendance": {
      "ko": "출근",
      "en": "Attendance",
      "vi": "Chấm công"
    },
    "aql": {
      "ko": "AQL",
      "en": "AQL",
      "vi": "AQL"
    },
    "prs": {
      "ko": "5PRS",
      "en": "5PRS",
      "vi": "5PRS"
    },
    "conditionNames": {
      "attendance_88": {
        "ko": "출근율 88% 이상",
        "en": "Attendance ≥88%",
        "vi": "Chấm công ≥88%"
      },
      "no_unexcused_2days": {
        "ko": "무단결근 2일 이하",
        "en": "Unexcused absence ≤2 days",
        "vi": "Vắng không phép ≤2 ngày"
      },
      "accident_free": {
        "ko": "실제근무일 0일 초과",
        "en": "Actual working days >0",
        "vi": "Ngày làm việc thực tế >0"
      },
      "min_days_12": {
        "ko": "최소 근무일 12일 이상",
        "en": "Min. working days ≥12",
        "vi": "Ngày làm việc tối thiểu ≥12"
      },
      "personal_aql_0": {
        "ko": "개인AQL: 당월실패 0건",
        "en": "Personal AQL: 0 failures",
        "vi": "AQL cá nhân: 0 thất bại"
      },
      "continuous_aql_3months": {
        "ko": "연속성 체크: 3개월 연속 실패 없음",
        "en": "Continuity: No failures for 3 months",
        "vi": "Liên tục: Không thất bại 3 tháng"
      },
      "team_aql_3months": {
        "ko": "팀/구역 AQL: 3개월 연속 실패 없음",
        "en": "Team/Area AQL: No failures for 3 months",
        "vi": "AQL nhóm/khu vực: Không thất bại 3 tháng"
      },
      "reject_rate_3": {
        "ko": "담당구역 reject % < 3%",
        "en": "Area reject rate <3%",
        "vi": "Tỷ lệ từ chối khu vực <3%"
      },
      "prs_rate_95": {
        "ko": "5PRS 통과율 95% 이상",
        "en": "5PRS pass rate ≥95%",
        "vi": "Tỷ lệ đạt 5PRS ≥95%"
      },
      "prs_count_100": {
        "ko": "5PRS 검사량 100족 이상",
        "en": "5PRS inspection ≥100 pairs",
        "vi": "Kiểm tra 5PRS ≥100 đôi"
      }
    },
    "conditionCategories": {
      "attendance": {
        "ko": "출근",
        "en": "Attendance",
        "vi": "Chấm công"
      },
      "aql": {
        "ko": "AQL",
        "en": "AQL",
        "vi": "AQL"
      },
      "prs": {
        "ko": "5PRS",
        "en": "5PRS",
        "vi": "5PRS"
      }
    },
    "close": {
      "ko": "닫기",
      "en": "Close",
      "vi": "Đóng"
    },
    "basicInfo": {
      "title": {
        "ko": "기본 정보",
        "en": "Basic Information",
        "vi": "Thông tin cơ bản"
      },
      "employeeId": {
        "ko": "사원번호",
        "en": "Employee ID",
        "vi": "Mã nhân viên"
      },
      "name": {
        "ko": "이름",
        "en": "Name",
        "vi": "Họ tên"
      },
      "position": {
        "ko": "직급",
        "en": "Position",
        "vi": "Chức vụ"
      },
      "type": {
        "ko": "Type",
        "en": "Type",
        "vi": "Loại"
      }
    },
    "incentiveInfo": {
      "title": {
        "ko": "인센티브 정보",
        "en": "Incentive Information",
        "vi": "Thông tin khen thưởng"
      },
      "amount": {
        "ko": "지급액",
        "en": "Payment Amount",
        "vi": "Số tiền"
      },
      "calculationBasis": {
        "ko": "계산 근거",
        "en": "Calculation Basis",
        "vi": "Cơ sở tính toán"
      }
    },
    "tableHeaders": {
      "employeeNo": {
        "ko": "직원번호",
        "en": "Employee No",
        "vi": "Mã nhân viên"
      },
      "name": {
        "ko": "이름",
        "en": "Name",
        "vi": "Họ tên"
      },
      "incentive": {
        "ko": "인센티브",
        "en": "Incentive",
        "vi": "Tiền thưởng"
      },
      "status": {
        "ko": "상태",
        "en": "Status",
        "vi": "Trạng thái"
      },
      "conditionFulfillment": {
        "ko": "조건 충족 현황",
        "en": "Condition Fulfillment",
        "vi": "Tình trạng điều kiện"
      }
    },
    "paymentStatus": {
      "paid": {
        "ko": "지급",
        "en": "Paid",
        "vi": "Đã trả"
      },
      "unpaid": {
        "ko": "미지급",
        "en": "Unpaid",
        "vi": "Chưa trả"
      },
      "completePaid": {
        "ko": "지급 완료",
        "en": "Payment Complete",
        "vi": "Đã thanh toán"
      }
    },
    "incentiveReceiptStatus": {
      "title": {
        "ko": "인센티브 수령 현황",
        "en": "Incentive Receipt Status",
        "vi": "Tình trạng nhận tiền thưởng"
      },
      "received": {
        "ko": "인센티브 수령",
        "en": "Incentive Received",
        "vi": "Đã nhận tiền thưởng"
      },
      "notReceived": {
        "ko": "인센티브 미수령",
        "en": "Incentive Not Received",
        "vi": "Chưa nhận tiền thưởng"
      },
      "conditionsByReference": {
        "ko": "조건별 충족 현황 (참고)",
        "en": "Condition Fulfillment by Category (Reference)",
        "vi": "Tình trạng điều kiện theo danh mục (Tham khảo)"
      }
    },
    "conditions": {
      "title": {
        "ko": "조건 충족 현황",
        "en": "Condition Status",
        "vi": "Tình trạng điều kiện"
      },
      "met": {
        "ko": "충족",
        "en": "Met",
        "vi": "Đạt"
      },
      "notMet": {
        "ko": "미충족",
        "en": "Not Met",
        "vi": "Không đạt"
      },
      "notApplicable": {
        "ko": "해당없음",
        "en": "N/A",
        "vi": "Không áp dụng"
      },
      "metUnmet": {
        "ko": "충족/미충족",
        "en": "Met/Unmet",
        "vi": "Đạt/Không đạt"
      },
      "pass": {
        "ko": "통과",
        "en": "Pass",
        "vi": "Đạt"
      },
      "fail": {
        "ko": "실패",
        "en": "Fail",
        "vi": "Không đạt"
      },
      "consecutiveFail": {
        "ko": "3개월 연속 실패",
        "en": "3-month consecutive failure",
        "vi": "Thất bại 3 tháng liên tiếp"
      }
    },
    "detailPopup": {
      "conditionFulfillment": {
        "ko": "조건 충족도",
        "en": "Condition Fulfillment",
        "vi": "Mức độ đáp ứng điều kiện"
      },
      "paymentStatus": {
        "ko": "지급 상태",
        "en": "Payment Status",
        "vi": "Trạng thái thanh toán"
      },
      "lastMonthIncentive": {
        "ko": "지난달 인센티브",
        "en": "Last Month's Incentive",
        "vi": "Tiền thưởng tháng trước"
      },
      "conditionsFulfilled": {
        "ko": "조건 충족",
        "en": "conditions fulfilled",
        "vi": "điều kiện đã đáp ứng"
      },
      "conditionNotMet": {
        "ko": "조건 미충족",
        "en": "Conditions not met",
        "vi": "Không đủ điều kiện"
      },
      "noConditions": {
        "ko": "해당 조건 없음",
        "en": "No applicable conditions",
        "vi": "Không có điều kiện áp dụng"
      },
      "conditionDetails": {
        "ko": "조건 충족 상세",
        "en": "Condition Fulfillment Details",
        "vi": "Chi tiết điều kiện đáp ứng"
      },
      "condition": {
        "ko": "조건",
        "en": "Condition",
        "vi": "Điều kiện"
      },
      "performance": {
        "ko": "실적",
        "en": "Performance",
        "vi": "Hiệu suất"
      },
      "result": {
        "ko": "결과",
        "en": "Result",
        "vi": "Kết quả"
      }
    },
    "conditionTexts": {
      "attendanceRate": {
        "ko": "출근율 88% 이상",
        "en": "Attendance rate ≥88%",
        "vi": "Tỷ lệ chấm công ≥88%"
      },
      "unapprovedAbsence": {
        "ko": "무단결근 2일 이하",
        "en": "Unapproved absence ≤2 days",
        "vi": "Vắng không phép ≤2 ngày"
      },
      "actualWorkingDays": {
        "ko": "실제근무일 0일 초과",
        "en": "Actual working days >0",
        "vi": "Ngày làm thực tế >0"
      },
      "minWorkingDays": {
        "ko": "최소 근무일 12일 이상",
        "en": "Minimum working days ≥12",
        "vi": "Tối thiểu ≥12 ngày"
      },
      "personalAQLFail": {
        "ko": "개인AQL: 당월실패 0건",
        "en": "Personal AQL: 0 monthly failures",
        "vi": "AQL cá nhân: 0 thất bại tháng"
      },
      "continuityCheck": {
        "ko": "연속성 체크: 3개월 연속 실패 없음",
        "en": "Continuity check: No 3-month consecutive failures",
        "vi": "Kiểm tra liên tục: Không thất bại 3 tháng liên tiếp"
      },
      "teamAreaAQL": {
        "ko": "팀/구역 AQL: 3개월 연속 실패 없음",
        "en": "Team/Area AQL: No 3-month consecutive failures",
        "vi": "AQL nhóm/khu vực: Không thất bại 3 tháng liên tiếp"
      },
      "areaRejectRate": {
        "ko": "담당구역 reject % < 3%",
        "en": "Area reject rate < 3%",
        "vi": "Tỷ lệ từ chối khu vực < 3%"
      },
      "5prsPassRate": {
        "ko": "5PRS 통과율 95% 이상",
        "en": "5PRS pass rate ≥95%",
        "vi": "Tỷ lệ đạt 5PRS ≥95%"
      },
      "5prsInspectionQty": {
        "ko": "5PRS 검사량 100족 이상",
        "en": "5PRS inspection qty ≥100 pairs",
        "vi": "Số lượng kiểm tra 5PRS ≥100 đôi"
      }
    },
    "tenConditions": {
      "1": {
        "ko": "출근율 88% 이상",
        "en": "Attendance rate ≥88%",
        "vi": "Tỷ lệ chấm công ≥88%"
      },
      "2": {
        "ko": "무단결근 2일 이하",
        "en": "Unapproved absence ≤2 days",
        "vi": "Vắng không phép ≤2 ngày"
      },
      "3": {
        "ko": "실제근무일 0일 초과",
        "en": "Actual working days >0",
        "vi": "Ngày làm thực tế >0"
      },
      "4": {
        "ko": "최소 근무일 12일 이상",
        "en": "Min working days ≥12",
        "vi": "Tối thiểu ≥12 ngày"
      },
      "5": {
        "ko": "개인AQL: 당월실패 0건",
        "en": "Personal AQL: 0 monthly failures",
        "vi": "AQL cá nhân: 0 thất bại tháng"
      },
      "6": {
        "ko": "연속성 체크: 3개월 연속 실패 없음",
        "en": "Continuity: No 3-month consecutive failures",
        "vi": "Liên tục: Không thất bại 3 tháng liên tiếp"
      },
      "7": {
        "ko": "팀/구역 AQL: 3개월 연속 실패 없음",
        "en": "Team/Area AQL: No 3-month consecutive failures",
        "vi": "AQL nhóm/khu vực: Không thất bại 3 tháng liên tiếp"
      },
      "8": {
        "ko": "담당구역 reject % < 3%",
        "en": "Area reject rate < 3%",
        "vi": "Tỷ lệ từ chối khu vực < 3%"
      },
      "9": {
        "ko": "5PRS 통과율 95% 이상",
        "en": "5PRS pass rate ≥95%",
        "vi": "Tỷ lệ đạt 5PRS ≥95%"
      },
      "10": {
        "ko": "5PRS 검사량 100족 이상",
        "en": "5PRS inspection qty ≥100 pairs",
        "vi": "Số lượng kiểm tra 5PRS ≥100 đôi"
      }
    }
  },
  "common": {
    "currency": {
      "ko": "VND",
      "en": "VND",
      "vi": "VND"
    },
    "total": {
      "ko": "전체",
      "en": "Total",
      "vi": "Tổng cộng"
    },
    "people": {
      "ko": "명",
      "en": "people",
      "vi": "người"
    },
    "july": {
      "ko": "7월",
      "en": "July",
      "vi": "Tháng 7"
    },
    "august": {
      "ko": "8월",
      "en": "August",
      "vi": "Tháng 8"
    },
    "september": {
      "ko": "9월",
      "en": "September",
      "vi": "Tháng 9"
    },
    "person": {
      "ko": "명",
      "en": "person",
      "vi": "người"
    },
    "loading": {
      "ko": "로딩 중...",
      "en": "Loading...",
      "vi": "Đang tải..."
    },
    "error": {
      "ko": "오류가 발생했습니다",
      "en": "An error occurred",
      "vi": "Đã xảy ra lỗi"
    },
    "noData": {
      "ko": "데이터 없음",
      "en": "No data",
      "vi": "Không có dữ liệu"
    },
    "days": {
      "ko": "일",
      "en": "days",
      "vi": "ngày"
    },
    "day": {
      "ko": "일",
      "en": "day",
      "vi": "ngày"
    }
  },
  "status": {
    "paid": {
      "ko": "지급",
      "en": "Paid",
      "vi": "Đã trả"
    },
    "unpaid": {
      "ko": "미지급",
      "en": "Unpaid",
      "vi": "Chưa trả"
    },
    "eligible": {
      "ko": "지급 대상",
      "en": "Eligible",
      "vi": "Đủ điều kiện"
    },
    "ineligible": {
      "ko": "미지급 대상",
      "en": "Ineligible",
      "vi": "Không đủ điều kiện"
    }
  },
  "incentiveCalculation": {
    "type1Title": {
      "ko": "TYPE-1 직급별 인센티브 계산 방법 및 실제 예시",
      "en": "TYPE-1 Position Incentive Calculation Method and Examples",
      "vi": "Phương pháp tính thưởng và ví dụ thực tế cho TYPE-1"
    },
    "tableHeaders": {
      "position": {
        "ko": "직급",
        "en": "Position",
        "vi": "Chức vụ"
      },
      "calculationMethod": {
        "ko": "계산 방법",
        "en": "Calculation Method",
        "vi": "Phương pháp tính"
      },
      "actualExample": {
        "ko": "실제 예시",
        "en": "Actual Example",
        "vi": "Ví dụ thực tế"
      }
    },
    "conditionsMet": {
      "ko": "조건 충족시 TYPE-1 평균 인센티브",
      "en": "TYPE-1 average incentive when conditions met",
      "vi": "Thưởng trung bình TYPE-1 khi đáp ứng điều kiện"
    },
    "conditionsNotMet": {
      "ko": "조건 미충족",
      "en": "Conditions not met",
      "vi": "Không đáp ứng điều kiện"
    },
    "incentive": {
      "ko": "인센티브",
      "en": "Incentive",
      "vi": "Thưởng"
    },
    "appliedConditions": {
      "ko": "적용 조건",
      "en": "Applied Conditions",
      "vi": "Điều kiện áp dụng"
    },
    "attendanceConditions": {
      "ko": "출근(1-4) = 4개 조건",
      "en": "Attendance(1-4) = 4 conditions",
      "vi": "Chấm công(1-4) = 4 điều kiện"
    },
    "lineLeaderAverage": {
      "ko": "Line Leader 평균",
      "en": "Line Leader Average",
      "vi": "Trung bình Line Leader"
    },
    "calculation": {
      "ko": "계산",
      "en": "Calculation",
      "vi": "Tính toán"
    },
    "example": {
      "ko": "예시",
      "en": "Example",
      "vi": "Ví dụ"
    },
    "employee": {
      "ko": "직원",
      "en": "Employee",
      "vi": "Nhân viên"
    },
    "workingDays": {
      "ko": "근무일",
      "en": "Working days",
      "vi": "Ngày làm việc"
    },
    "days": {
      "ko": "일",
      "en": "days",
      "vi": "ngày"
    },
    "conditionsNotMetZero": {
      "ko": "조건 미충족 → 0 VND",
      "en": "Conditions not met → 0 VND",
      "vi": "Không đáp ứng điều kiện → 0 VND"
    },
    "conditionsNotMetReset": {
      "ko": "예시: 조건 미충족 → 리셋",
      "en": "Example: Conditions not met → Reset",
      "vi": "Ví dụ: Không đáp ứng điều kiện → Đặt lại"
    },
    "positions": {
      "manager": {
        "ko": "1. MANAGER",
        "en": "1. MANAGER",
        "vi": "1. MANAGER"
      },
      "aManager": {
        "ko": "2. A.MANAGER",
        "en": "2. A.MANAGER",
        "vi": "2. A.MANAGER"
      },
      "vSupervisor": {
        "ko": "3. (V) SUPERVISOR",
        "en": "3. (V) SUPERVISOR",
        "vi": "3. (V) SUPERVISOR"
      },
      "groupLeader": {
        "ko": "4. GROUP LEADER",
        "en": "4. GROUP LEADER",
        "vi": "4. GROUP LEADER"
      },
      "lineLeader": {
        "ko": "5. LINE LEADER",
        "en": "5. LINE LEADER",
        "vi": "5. LINE LEADER"
      },
      "aqlInspector": {
        "ko": "6. AQL INSPECTOR",
        "en": "6. AQL INSPECTOR",
        "vi": "6. AQL INSPECTOR"
      },
      "assemblyInspector": {
        "ko": "7. ASSEMBLY INSPECTOR",
        "en": "7. ASSEMBLY INSPECTOR",
        "vi": "7. ASSEMBLY INSPECTOR"
      },
      "auditTraining": {
        "ko": "8. AUDIT & TRAINING",
        "en": "8. AUDIT & TRAINING",
        "vi": "8. AUDIT & TRAINING"
      },
      "modelMaster": {
        "ko": "9. MODEL MASTER",
        "en": "9. MODEL MASTER",
        "vi": "9. MODEL MASTER"
      }
    },
    "subordinateIncentive": {
      "ko": "부하직원 인센티브 기반 계산",
      "en": "Subordinate Incentive Based Calculation",
      "vi": "Tính toán dựa trên thưởng nhân viên cấp dưới"
    },
    "subordinateTotal": {
      "ko": "부하직원 총",
      "en": "Subordinate Total",
      "vi": "Tổng nhân viên cấp dưới"
    },
    "receivingRatio": {
      "ko": "수령 비율",
      "en": "Receiving Ratio",
      "vi": "Tỷ lệ nhận"
    },
    "specialCalculation": {
      "ko": "Part1 + Part2 + Part3 특별 계산",
      "en": "Part1 + Part2 + Part3 Special Calculation",
      "vi": "Tính toán đặc biệt Part1 + Part2 + Part3"
    },
    "aqlEvaluation": {
      "ko": "Part 1: AQL 평가 결과",
      "en": "Part 1: AQL Evaluation Result",
      "vi": "Part 1: Kết quả đánh giá AQL"
    },
    "cfaCertificate": {
      "ko": "Part 2: CFA 자격증",
      "en": "Part 2: CFA Certificate",
      "vi": "Part 2: Chứng chỉ CFA"
    },
    "cfaHolderBonus": {
      "ko": "CFA 자격증 보유시",
      "en": "CFA Certificate Holder",
      "vi": "Người có chứng chỉ CFA"
    },
    "hwkClaim": {
      "ko": "Part 3: HWK 클레임 방지",
      "en": "Part 3: HWK Claim Prevention",
      "vi": "Part 3: Ngăn ngừa khiếu nại HWK"
    },
    "consecutiveMonthIncentive": {
      "ko": "연속 충족 개월 기준 인센티브",
      "en": "Consecutive Month Fulfillment Incentive",
      "vi": "Thưởng theo số tháng đáp ứng liên tục"
    },
    "months": {
      "ko": "개월",
      "en": "months",
      "vi": "tháng"
    },
    "month": {
      "ko": "개월",
      "en": "month",
      "vi": "tháng"
    },
    "consecutiveFulfillment": {
      "ko": "연속 충족",
      "en": "consecutive fulfillment",
      "vi": "đáp ứng liên tục"
    },
    "previousMonth": {
      "ko": "전월",
      "en": "Previous month",
      "vi": "Tháng trước"
    },
    "currentMonthEvaluation": {
      "ko": "당월 평가",
      "en": "Current month evaluation",
      "vi": "Đánh giá tháng hiện tại"
    },
    "attendanceRate": {
      "ko": "출근율",
      "en": "Attendance rate",
      "vi": "Tỷ lệ chấm công"
    },
    "unauthorizedAbsence": {
      "ko": "무단결근",
      "en": "Unauthorized absence",
      "vi": "Vắng mặt không phép"
    },
    "allAttendanceConditionsMet": {
      "ko": "출근 조건 모두 충족",
      "en": "All attendance conditions met",
      "vi": "Đáp ứng tất cả điều kiện chấm công"
    },
    "teamAqlNoConsecutiveFail": {
      "ko": "팀AQL 연속실패 없음",
      "en": "No team AQL consecutive failures",
      "vi": "Không có thất bại liên tục AQL nhóm"
    },
    "rejectRate": {
      "ko": "reject율",
      "en": "Reject rate",
      "vi": "Tỷ lệ từ chối"
    },
    "resetToZeroMonths": {
      "ko": "연속개월 0으로 리셋",
      "en": "Reset to 0 consecutive months",
      "vi": "Đặt lại về 0 tháng liên tục"
    },
    "maxAchieved": {
      "ko": "이상 최대",
      "en": "or more (maximum)",
      "vi": "trở lên (tối đa)"
    },
    "passRate": {
      "ko": "통과율",
      "en": "Pass rate",
      "vi": "Tỷ lệ đạt"
    },
    "inspectionQuantity": {
      "ko": "검사량",
      "en": "Inspection quantity",
      "vi": "Số lượng kiểm tra"
    },
    "personalAqlFailures": {
      "ko": "개인AQL 실패",
      "en": "Personal AQL failures",
      "vi": "Thất bại AQL cá nhân"
    },
    "pieces": {
      "ko": "족",
      "en": "pcs",
      "vi": "đôi"
    },
    "cases": {
      "ko": "건",
      "en": "cases",
      "vi": "trường hợp"
    },
    "total": {
      "ko": "합계",
      "en": "Total",
      "vi": "Tổng cộng"
    },
    "exampleEmployee": {
      "ko": "예시: {{employeeId}} 직원",
      "en": "Example: Employee {{employeeId}}",
      "vi": "Ví dụ: Nhân viên {{employeeId}}"
    },
    "conditionNotMetDays": {
      "ko": "조건 미충족(근무일 {{days}}일)",
      "en": "Condition not met ({{days}} working days)",
      "vi": "Không đáp ứng điều kiện ({{days}} ngày làm việc)"
    },
    "cfaHolder": {
      "ko": "CFA 보유",
      "en": "CFA holder",
      "vi": "Có CFA"
    },
    "applyConditionAttendance": {
      "ko": "적용 조건: 출근(1-4) = 4개 조건",
      "en": "Applied conditions: Attendance(1-4) = 4 conditions",
      "vi": "Điều kiện áp dụng: Chấm công(1-4) = 4 điều kiện"
    },
    "applyConditionLineLeader": {
      "ko": "적용 조건: 출근(1-4) + 팀/구역 AQL(7) = 5개 조건",
      "en": "Applied conditions: Attendance(1-4) + Team/Area AQL(7) = 5 conditions",
      "vi": "Điều kiện áp dụng: Chấm công(1-4) + AQL nhóm/khu vực(7) = 5 điều kiện"
    },
    "applyConditionAssembly": {
      "ko": "적용 조건: 1-4(출근), 5-6(개인AQL), 9-10(5PRS)",
      "en": "Applied conditions: 1-4(Attendance), 5-6(Personal AQL), 9-10(5PRS)",
      "vi": "Điều kiện áp dụng: 1-4(Chấm công), 5-6(AQL cá nhân), 9-10(5PRS)"
    },
    "applyConditionAudit": {
      "ko": "적용 조건: 1-4(출근), 7(팀AQL), 8(reject율)",
      "en": "Applied conditions: 1-4(Attendance), 7(Team AQL), 8(Reject rate)",
      "vi": "Điều kiện áp dụng: 1-4(Chấm công), 7(AQL nhóm), 8(Tỷ lệ từ chối)"
    },
    "applyConditionModel": {
      "ko": "적용 조건: 1-4(출근), 8(reject율 <3%)",
      "en": "Applied conditions: 1-4(Attendance), 8(Reject rate <3%)",
      "vi": "Điều kiện áp dụng: 1-4(Chấm công), 8(Tỷ lệ từ chối <3%)"
    },
    "levelA": {
      "ko": "Level-A",
      "en": "Level-A",
      "vi": "Level-A"
    },
    "exampleConditionsNotMetReset": {
      "ko": "예시: 조건 미충족 → 리셋",
      "en": "Example: Conditions not met → Reset",
      "vi": "Ví dụ: Không đáp ứng điều kiện → Đặt lại"
    },
    "exampleConsecutiveFulfillment": {
      "ko": "예시: {{months}}개월 연속 충족",
      "en": "Example: {{months}} months consecutive fulfillment",
      "vi": "Ví dụ: {{months}} tháng đáp ứng liên tục"
    },
    "exampleMaxAchieved": {
      "ko": "예시: {{months}}개월 이상 최대",
      "en": "Example: {{months}} months or more (maximum)",
      "vi": "Ví dụ: {{months}} tháng trở lên (tối đa)"
    },
    "calculationMethod": {
      "ko": "계산",
      "en": "Calculation",
      "vi": "Tính toán"
    },
    "consecutiveMonths": {
      "ko": "{{months}}개월 연속 충족",
      "en": "{{months}} months consecutive fulfillment",
      "vi": "{{months}} tháng đáp ứng liên tục"
    },
    "monthRanges": {
      "month0to1": {
        "ko": "0-1개월",
        "en": "0-1 month",
        "vi": "0-1 tháng"
      },
      "month1": {
        "ko": "1개월",
        "en": "1 month",
        "vi": "1 tháng"
      },
      "month2": {
        "ko": "2개월",
        "en": "2 months",
        "vi": "2 tháng"
      },
      "month3": {
        "ko": "3개월",
        "en": "3 months",
        "vi": "3 tháng"
      },
      "month4": {
        "ko": "4개월",
        "en": "4 months",
        "vi": "4 tháng"
      },
      "month5": {
        "ko": "5개월",
        "en": "5 months",
        "vi": "5 tháng"
      },
      "month6": {
        "ko": "6개월",
        "en": "6 months",
        "vi": "6 tháng"
      },
      "month7": {
        "ko": "7개월",
        "en": "7 months",
        "vi": "7 tháng"
      },
      "month8": {
        "ko": "8개월",
        "en": "8 months",
        "vi": "8 tháng"
      },
      "month9": {
        "ko": "9개월",
        "en": "9 months",
        "vi": "9 tháng"
      },
      "month9plus": {
        "ko": "9개월+",
        "en": "9 months+",
        "vi": "9 tháng+"
      },
      "month10": {
        "ko": "10개월",
        "en": "10 months",
        "vi": "10 tháng"
      },
      "month11": {
        "ko": "11개월",
        "en": "11 months",
        "vi": "11 tháng"
      },
      "month12plus": {
        "ko": "12개월+",
        "en": "12 months+",
        "vi": "12 tháng+"
      }
    },
    "assemblyInspectorIncentiveTitle": {
      "ko": "TYPE-1 ASSEMBLY INSPECTOR 연속 근무 인센티브",
      "en": "TYPE-1 ASSEMBLY INSPECTOR Consecutive Service Incentive",
      "vi": "Thưởng phục vụ liên tục TYPE-1 ASSEMBLY INSPECTOR"
    },
    "consecutiveAchievementMonths": {
      "ko": "연속 목표 달성 개월",
      "en": "Consecutive Achievement Months",
      "vi": "Tháng đạt mục tiêu liên tục"
    },
    "incentiveAmountVND": {
      "ko": "인센티브 금액 (VND)",
      "en": "Incentive Amount (VND)",
      "vi": "Số tiền thưởng (VND)"
    },
    "type2CalculationTitle": {
      "ko": "TYPE-2 전체 직급 인센티브 계산 방법",
      "en": "TYPE-2 All Position Incentive Calculation Method",
      "vi": "Phương pháp tính thưởng tất cả chức vụ TYPE-2"
    },
    "type2CalculationPrincipleLabel": {
      "ko": "TYPE-2 계산 원칙:",
      "en": "TYPE-2 Calculation Principle:",
      "vi": "Nguyên tắc tính TYPE-2:"
    },
    "type2CalculationPrincipleText": {
      "ko": "TYPE-2 직급은 해당하는 TYPE-1 직급의 평균 인센티브를 기준으로 계산됩니다.",
      "en": "TYPE-2 positions are calculated based on the average incentive of corresponding TYPE-1 positions.",
      "vi": "Chức vụ TYPE-2 được tính dựa trên thưởng trung bình của chức vụ TYPE-1 tương ứng."
    },
    "type2CalcHeaderPosition": {
      "ko": "직급",
      "en": "Position",
      "vi": "Chức vụ"
    },
    "type2CalcHeaderReference": {
      "ko": "참고 기준",
      "en": "Reference",
      "vi": "Tham chiếu"
    },
    "type2CalcHeaderMethod": {
      "ko": "계산 방법",
      "en": "Calculation Method",
      "vi": "Phương pháp tính"
    },
    "type2CalcHeaderAverage": {
      "ko": "{{year}}년 {{month}} 평균",
      "en": "{{month}} {{year}} Average",
      "vi": "Trung bình {{month}} {{year}}"
    },
    "average": {
      "ko": "평균",
      "en": "Average",
      "vi": "Trung bình"
    },
    "orMore": {
      "ko": "이상",
      "en": "or more",
      "vi": "trở lên"
    },
    "simpleMonths": {
      "month1": {
        "ko": "1개월",
        "en": "1 month",
        "vi": "1 tháng"
      },
      "month2": {
        "ko": "2개월",
        "en": "2 months",
        "vi": "2 tháng"
      },
      "month3": {
        "ko": "3개월",
        "en": "3 months",
        "vi": "3 tháng"
      },
      "month4": {
        "ko": "4개월",
        "en": "4 months",
        "vi": "4 tháng"
      },
      "month5": {
        "ko": "5개월",
        "en": "5 months",
        "vi": "5 tháng"
      },
      "month6": {
        "ko": "6개월",
        "en": "6 months",
        "vi": "6 tháng"
      },
      "month7": {
        "ko": "7개월",
        "en": "7 months",
        "vi": "7 tháng"
      },
      "month8": {
        "ko": "8개월",
        "en": "8 months",
        "vi": "8 tháng"
      },
      "month9": {
        "ko": "9개월",
        "en": "9 months",
        "vi": "9 tháng"
      },
      "month10": {
        "ko": "10개월",
        "en": "10 months",
        "vi": "10 tháng"
      },
      "month11": {
        "ko": "11개월",
        "en": "11 months",
        "vi": "11 tháng"
      },
      "month12": {
        "ko": "12개월",
        "en": "12 months",
        "vi": "12 tháng"
      }
    },
    "type3Section": {
      "title": {
        "ko": "TYPE-3 신입 직원 인센티브",
        "en": "TYPE-3 New Employee Incentive",
        "vi": "Thưởng nhân viên mới TYPE-3"
      },
      "position": {
        "ko": "구분",
        "en": "Category",
        "vi": "Phân loại"
      },
      "standardIncentive": {
        "ko": "기준 인센티브",
        "en": "Standard Incentive",
        "vi": "Thưởng chuẩn"
      },
      "calculationMethod": {
        "ko": "계산 방법",
        "en": "Calculation Method",
        "vi": "Phương pháp tính"
      },
      "newQipMember": {
        "ko": "NEW QIP MEMBER",
        "en": "NEW QIP MEMBER",
        "vi": "THÀNH VIÊN QIP MỚI"
      },
      "noIncentive": {
        "ko": "신입 직원은 인센티브 지급 없음",
        "en": "No incentive for new employees",
        "vi": "Không có thưởng cho nhân viên mới"
      },
      "oneMonthTraining": {
        "ko": "단, 1달 후 근무지 배치한 다음부터",
        "en": "However, after 1 month training and assignment",
        "vi": "Tuy nhiên, sau 1 tháng đào tạo và phân công"
      },
      "typeReclassification": {
        "ko": "TYPE을 변경하며, 인센티브 지급 조건 부여됨",
        "en": "TYPE will be changed and incentive conditions applied",
        "vi": "Loại sẽ được thay đổi và áp dụng điều kiện thưởng"
      }
    },
    "goodToKnow": {
      "title": {
        "ko": "Good to Know",
        "en": "Good to Know",
        "vi": "Điều cần biết"
      },
      "corePrinciples": {
        "ko": "Core Principles of Incentive Calculation",
        "en": "Core Principles of Incentive Calculation",
        "vi": "Nguyên tắc cơ bản tính thưởng"
      },
      "failurePrinciple": {
        "ko": "실제 지급액: 표시된 금액 범위는 예시이며, 실제 지급액은 개인의 성과와 조건 충족 여부에 따라 달라집니다.",
        "en": "Actual Payment: The displayed amount range is for reference, actual payment depends on individual performance and condition fulfillment.",
        "vi": "Thanh toán thực tế: Phạm vi số tiền hiển thị chỉ để tham khảo, thanh toán thực tế phụ thuộc vào hiệu suất cá nhân và việc đáp ứng điều kiện."
      },
      "type2Principle": {
        "ko": "TYPE-2 동적 계산: TYPE-2 직원의 인센티브는 매월 해당 TYPE-1 직급의 실제 평균값으로 자동 계산됩니다.",
        "en": "TYPE-2 Dynamic Calculation: TYPE-2 employee incentives are automatically calculated based on the actual monthly average of corresponding TYPE-1 positions.",
        "vi": "Tính toán động TYPE-2: Thưởng nhân viên TYPE-2 được tính tự động dựa trên mức trung bình hàng tháng thực tế của các vị trí TYPE-1 tương ứng."
      },
      "consecutiveBonus": {
        "ko": "연속성 보상: ASSEMBLY INSPECTOR는 연속 근무 개월이 증가할수록 인센티브가 단계적으로 상승합니다.",
        "en": "Consecutive Bonus: ASSEMBLY INSPECTOR incentives increase progressively with consecutive months of service.",
        "vi": "Thưởng liên tục: Thưởng ASSEMBLY INSPECTOR tăng dần theo số tháng làm việc liên tục."
      },
      "specialCalculation": {
        "ko": "특별 계산 직급: AQL INSPECTOR(3단계 합산: Part1 + Part2 + Part3)",
        "en": "Special Calculation Position: AQL INSPECTOR (3-tier sum: Part1 + Part2 + Part3)",
        "vi": "Vị trí tính toán đặc biệt: AQL INSPECTOR (Tổng 3 cấp: Part1 + Part2 + Part3)"
      },
      "conditionFailure": {
        "ko": "조건 미충족시: 하나라도 필수 조건을 충족하지 못하면 인센티브가 0이 됩니다.",
        "en": "Condition Failure: If any required condition is not met, incentive becomes 0.",
        "vi": "Không đáp ứng điều kiện: Nếu bất kỳ điều kiện bắt buộc nào không được đáp ứng, thưởng sẽ là 0."
      },
      "monthlyIncentiveChangeReasons": {
        "ko": "월별 인센티브 변동 요인",
        "en": "Monthly Incentive Change Factors",
        "vi": "Yếu tố thay đổi thưởng hàng tháng"
      },
      "changeFactors": {
        "ko": "변동 요인",
        "en": "Change Factors",
        "vi": "Yếu tố thay đổi"
      },
      "impact": {
        "ko": "영향",
        "en": "Impact",
        "vi": "Tác động"
      },
      "example": {
        "ko": "예시",
        "en": "Example",
        "vi": "Ví dụ"
      },
      "minimumDays": {
        "ko": "근무일수",
        "en": "Working Days",
        "vi": "Ngày làm việc"
      },
      "lessThan12Days": {
        "ko": "12일 미만시 미지급",
        "en": "No payment if less than 12 days",
        "vi": "Không thanh toán nếu ít hơn 12 ngày"
      },
      "november11Days": {
        "ko": "11월 근무 → 0 VND",
        "en": "November working → 0 VND",
        "vi": "Làm việc tháng 11 → 0 VND"
      },
      "attendanceRate": {
        "ko": "출근율",
        "en": "Attendance Rate",
        "vi": "Tỷ lệ chuyên cần"
      },
      "lessThan88Percent": {
        "ko": "88% 미만시 미지급",
        "en": "No payment if less than 88%",
        "vi": "Không thanh toán nếu dưới 88%"
      },
      "attendanceExample": {
        "ko": "87% 출근율 → 0 VND",
        "en": "87% attendance → 0 VND",
        "vi": "87% chuyên cần → 0 VND"
      },
      "unauthorizedAbsence": {
        "ko": "무단결근",
        "en": "Unauthorized Absence",
        "vi": "Vắng mặt không phép"
      },
      "moreThan3Days": {
        "ko": "3일 이상시 미지급",
        "en": "No payment if 3 days or more",
        "vi": "Không thanh toán nếu 3 ngày trở lên"
      },
      "unauthorizedExample": {
        "ko": "3일 무단결근 → 0 VND",
        "en": "3 days unauthorized absence → 0 VND",
        "vi": "3 ngày vắng không phép → 0 VND"
      },
      "aqlFailure": {
        "ko": "AQL 실패",
        "en": "AQL Failure",
        "vi": "Thất bại AQL"
      },
      "currentMonthFailure": {
        "ko": "해당 직급만 영향",
        "en": "Affects specific positions only",
        "vi": "Chỉ ảnh hưởng vị trí cụ thể"
      },
      "aqlFailureExample": {
        "ko": "AQL 실패 → 조건 미충족",
        "en": "AQL failure → Condition not met",
        "vi": "Thất bại AQL → Không đáp ứng điều kiện"
      },
      "fprsPassRate": {
        "ko": "5PRS 통과율",
        "en": "5PRS Pass Rate",
        "vi": "Tỷ lệ đạt 5PRS"
      },
      "lessThan95Percent": {
        "ko": "95% 미만시 미지급 (해당자)",
        "en": "No payment if less than 95% (applicable)",
        "vi": "Không thanh toán nếu dưới 95% (áp dụng)"
      },
      "fprsExample": {
        "ko": "94% → 0 VND",
        "en": "94% → 0 VND",
        "vi": "94% → 0 VND"
      }
    },
    "attendanceCalculation": {
      "title": {
        "ko": "출근율 계산 방식",
        "en": "Attendance Rate Calculation Method",
        "vi": "Phương pháp tính tỷ lệ chuyên cần"
      },
      "actualFormula": {
        "ko": "실제 계산 공식 (시스템 구현):",
        "en": "Actual Calculation Formula (System Implementation):",
        "vi": "Công thức tính thực tế (Triển khai hệ thống):"
      },
      "attendanceRateFormula": {
        "ko": "출근율(%) = 100 - 결근율(%)",
        "en": "Attendance Rate(%) = 100 - Absence Rate(%)",
        "vi": "Tỷ lệ chuyên cần(%) = 100 - Tỷ lệ vắng mặt(%)"
      },
      "absenceRateFormula": {
        "ko": "결근율(%) = (결근 일수 / 총 근무일) × 100",
        "en": "Absence Rate(%) = (Absence Days / Total Working Days) × 100",
        "vi": "Tỷ lệ vắng(%) = (Số ngày vắng / Tổng ngày làm việc) × 100"
      },
      "absenceDaysNote": {
        "ko": "* 결근 일수 = 총 근무일 - 실제 근무일 - 승인된 휴가",
        "en": "* Absence Days = Total Working Days - Actual Working Days - Approved Leave",
        "vi": "* Số ngày vắng = Tổng ngày làm việc - Ngày làm việc thực tế - Nghỉ phép được duyệt"
      },
      "calculationExample": {
        "ko": "결근율 계산 예시:",
        "en": "Absence Rate Calculation Examples:",
        "vi": "Ví dụ tính tỷ lệ vắng mặt:"
      },
      "example1Title": {
        "ko": "예시 1: 정상 근무자",
        "en": "Example 1: Normal Worker",
        "vi": "Ví dụ 1: Nhân viên bình thường"
      },
      "example2Title": {
        "ko": "예시 2: 무단결근 포함",
        "en": "Example 2: Including Unauthorized Absence",
        "vi": "Ví dụ 2: Bao gồm vắng không phép"
      },
      "example3Title": {
        "ko": "예시 3: 조건 충족 경계선",
        "en": "Example 3: Borderline Case",
        "vi": "Ví dụ 3: Trường hợp giới hạn"
      },
      "totalWorkingDays": {
        "ko": "총 근무일",
        "en": "Total Working Days",
        "vi": "Tổng ngày làm việc"
      },
      "actualWorkingDays": {
        "ko": "실제 근무일",
        "en": "Actual Working Days",
        "vi": "Ngày làm việc thực tế"
      },
      "approvedLeave": {
        "ko": "승인된 휴가",
        "en": "Approved Leave",
        "vi": "Nghỉ phép được duyệt"
      },
      "annualLeave": {
        "ko": "연차",
        "en": "Annual Leave",
        "vi": "Nghỉ phép năm"
      },
      "sickLeave": {
        "ko": "병가",
        "en": "Sick Leave",
        "vi": "Nghỉ ốm"
      },
      "unauthorizedAbsence": {
        "ko": "무단결근",
        "en": "Unauthorized Absence",
        "vi": "Vắng không phép"
      },
      "absenceDays": {
        "ko": "결근 일수",
        "en": "Absence Days",
        "vi": "Số ngày vắng"
      },
      "absenceRate": {
        "ko": "결근율",
        "en": "Absence Rate",
        "vi": "Tỷ lệ vắng"
      },
      "attendanceRate": {
        "ko": "출근율",
        "en": "Attendance Rate",
        "vi": "Tỷ lệ chuyên cần"
      },
      "days": {
        "ko": "일",
        "en": "days",
        "vi": "ngày"
      },
      "lessThan88": {
        "ko": "88% 미만",
        "en": "Less than 88%",
        "vi": "Dưới 88%"
      }
    },
    "faq": {
      "title": {
        "ko": "자주 묻는 질문",
        "en": "Frequently Asked Questions",
        "vi": "Câu hỏi thường gặp"
      },
      "case1Title": {
        "ko": "예시 1: TYPE-1 ASSEMBLY INSPECTOR (10개월 연속 근무)",
        "en": "Example 1: TYPE-1 ASSEMBLY INSPECTOR (10 consecutive months)",
        "vi": "Ví dụ 1: TYPE-1 ASSEMBLY INSPECTOR (10 tháng liên tục)"
      },
      "employee": {
        "ko": "직원:",
        "en": "Employee:",
        "vi": "Nhân viên:"
      },
      "previousMonth": {
        "ko": "전월 상태:",
        "en": "Previous Month:",
        "vi": "Tháng trước:"
      },
      "consecutiveMonths": {
        "ko": "개월 연속 근무",
        "en": "consecutive months",
        "vi": "tháng liên tục"
      },
      "conditionEvaluation": {
        "ko": "당월 조건 충족:",
        "en": "Current Month Conditions:",
        "vi": "Điều kiện tháng này:"
      },
      "attendanceRateMet": {
        "ko": "출근율:",
        "en": "Attendance Rate:",
        "vi": "Tỷ lệ chuyên cần:"
      },
      "unauthorizedAbsenceMet": {
        "ko": "무단결근:",
        "en": "Unauthorized Absence:",
        "vi": "Vắng không phép:"
      },
      "actualWorkingDays": {
        "ko": "실제 근무일:",
        "en": "Actual Working Days:",
        "vi": "Ngày làm việc thực tế:"
      },
      "minimumWorkingDays": {
        "ko": "최소 근무일:",
        "en": "Minimum Working Days:",
        "vi": "Ngày làm việc tối thiểu:"
      },
      "personalAql": {
        "ko": "개인 AQL (당월):",
        "en": "Personal AQL (Current):",
        "vi": "AQL cá nhân (hiện tại):"
      },
      "personalAqlContinuous": {
        "ko": "개인 AQL (연속):",
        "en": "Personal AQL (Consecutive):",
        "vi": "AQL cá nhân (liên tục):"
      },
      "fprsPassRate": {
        "ko": "5PRS 통과율:",
        "en": "5PRS Pass Rate:",
        "vi": "Tỷ lệ đạt 5PRS:"
      },
      "fprsInspection": {
        "ko": "5PRS 검사량:",
        "en": "5PRS Inspection:",
        "vi": "Kiểm tra 5PRS:"
      },
      "result": {
        "ko": "결과:",
        "en": "Result:",
        "vi": "Kết quả:"
      },
      "allConditionsMet": {
        "ko": "모든 조건 충족",
        "en": "All conditions met",
        "vi": "Đáp ứng tất cả điều kiện"
      },
      "failureText": {
        "ko": "실패 0건",
        "en": "0 failures",
        "vi": "0 thất bại"
      },
      "consecutiveFailure": {
        "ko": "3개월 연속 실패 없음",
        "en": "No 3-month consecutive failures",
        "vi": "Không có 3 tháng thất bại liên tiếp"
      },
      "pairs": {
        "ko": "켤레",
        "en": "pairs",
        "vi": "đôi"
      },
      "case2Title": {
        "ko": "예시 2: AUDIT & TRAINING TEAM (담당구역 reject율 계산)",
        "en": "Example 2: AUDIT & TRAINING TEAM (Area reject rate calculation)",
        "vi": "Ví dụ 2: AUDIT & TRAINING TEAM (Tính tỷ lệ từ chối khu vực)"
      },
      "teamLeader": {
        "ko": "담당 구역:",
        "en": "Assigned Area:",
        "vi": "Khu vực phụ trách:"
      },
      "aqlInspectionPassed": {
        "ko": "구역 생산 총 AQL 검사 PO 수량:",
        "en": "Area Total AQL Inspection PO Quantity:",
        "vi": "Số lượng PO kiểm tra AQL tổng khu vực:"
      },
      "aqlRejectPo": {
        "ko": "구역 생산 총 AQL 리젝 PO 수량:",
        "en": "Area Total AQL Reject PO Quantity:",
        "vi": "Số lượng PO từ chối AQL tổng khu vực:"
      },
      "calculation": {
        "ko": "계산:",
        "en": "Calculation:",
        "vi": "Tính toán:"
      },
      "resultCondition": {
        "ko": "결과:",
        "en": "Result:",
        "vi": "Kết quả:"
      },
      "conditionMet": {
        "ko": "조건 충족",
        "en": "Condition met",
        "vi": "Đáp ứng điều kiện"
      },
      "conditionNotMet": {
        "ko": "미충족",
        "en": "Not met",
        "vi": "Không đáp ứng"
      },
      "memberTable": {
        "ko": "AUDIT & TRAINING TEAM 멤버별 담당 구역",
        "en": "AUDIT & TRAINING TEAM Member Area Assignment",
        "vi": "Phân công khu vực thành viên AUDIT & TRAINING TEAM"
      },
      "conditionName": {
        "ko": "Condition Name",
        "en": "Condition Name",
        "vi": "Tên điều kiện"
      },
      "criteria": {
        "ko": "Criteria",
        "en": "Criteria",
        "vi": "Tiêu chí"
      },
      "description": {
        "ko": "Description",
        "en": "Description",
        "vi": "Mô tả"
      },
      "wholeArea": {
        "ko": "전체",
        "en": "Overall",
        "vi": "Tổng thể"
      },
      "areaTotal": {
        "ko": "전체 Building 총괄",
        "en": "All Buildings Total",
        "vi": "Tổng tất cả tòa nhà"
      },
      "noMissingData": {
        "ko": "기타 조건 미충족",
        "en": "Other conditions not met",
        "vi": "Các điều kiện khác không đạt"
      },
      "rejectRateNote": {
        "ko": "* Reject율 기준: 3% 미만 (✅ 충족, ❌ 미충족)",
        "en": "* Reject rate criteria: Less than 3% (✅ Met, ❌ Not met)",
        "vi": "* Tiêu chí tỷ lệ từ chối: Dưới 3% (✅ Đạt, ❌ Không đạt)"
      },
      "memberNote": {
        "ko": "* 8월 기준 모든 AUDIT & TRAINING TEAM 멤버가 reject율 조건 미충족으로 인센티브 0원",
        "en": "* As of August, all AUDIT & TRAINING TEAM members receive 0 incentive due to reject rate condition failure",
        "vi": "* Tính đến tháng 8, tất cả thành viên AUDIT & TRAINING TEAM nhận 0 thưởng do không đạt điều kiện tỷ lệ từ chối"
      },
      "case3Title": {
        "ko": "예시 3: TYPE-2 STITCHING INSPECTOR",
        "en": "Example 3: TYPE-2 STITCHING INSPECTOR",
        "vi": "Ví dụ 3: TYPE-2 STITCHING INSPECTOR"
      },
      "positionType": {
        "ko": "직급 타입:",
        "en": "Position Type:",
        "vi": "Loại chức vụ:"
      },
      "conditionStatus": {
        "ko": "조건 충족 현황:",
        "en": "Condition Status:",
        "vi": "Trạng thái điều kiện:"
      },
      "incentiveCalculation": {
        "ko": "인센티브 계산:",
        "en": "Incentive Calculation:",
        "vi": "Tính toán thưởng:"
      },
      "type2Explanation": {
        "ko": "TYPE-2 STITCHING INSPECTOR는 출근 조건(1-4번)만 확인하며, 모든 조건을 충족했으므로 기본 인센티브를 받습니다.",
        "en": "TYPE-2 STITCHING INSPECTOR only checks attendance conditions (1-4), and receives basic incentive when all conditions are met.",
        "vi": "TYPE-2 STITCHING INSPECTOR chỉ kiểm tra điều kiện chuyên cần (1-4), và nhận thưởng cơ bản khi đáp ứng tất cả điều kiện."
      },
      "paymentAmount": {
        "ko": "지급액:",
        "en": "Payment Amount:",
        "vi": "Số tiền thanh toán:"
      },
      "type2BasicIncentive": {
        "ko": "TYPE-2 기본 인센티브",
        "en": "TYPE-2 Basic Incentive",
        "vi": "Thưởng cơ bản TYPE-2"
      },
      "type2Note": {
        "ko": "* TYPE-2는 AQL이나 5PRS 조건 없이 출근 조건만으로 인센티브가 결정됩니다.",
        "en": "* TYPE-2 incentive is determined only by attendance conditions without AQL or 5PRS requirements.",
        "vi": "* Thưởng TYPE-2 được xác định chỉ bằng điều kiện chuyên cần mà không có yêu cầu AQL hoặc 5PRS."
      },
      "calculationExampleTitle": {
        "ko": "📐 실제 계산 예시",
        "en": "📐 Actual Calculation Examples",
        "vi": "📐 Ví dụ tính toán thực tế"
      },
      "employeeNameLabel": {
        "ko": "직원명",
        "en": "Employee Name",
        "vi": "Tên nhân viên"
      },
      "assignedBuilding": {
        "ko": "담당 Building",
        "en": "Assigned Building",
        "vi": "Tòa nhà phụ trách"
      },
      "buildingDescription": {
        "ko": "설명",
        "en": "Description",
        "vi": "Mô tả"
      },
      "rejectRate": {
        "ko": "Reject율",
        "en": "Reject Rate",
        "vi": "Tỷ lệ từ chối"
      },
      "teamLeaderDescription": {
        "ko": "Team Leader - 전체 Building 총괄",
        "en": "Team Leader - All Buildings Overall",
        "vi": "Trưởng nhóm - Tổng thể tất cả tòa nhà"
      },
      "buildingWhole": {
        "ko": "전체",
        "en": "Overall",
        "vi": "Tổng thể"
      },
      "incentiveReceived": {
        "ko": "VND 수령",
        "en": "VND received",
        "vi": "VND nhận được"
      },
      "conditionsMet": {
        "ko": "충족",
        "en": "Met",
        "vi": "Đạt"
      },
      "consecutiveMonthsWorked": {
        "ko": "개월 연속 → ",
        "en": "consecutive months → ",
        "vi": "tháng liên tục → "
      },
      "incentivePayment": {
        "ko": "VND 지급",
        "en": "VND payment",
        "vi": "VND thanh toán"
      },
      "days": {
        "ko": "일",
        "en": "days",
        "vi": "ngày"
      },
      "items": {
        "ko": "개",
        "en": "items",
        "vi": "mục"
      },
      "failures": {
        "ko": "실패",
        "en": "failures",
        "vi": "thất bại"
      },
      "monthsConsecutiveNoFailure": {
        "ko": "개월 연속 실패 없음",
        "en": "consecutive months without failure",
        "vi": "tháng liên tục không thất bại"
      },
      "question1": {
        "ko": "Q1. 왜 나는 인센티브를 못 받았나요? 조건을 확인하는 방법은?",
        "en": "Q1. Why didn't I receive an incentive? How can I check the conditions?",
        "vi": "Q1. Tại sao tôi không nhận được thưởng? Làm thế nào để kiểm tra điều kiện?"
      },
      "question2": {
        "ko": "Q2. 무단결근이 며칠까지 허용되나요?",
        "en": "Q2. How many unauthorized absence days are allowed?",
        "vi": "Q2. Được phép vắng mặt không phép bao nhiêu ngày?"
      },
      "question3": {
        "ko": "Q3. TYPE-2 직급의 인센티브는 어떻게 계산되나요?",
        "en": "Q3. How is the incentive calculated for TYPE-2 positions?",
        "vi": "Q3. Thưởng cho vị trí TYPE-2 được tính như thế nào?"
      },
      "question4": {
        "ko": "Q4. ASSEMBLY INSPECTOR의 연속 근무 개월은 어떻게 계산되나요?",
        "en": "Q4. How are consecutive working months calculated for ASSEMBLY INSPECTOR?",
        "vi": "Q4. Các tháng làm việc liên tục của ASSEMBLY INSPECTOR được tính như thế nào?"
      },
      "question5": {
        "ko": "Q5. AQL 실패가 무엇이고 어떤 영향을 미치나요?",
        "en": "Q5. What is AQL failure and how does it affect incentives?",
        "vi": "Q5. Thất bại AQL là gì và nó ảnh hưởng như thế nào đến thưởng?"
      },
      "question6": {
        "ko": "Q6. 5PRS 검사량이 부족하면 어떻게 되나요?",
        "en": "Q6. What happens if the 5PRS inspection quantity is insufficient?",
        "vi": "Q6. Điều gì xảy ra nếu số lượng kiểm tra 5PRS không đủ?"
      },
      "question7": {
        "ko": "Q7. 출산휴가나 병가 중에도 인센티브를 받을 수 있나요?",
        "en": "Q7. Can I receive incentives during maternity leave or sick leave?",
        "vi": "Q7. Tôi có thể nhận thưởng trong thời gian nghỉ thai sản hoặc nghỉ ốm không?"
      },
      "answer1Main": {
        "ko": "인센티브를 받지 못한 주요 이유:",
        "en": "Main reasons for not receiving incentive:",
        "vi": "Lý do chính không nhận được thưởng:"
      },
      "answer1Reasons": {
        "minDays": {
          "ko": "최소 근무일 12일 미충족",
          "en": "Less than 12 minimum working days",
          "vi": "Ít hơn 12 ngày làm việc tối thiểu"
        },
        "attendance": {
          "ko": "출근율 88% 미만",
          "en": "Attendance rate less than 88%",
          "vi": "Tỷ lệ chuyên cần dưới 88%"
        },
        "absence": {
          "ko": "무단결근 3일 이상",
          "en": "3 or more unauthorized absence days",
          "vi": "3 ngày trở lên vắng không phép"
        },
        "aql": {
          "ko": "AQL 실패 (해당 직급)",
          "en": "AQL failure (applicable positions)",
          "vi": "Thất bại AQL (vị trí áp dụng)"
        },
        "fprs": {
          "ko": "5PRS 통과율 95% 미만 (해당 직급)",
          "en": "5PRS pass rate less than 95% (applicable positions)",
          "vi": "Tỷ lệ đạt 5PRS dưới 95% (vị trí áp dụng)"
        }
      },
      "answer1CheckMethod": {
        "ko": "개인별 상세 페이지에서 본인의 조건 충족 여부를 확인할 수 있습니다.",
        "en": "You can check your condition fulfillment on the individual detail page.",
        "vi": "Bạn có thể kiểm tra việc đáp ứng điều kiện của mình trên trang chi tiết cá nhân."
      },
      "answer2Main": {
        "ko": "무단결근은 최대 2일까지 허용됩니다.",
        "en": "Up to 2 unauthorized absence days are allowed.",
        "vi": "Cho phép tối đa 2 ngày vắng không phép."
      },
      "answer2Detail": {
        "ko": "3일 이상 무단결근시 해당 월 인센티브를 받을 수 없습니다. 사전 승인된 휴가나 병가는 무단결근에 포함되지 않습니다.",
        "en": "With 3 or more unauthorized absence days, you cannot receive incentives for that month. Pre-approved vacation or sick leave is not counted as unauthorized absence.",
        "vi": "Với 3 ngày trở lên vắng không phép, bạn không thể nhận thưởng trong tháng đó. Nghỉ phép hoặc nghỉ ốm được phê duyệt trước không được tính là vắng không phép."
      },
      "answer3Main": {
        "ko": "TYPE-2 직급의 인센티브는 해당하는 TYPE-1 직급의 평균 인센티브를 기준으로 계산됩니다.",
        "en": "TYPE-2 position incentives are calculated based on the average incentive of corresponding TYPE-1 positions.",
        "vi": "Thưởng vị trí TYPE-2 được tính dựa trên thưởng trung bình của các vị trí TYPE-1 tương ứng."
      },
      "answer3Example": {
        "ko": "예를 들어:",
        "en": "For example:",
        "vi": "Ví dụ:"
      },
      "answer3Example1": {
        "ko": "TYPE-2 GROUP LEADER는 TYPE-1 GROUP LEADER들의 평균 인센티브",
        "en": "TYPE-2 GROUP LEADER uses the average incentive of TYPE-1 GROUP LEADERs",
        "vi": "TYPE-2 GROUP LEADER sử dụng thưởng trung bình của TYPE-1 GROUP LEADER"
      },
      "answer3Example2": {
        "ko": "TYPE-2 STITCHING INSPECTOR는 TYPE-1 ASSEMBLY INSPECTOR들의 평균 인센티브",
        "en": "TYPE-2 STITCHING INSPECTOR uses the average incentive of TYPE-1 ASSEMBLY INSPECTORs",
        "vi": "TYPE-2 STITCHING INSPECTOR sử dụng thưởng trung bình của TYPE-1 ASSEMBLY INSPECTOR"
      },
      "answer4Main": {
        "ko": "TYPE-1 ASSEMBLY INSPECTOR만 해당되며, 조건을 충족하며 인센티브를 받은 개월수가 누적됩니다.",
        "en": "Only applies to TYPE-1 ASSEMBLY INSPECTOR, accumulating months where conditions are met and incentive is received.",
        "vi": "Chỉ áp dụng cho TYPE-1 ASSEMBLY INSPECTOR, tích lũy các tháng đáp ứng điều kiện và nhận thưởng."
      },
      "answer4Detail1": {
        "ko": "조건 미충족으로 인센티브를 못 받으면 0개월로 리셋",
        "en": "Reset to 0 months if incentive is not received due to unmet conditions",
        "vi": "Đặt lại về 0 tháng nếu không nhận được thưởng do không đáp ứng điều kiện"
      },
      "answer4Detail2": {
        "ko": "12개월 이상 연속시 최대 인센티브 1,000,000 VND",
        "en": "Maximum incentive of 1,000,000 VND for 12 or more consecutive months",
        "vi": "Thưởng tối đa 1.000.000 VND cho 12 tháng liên tục trở lên"
      },
      "answer5Main": {
        "ko": "AQL(Acceptable Quality Limit)은 품질 검사 기준입니다.",
        "en": "AQL (Acceptable Quality Limit) is a quality inspection standard.",
        "vi": "AQL (Giới hạn chất lượng chấp nhận được) là tiêu chuẩn kiểm tra chất lượng."
      },
      "answer5Detail1": {
        "ko": "개인 AQL 실패: 해당 월에 품질 검사 실패한 경우",
        "en": "Personal AQL failure: Failed quality inspection in the current month",
        "vi": "Thất bại AQL cá nhân: Không đạt kiểm tra chất lượng trong tháng hiện tại"
      },
      "answer5Detail2": {
        "ko": "3개월 연속 실패: 지난 3개월 동안 연속으로 실패한 경우",
        "en": "3-month consecutive failure: Consecutive failures over the past 3 months",
        "vi": "Thất bại 3 tháng liên tiếp: Thất bại liên tục trong 3 tháng qua"
      },
      "answer5Detail3": {
        "ko": "AQL 관련 직급만 영향받음 (INSPECTOR 계열 등)",
        "en": "Only AQL-related positions are affected (INSPECTOR series, etc.)",
        "vi": "Chỉ các vị trí liên quan AQL bị ảnh hưởng (dòng INSPECTOR, v.v.)"
      },
      "answer6Main": {
        "ko": "5PRS 관련 직급은 다음 조건을 충족해야 합니다:",
        "en": "5PRS-related positions must meet the following conditions:",
        "vi": "Các vị trí liên quan 5PRS phải đáp ứng các điều kiện sau:"
      },
      "answer6Detail1": {
        "ko": "검사량 100족 이상",
        "en": "Inspection quantity of 100 pairs or more",
        "vi": "Số lượng kiểm tra từ 100 đôi trở lên"
      },
      "answer6Detail2": {
        "ko": "통과율 95% 이상",
        "en": "Pass rate of 95% or higher",
        "vi": "Tỷ lệ đạt từ 95% trở lên"
      },
      "answer6Conclusion": {
        "ko": "둘 중 하나라도 미충족시 인센티브를 받을 수 없습니다.",
        "en": "If either condition is not met, you cannot receive the incentive.",
        "vi": "Nếu không đáp ứng một trong hai điều kiện, bạn không thể nhận thưởng."
      },
      "answer7Main": {
        "ko": "출산휴가나 장기 병가 중에는 인센티브가 지급되지 않습니다.",
        "en": "Incentives are not paid during maternity leave or long-term sick leave.",
        "vi": "Thưởng không được trả trong thời gian nghỉ thai sản hoặc nghỉ ốm dài hạn."
      },
      "answer7Detail1": {
        "ko": "최소 근무일 12일 조건을 충족할 수 없기 때문",
        "en": "Because the minimum 12 working days condition cannot be met",
        "vi": "Vì không thể đáp ứng điều kiện tối thiểu 12 ngày làm việc"
      },
      "answer7Detail2": {
        "ko": "복귀 후 조건 충족시 다시 인센티브 수령 가능",
        "en": "Incentives can be received again after returning when conditions are met",
        "vi": "Có thể nhận lại thưởng sau khi trở lại khi đáp ứng điều kiện"
      },
      "answer7Detail3": {
        "ko": "ASSEMBLY INSPECTOR의 경우 연속 개월수는 0으로 리셋",
        "en": "For ASSEMBLY INSPECTOR, consecutive months reset to 0",
        "vi": "Đối với ASSEMBLY INSPECTOR, số tháng liên tục được đặt lại về 0"
      },
      "question8": {
        "ko": "Q8. 전월 인센티브와 차이가 나는 이유는 무엇인가요?",
        "en": "Q8. Why is there a difference from last month's incentive?",
        "vi": "Q8. Tại sao có sự khác biệt với thưởng tháng trước?"
      },
      "answer8Main": {
        "ko": "인센티브 금액이 변동하는 주요 이유:",
        "en": "Main reasons for incentive amount changes:",
        "vi": "Lý do chính cho sự thay đổi số tiền thưởng:"
      },
      "answer8Reason1": {
        "ko": "ASSEMBLY INSPECTOR: 연속 근무 개월 변화",
        "en": "ASSEMBLY INSPECTOR: Change in consecutive working months",
        "vi": "ASSEMBLY INSPECTOR: Thay đổi số tháng làm việc liên tục"
      },
      "answer8Reason2": {
        "ko": "TYPE-2 직급: TYPE-1 평균값 변동",
        "en": "TYPE-2 positions: TYPE-1 average value fluctuation",
        "vi": "Vị trí TYPE-2: Biến động giá trị trung bình TYPE-1"
      },
      "answer8Reason3": {
        "ko": "AQL INSPECTOR: Part1, Part2, Part3 조건 변화",
        "en": "AQL INSPECTOR: Part1, Part2, Part3 condition changes",
        "vi": "AQL INSPECTOR: Thay đổi điều kiện Part1, Part2, Part3"
      },
      "answer8Reason4": {
        "ko": "조건 미충족: 하나라도 미충족시 0",
        "en": "Unmet conditions: 0 if any condition is not met",
        "vi": "Điều kiện không đạt: 0 nếu bất kỳ điều kiện nào không đạt"
      },
      "question9": {
        "ko": "Q9. TYPE-3에서 TYPE-2로 승진하면 인센티브가 어떻게 변하나요?",
        "en": "Q9. How does the incentive change when promoted from TYPE-3 to TYPE-2?",
        "vi": "Q9. Thưởng thay đổi như thế nào khi thăng chức từ TYPE-3 lên TYPE-2?"
      },
      "answer9Detail1": {
        "ko": "TYPE-3: 조건 없이 기본 150,000 VND (근무시 자동 지급)",
        "en": "TYPE-3: Basic 150,000 VND without conditions (automatic payment when working)",
        "vi": "TYPE-3: Cơ bản 150.000 VND không điều kiện (tự động thanh toán khi làm việc)"
      },
      "answer9Detail2": {
        "ko": "TYPE-2: 조건 충족 필요, TYPE-1 평균 기준 계산",
        "en": "TYPE-2: Conditions must be met, calculated based on TYPE-1 average",
        "vi": "TYPE-2: Cần đáp ứng điều kiện, tính theo trung bình TYPE-1"
      },
      "answer9Detail3": {
        "ko": "승진 후 조건 충족시 일반적으로 인센티브 증가",
        "en": "Generally incentive increases after promotion if conditions are met",
        "vi": "Thường thưởng tăng sau thăng chức nếu đáp ứng điều kiện"
      },
      "answer9Detail4": {
        "ko": "하지만 조건 미충족시 0이 될 수 있으므로 주의 필요",
        "en": "However, be careful as it can become 0 if conditions are not met",
        "vi": "Tuy nhiên, cần cẩn thận vì có thể về 0 nếu không đáp ứng điều kiện"
      },
      "question10": {
        "ko": "Q10. 조건을 모두 충족했는데도 인센티브가 0인 이유는 무엇인가요?",
        "en": "Q10. Why is the incentive 0 even though all conditions are met?",
        "vi": "Q10. Tại sao thưởng là 0 mặc dù đã đáp ứng tất cả điều kiện?"
      },
      "answer10Main": {
        "ko": "다음 사항을 재확인해 보세요:",
        "en": "Please double-check the following:",
        "vi": "Vui lòng kiểm tra lại các mục sau:"
      },
      "answer10Reason1": {
        "ko": "숨겨진 조건: 직급별로 적용되는 모든 조건 확인",
        "en": "Hidden conditions: Check all conditions applied by position",
        "vi": "Điều kiện ẩn: Kiểm tra tất cả điều kiện áp dụng theo vị trí"
      },
      "answer10Reason2": {
        "ko": "데이터 업데이트: 최신 데이터 반영 여부",
        "en": "Data update: Whether the latest data is reflected",
        "vi": "Cập nhật dữ liệu: Dữ liệu mới nhất đã được phản ánh chưa"
      },
      "answer10Reason3": {
        "ko": "특별한 사유: 징계, 경고 등 특별 사유",
        "en": "Special reasons: Disciplinary action, warnings, etc.",
        "vi": "Lý do đặc biệt: Kỷ luật, cảnh cáo, v.v."
      },
      "answer10Reason4": {
        "ko": "시스템 오류: HR 부서에 문의",
        "en": "System error: Contact HR department",
        "vi": "Lỗi hệ thống: Liên hệ phòng nhân sự"
      },
      "answer10Conclusion": {
        "ko": "개인별 상세 페이지에서 조건별 충족 여부를 상세히 확인하시기 바랍니다.",
        "en": "Please check the condition fulfillment details on the individual detail page.",
        "vi": "Vui lòng kiểm tra chi tiết việc đáp ứng điều kiện trên trang chi tiết cá nhân."
      },
      "question11": {
        "ko": "Q11. TYPE-2 GROUP LEADER가 인센티브를 못 받는 경우가 있나요?",
        "en": "Q11. Are there cases where TYPE-2 GROUP LEADER doesn't receive incentives?",
        "vi": "Q11. Có trường hợp TYPE-2 GROUP LEADER không nhận được thưởng không?"
      },
      "answer11Main": {
        "ko": "TYPE-2 GROUP LEADER는 특별한 계산 규칙이 적용됩니다:",
        "en": "TYPE-2 GROUP LEADER has special calculation rules applied:",
        "vi": "TYPE-2 GROUP LEADER áp dụng quy tắc tính toán đặc biệt:"
      },
      "answer11Detail1": {
        "ko": "기본 계산: TYPE-1 GROUP LEADER 평균 인센티브를 받습니다",
        "en": "Base Calculation: Receives TYPE-1 GROUP LEADER average incentive",
        "vi": "Tính toán cơ bản: Nhận mức thưởng trung bình của TYPE-1 GROUP LEADER"
      },
      "answer11Detail2": {
        "ko": "독립 계산: TYPE-1 GROUP LEADER 평균이 0 VND일 경우, 자동으로 전체 TYPE-2 LINE LEADER 평균 × 2로 계산됩니다",
        "en": "Independent Calculation: When TYPE-1 GROUP LEADER average is 0 VND, automatically calculated as all TYPE-2 LINE LEADER average × 2",
        "vi": "Tính toán độc lập: Khi trung bình TYPE-1 GROUP LEADER là 0 VND, tự động tính bằng trung bình tất cả TYPE-2 LINE LEADER × 2"
      },
      "answer11Detail3": {
        "ko": "개선 사항: 부하직원 관계와 상관없이 전체 TYPE-2 LINE LEADER 평균을 사용하여 더 공정한 계산이 이루어집니다",
        "en": "Improvement: Uses all TYPE-2 LINE LEADER average for fairer calculation regardless of subordinate relationships",
        "vi": "Cải tiến: Sử dụng trung bình tất cả TYPE-2 LINE LEADER để tính toán công bằng hơn không phụ thuộc quan hệ cấp dưới"
      },
      "answer11Detail4": {
        "ko": "조건: TYPE-2는 출근 조건(1-4번)만 충족하면 인센티브를 받을 수 있습니다",
        "en": "Conditions: TYPE-2 can receive incentives by meeting only attendance conditions (1-4)",
        "vi": "Điều kiện: TYPE-2 có thể nhận thưởng chỉ cần đáp ứng điều kiện chấm công (1-4)"
      },
      "answer11Conclusion": {
        "ko": "따라서 출근 조건을 충족한 TYPE-2 GROUP LEADER는 항상 인센티브를 받을 수 있도록 보장됩니다.",
        "en": "Therefore, TYPE-2 GROUP LEADERs who meet attendance conditions are guaranteed to receive incentives.",
        "vi": "Do đó, TYPE-2 GROUP LEADER đáp ứng điều kiện chấm công luôn được đảm bảo nhận thưởng."
      },
      "question12": {
        "ko": "Q12. TYPE-2 SUPERVISOR가 인센티브를 못 받는 경우가 있나요?",
        "en": "Q12. Are there cases where TYPE-2 SUPERVISOR doesn't receive incentives?",
        "vi": "Q12. Có trường hợp TYPE-2 SUPERVISOR không nhận được thưởng không?"
      },
      "answer12Main": {
        "ko": "TYPE-2 SUPERVISOR도 TYPE-2 GROUP LEADER와 유사한 특별 계산 규칙이 적용됩니다:",
        "en": "TYPE-2 SUPERVISOR also has special calculation rules similar to TYPE-2 GROUP LEADER:",
        "vi": "TYPE-2 SUPERVISOR cũng áp dụng quy tắc tính toán đặc biệt tương tự TYPE-2 GROUP LEADER:"
      },
      "answer12Detail1": {
        "ko": "기본 계산: TYPE-1 SUPERVISOR 평균 인센티브를 사용합니다",
        "en": "Base calculation: Uses TYPE-1 SUPERVISOR average incentive",
        "vi": "Tính toán cơ bản: Sử dụng mức thưởng trung bình của TYPE-1 SUPERVISOR"
      },
      "answer12Detail2": {
        "ko": "독립 계산: TYPE-1 SUPERVISOR 평균이 0 VND인 경우, TYPE-2 LINE LEADER 평균 × 2.5로 독립 계산합니다",
        "en": "Independent calculation: When TYPE-1 SUPERVISOR average is 0 VND, independently calculated as TYPE-2 LINE LEADER average × 2.5",
        "vi": "Tính toán độc lập: Khi trung bình TYPE-1 SUPERVISOR là 0 VND, tính độc lập bằng trung bình TYPE-2 LINE LEADER × 2.5"
      },
      "answer12Detail3": {
        "ko": "개선 사항: 부하직원 관계와 상관없이 전체 TYPE-2 LINE LEADER 평균을 사용하여 더 공정한 계산이 이루어집니다",
        "en": "Improvement: Uses all TYPE-2 LINE LEADER average for fairer calculation regardless of subordinate relationships",
        "vi": "Cải tiến: Sử dụng trung bình tất cả TYPE-2 LINE LEADER để tính toán công bằng hơn không phụ thuộc quan hệ cấp dưới"
      },
      "answer12Detail4": {
        "ko": "조건: TYPE-2는 출근 조건(1-4번)만 충족하면 인센티브를 받을 수 있습니다",
        "en": "Conditions: TYPE-2 can receive incentives by meeting only attendance conditions (1-4)",
        "vi": "Điều kiện: TYPE-2 có thể nhận thưởng chỉ cần đáp ứng điều kiện chấm công (1-4)"
      },
      "answer12Conclusion": {
        "ko": "따라서 출근 조건을 충족한 TYPE-2 SUPERVISOR는 항상 인센티브를 받을 수 있도록 보장됩니다.",
        "en": "Therefore, TYPE-2 SUPERVISORs who meet attendance conditions are guaranteed to receive incentives.",
        "vi": "Do đó, TYPE-2 SUPERVISOR đáp ứng điều kiện chấm công luôn được đảm bảo nhận thưởng."
      },
      "faqSectionTitle": {
        "ko": "❓ 자주 묻는 질문 (FAQ)",
        "en": "❓ Frequently Asked Questions (FAQ)",
        "vi": "❓ Câu hỏi thường gặp (FAQ)"
      }
    }
  },
  "type2GroupLeaderSpecial": {
    "title": {
      "ko": "⚠️ TYPE-2 GROUP LEADER 특별 계산 규칙",
      "en": "⚠️ TYPE-2 GROUP LEADER Special Calculation Rules",
      "vi": "⚠️ Quy tắc tính toán đặc biệt cho TYPE-2 GROUP LEADER"
    },
    "baseCalculation": {
      "ko": "기본 계산: TYPE-1 GROUP LEADER 평균 인센티브 사용",
      "en": "Base Calculation: Uses TYPE-1 GROUP LEADER average incentive",
      "vi": "Tính toán cơ bản: Sử dụng mức thưởng trung bình của TYPE-1 GROUP LEADER"
    },
    "independentCalculation": {
      "ko": "TYPE-1 평균이 0 VND인 경우: 모든 TYPE-2 LINE LEADER 평균 × 2로 독립 계산",
      "en": "When TYPE-1 average is 0 VND: Independently calculated as all TYPE-2 LINE LEADER average × 2",
      "vi": "Khi trung bình TYPE-1 là 0 VND: Tính độc lập bằng trung bình tất cả TYPE-2 LINE LEADER × 2"
    },
    "important": {
      "ko": "중요: 부하직원 관계 없이 전체 TYPE-2 LINE LEADER 평균 사용",
      "en": "Important: Uses all TYPE-2 LINE LEADER average regardless of subordinate relationships",
      "vi": "Quan trọng: Sử dụng trung bình tất cả TYPE-2 LINE LEADER không phụ thuộc quan hệ cấp dưới"
    },
    "conditions": {
      "ko": "적용 조건: TYPE-2는 출근 조건(1-4번)만 충족하면 인센티브 지급",
      "en": "Conditions: TYPE-2 only needs to meet attendance conditions (1-4) for incentive payment",
      "vi": "Điều kiện: TYPE-2 chỉ cần đáp ứng điều kiện chấm công (1-4) để nhận thưởng"
    },
    "note": {
      "ko": "(TYPE-1 평균 0시: 전체 TYPE-2 LINE LEADER 평균 × 2)",
      "en": "(When TYPE-1 avg is 0: All TYPE-2 LINE LEADER avg × 2)",
      "vi": "(Khi TB TYPE-1 là 0: TB tất cả TYPE-2 LINE LEADER × 2)"
    }
  },
  "type2SupervisorSpecial": {
    "title": {
      "ko": "⚠️ TYPE-2 SUPERVISOR 특별 계산 규칙",
      "en": "⚠️ TYPE-2 SUPERVISOR Special Calculation Rules",
      "vi": "⚠️ Quy tắc tính toán đặc biệt cho TYPE-2 SUPERVISOR"
    },
    "baseCalculation": {
      "ko": "기본 계산: TYPE-1 SUPERVISOR 평균 인센티브 사용",
      "en": "Base Calculation: Uses TYPE-1 SUPERVISOR average incentive",
      "vi": "Tính toán cơ bản: Sử dụng mức thưởng trung bình của TYPE-1 SUPERVISOR"
    },
    "independentCalculation": {
      "ko": "TYPE-1 평균이 0 VND인 경우: 모든 TYPE-2 LINE LEADER 평균 × 2.5로 독립 계산",
      "en": "When TYPE-1 average is 0 VND: Independently calculated as all TYPE-2 LINE LEADER average × 2.5",
      "vi": "Khi trung bình TYPE-1 là 0 VND: Tính độc lập bằng trung bình tất cả TYPE-2 LINE LEADER × 2.5"
    },
    "important": {
      "ko": "중요: 부하직원 관계 없이 전체 TYPE-2 LINE LEADER 평균 사용",
      "en": "Important: Uses all TYPE-2 LINE LEADER average regardless of subordinate relationships",
      "vi": "Quan trọng: Sử dụng trung bình tất cả TYPE-2 LINE LEADER không phụ thuộc quan hệ cấp dưới"
    },
    "conditions": {
      "ko": "적용 조건: TYPE-2는 출근 조건(1-4번)만 충족하면 인센티브 지급",
      "en": "Conditions: TYPE-2 only needs to meet attendance conditions (1-4) for incentive payment",
      "vi": "Điều kiện: TYPE-2 chỉ cần đáp ứng điều kiện chấm công (1-4) để nhận thưởng"
    },
    "note": {
      "ko": "(TYPE-1 평균 0시: 전체 TYPE-2 LINE LEADER 평균 × 2.5)",
      "en": "(When TYPE-1 avg is 0: All TYPE-2 LINE LEADER avg × 2.5)",
      "vi": "(Khi TB TYPE-1 là 0: TB tất cả TYPE-2 LINE LEADER × 2.5)"
    }
  },
  "incentive": {
    "faq": {
      "calculationExampleTitle": {
        "ko": "📐 실제 계산 예시",
        "en": "📐 Actual Calculation Examples",
        "vi": "📐 Ví dụ tính toán thực tế"
      },
      "case1Title": {
        "ko": "예시 1: TYPE-1 ASSEMBLY INSPECTOR (10개월 연속 근무)",
        "en": "Example 1: TYPE-1 ASSEMBLY INSPECTOR (10 consecutive months)",
        "vi": "Ví dụ 1: TYPE-1 ASSEMBLY INSPECTOR (10 tháng liên tục)"
      },
      "case2Title": {
        "ko": "예시 2: AUDIT & TRAINING TEAM (담당구역 reject율 계산)",
        "en": "Example 2: AUDIT & TRAINING TEAM (Area reject rate calculation)",
        "vi": "Ví dụ 2: AUDIT & TRAINING TEAM (Tính tỷ lệ từ chối khu vực)"
      },
      "case3Title": {
        "ko": "예시 3: TYPE-2 STITCHING INSPECTOR",
        "en": "Example 3: TYPE-2 STITCHING INSPECTOR",
        "vi": "Ví dụ 3: TYPE-2 STITCHING INSPECTOR"
      },
      "employee": {
        "ko": "직원:",
        "en": "Employee:",
        "vi": "Nhân viên:"
      },
      "previousMonth": {
        "ko": "전월 상태:",
        "en": "Previous Month:",
        "vi": "Tháng trước:"
      },
      "consecutiveMonthsWorked": {
        "ko": "개월 연속 → ",
        "en": "consecutive months → ",
        "vi": "tháng liên tục → "
      },
      "incentiveReceived": {
        "ko": "VND 수령",
        "en": "VND received",
        "vi": "VND nhận được"
      },
      "conditionEvaluation": {
        "ko": "당월 조건 충족:",
        "en": "Current Month Conditions:",
        "vi": "Điều kiện tháng này:"
      },
      "attendanceRateMet": {
        "ko": "출근율:",
        "en": "Attendance Rate:",
        "vi": "Tỷ lệ chuyên cần:"
      },
      "unauthorizedAbsenceMet": {
        "ko": "무단결근:",
        "en": "Unauthorized Absence:",
        "vi": "Vắng không phép:"
      },
      "actualWorkingDays": {
        "ko": "실제 근무일:",
        "en": "Actual Working Days:",
        "vi": "Ngày làm việc thực tế:"
      },
      "minimumWorkingDays": {
        "ko": "최소 근무일:",
        "en": "Minimum Working Days:",
        "vi": "Ngày làm việc tối thiểu:"
      },
      "personalAql": {
        "ko": "개인 AQL (당월):",
        "en": "Personal AQL (Current):",
        "vi": "AQL cá nhân (hiện tại):"
      },
      "personalAqlContinuous": {
        "ko": "개인 AQL (연속):",
        "en": "Personal AQL (Consecutive):",
        "vi": "AQL cá nhân (liên tục):"
      },
      "fprsPassRate": {
        "ko": "5PRS 통과율:",
        "en": "5PRS Pass Rate:",
        "vi": "Tỷ lệ đạt 5PRS:"
      },
      "fprsInspection": {
        "ko": "5PRS 검사량:",
        "en": "5PRS Inspection:",
        "vi": "Kiểm tra 5PRS:"
      },
      "days": {
        "ko": "일",
        "en": "days",
        "vi": "ngày"
      },
      "items": {
        "ko": "개",
        "en": "items",
        "vi": "mục"
      },
      "failureText": {
        "ko": "실패 0건",
        "en": "0 failures",
        "vi": "0 thất bại"
      },
      "monthsConsecutiveNoFailure": {
        "ko": "개월 연속 실패 없음",
        "en": "consecutive months without failure",
        "vi": "tháng liên tục không thất bại"
      },
      "result": {
        "ko": "결과:",
        "en": "Result:",
        "vi": "Kết quả:"
      },
      "allConditionsMet": {
        "ko": "모든 조건 충족",
        "en": "All conditions met",
        "vi": "Đáp ứng tất cả điều kiện"
      },
      "incentivePayment": {
        "ko": "VND 지급",
        "en": "VND payment",
        "vi": "VND thanh toán"
      },
      "teamLeader": {
        "ko": "담당 구역:",
        "en": "Area Leader:",
        "vi": "Người phụ trách khu vực:"
      },
      "aqlInspectionPassed": {
        "ko": "구역 생산 총 AQL 검사 PO 수량:",
        "en": "Area Production Total AQL Inspection PO Quantity:",
        "vi": "Số lượng PO kiểm tra AQL tổng sản xuất khu vực:"
      },
      "aqlRejectPo": {
        "ko": "구역 생산 총 AQL 리젝 PO 수량:",
        "en": "Area Production Total AQL Reject PO Quantity:",
        "vi": "Số lượng PO từ chối AQL tổng sản xuất khu vực:"
      },
      "calculation": {
        "ko": "계산:",
        "en": "Calculation:",
        "vi": "Tính toán:"
      },
      "resultCondition": {
        "ko": "결과:",
        "en": "Result:",
        "vi": "Kết quả:"
      },
      "conditionMet": {
        "ko": "조건 충족",
        "en": "Condition Met",
        "vi": "Đáp ứng điều kiện"
      },
      "memberTable": {
        "ko": "AUDIT & TRAINING TEAM 멤버별 담당 구역",
        "en": "AUDIT & TRAINING TEAM Member Assigned Areas",
        "vi": "Khu vực phân công thành viên AUDIT & TRAINING TEAM"
      },
      "employeeNameLabel": {
        "ko": "직원명",
        "en": "Employee Name",
        "vi": "Tên nhân viên"
      },
      "assignedBuilding": {
        "ko": "담당 Building",
        "en": "Assigned Building",
        "vi": "Tòa nhà phụ trách"
      },
      "buildingDescription": {
        "ko": "설명",
        "en": "Description",
        "vi": "Mô tả"
      },
      "rejectRate": {
        "ko": "Reject율",
        "en": "Reject Rate",
        "vi": "Tỷ lệ từ chối"
      },
      "buildingWhole": {
        "ko": "전체",
        "en": "Overall",
        "vi": "Tổng thể"
      },
      "teamLeaderDescription": {
        "ko": "Team Leader - 전체 Building 총괄",
        "en": "Team Leader - All Buildings Overall",
        "vi": "Trưởng nhóm - Tổng thể tất cả tòa nhà"
      },
      "noMissingData": {
        "ko": "기타 조건 미충족",
        "en": "Other conditions not met",
        "vi": "Các điều kiện khác không đạt"
      },
      "rejectRateNote": {
        "ko": "* Reject율 기준: 3% 미만 (✅ 충족, ❌ 미충족)",
        "en": "* Reject rate standard: Less than 3% (✅ Met, ❌ Not met)",
        "vi": "* Tiêu chuẩn tỷ lệ từ chối: Dưới 3% (✅ Đạt, ❌ Không đạt)"
      },
      "memberNote": {
        "ko": "* 8월 기준 모든 AUDIT & TRAINING TEAM 멤버가 reject율 조건 미충족으로 인센티브 0원",
        "en": "* As of August, all AUDIT & TRAINING TEAM members receive 0 incentive due to reject rate condition failure",
        "vi": "* Tính đến tháng 8, tất cả thành viên AUDIT & TRAINING TEAM nhận 0 thưởng do không đạt điều kiện tỷ lệ từ chối"
      },
      "positionType": {
        "ko": "직급 타입:",
        "en": "Position Type:",
        "vi": "Loại chức vụ:"
      },
      "conditionStatus": {
        "ko": "조건 충족 현황:",
        "en": "Condition Status:",
        "vi": "Tình trạng điều kiện:"
      },
      "conditionsMet": {
        "ko": "충족",
        "en": "Met",
        "vi": "Đạt"
      },
      "incentiveCalculation": {
        "ko": "인센티브 계산:",
        "en": "Incentive Calculation:",
        "vi": "Tính thưởng:"
      },
      "type2Explanation": {
        "ko": "TYPE-2 STITCHING INSPECTOR는 출근 조건(1-4번)만 확인하며, 모든 조건을 충족했으므로 기본 인센티브를 받습니다.",
        "en": "TYPE-2 STITCHING INSPECTOR only checks attendance conditions (1-4), and receives basic incentive when all conditions are met.",
        "vi": "TYPE-2 STITCHING INSPECTOR chỉ kiểm tra điều kiện chuyên cần (1-4), và nhận thưởng cơ bản khi đáp ứng tất cả điều kiện."
      },
      "paymentAmount": {
        "ko": "지급액:",
        "en": "Payment Amount:",
        "vi": "Số tiền thanh toán:"
      },
      "type2BasicIncentive": {
        "ko": "TYPE-2 기본 인센티브",
        "en": "TYPE-2 Basic Incentive",
        "vi": "Thưởng cơ bản TYPE-2"
      },
      "type2Note": {
        "ko": "* TYPE-2는 AQL이나 5PRS 조건 없이 출근 조건만으로 인센티브가 결정됩니다.",
        "en": "* TYPE-2 incentive is determined only by attendance conditions without AQL or 5PRS requirements.",
        "vi": "* Thưởng TYPE-2 được xác định chỉ bằng điều kiện chuyên cần mà không có yêu cầu AQL hoặc 5PRS."
      }
    },
    "attendance": {
      "title": {
        "ko": "📊 출근율 계산 방식",
        "en": "📊 Attendance Rate Calculation Method",
        "vi": "📊 Phương pháp tính tỷ lệ chuyên cần"
      },
      "formulaTitle": {
        "ko": "실제 계산 공식 (시스템 구현):",
        "en": "Actual Calculation Formula (System Implementation):",
        "vi": "Công thức tính thực tế (Triển khai hệ thống):"
      },
      "attendanceFormula": {
        "ko": "출근율(%) = 100 - 결근율(%)",
        "en": "Attendance Rate(%) = 100 - Absence Rate(%)",
        "vi": "Tỷ lệ chuyên cần(%) = 100 - Tỷ lệ vắng mặt(%)"
      },
      "absenceFormula": {
        "ko": "결근율(%) = (결근 일수 / 총 근무일) × 100",
        "en": "Absence Rate(%) = (Absence Days / Total Working Days) × 100",
        "vi": "Tỷ lệ vắng mặt(%) = (Số ngày vắng / Tổng ngày làm việc) × 100"
      },
      "absenceDaysNote": {
        "ko": "* 결근 일수 = 총 근무일 - 실제 근무일 - 승인된 휴가",
        "en": "* Absence Days = Total Working Days - Actual Working Days - Approved Leave",
        "vi": "* Số ngày vắng = Tổng ngày làm việc - Ngày làm việc thực tế - Nghỉ phép được duyệt"
      },
      "examplesTitle": {
        "ko": "결근율 계산 예시:",
        "en": "Absence Rate Calculation Examples:",
        "vi": "Ví dụ tính tỷ lệ vắng mặt:"
      },
      "example1Title": {
        "ko": "예시 1: 정상 근무자",
        "en": "Example 1: Normal Worker",
        "vi": "Ví dụ 1: Người làm việc bình thường"
      },
      "example2Title": {
        "ko": "예시 2: 무단결근 포함",
        "en": "Example 2: Including Unauthorized Absence",
        "vi": "Ví dụ 2: Bao gồm vắng không phép"
      },
      "example3Title": {
        "ko": "예시 3: 조건 충족 경계선",
        "en": "Example 3: Condition Boundary",
        "vi": "Ví dụ 3: Ranh giới điều kiện"
      },
      "totalWorkingDays": {
        "ko": "총 근무일",
        "en": "Total Working Days",
        "vi": "Tổng ngày làm việc"
      },
      "actualWorkingDays": {
        "ko": "실제 근무일",
        "en": "Actual Working Days",
        "vi": "Ngày làm việc thực tế"
      },
      "approvedLeave": {
        "ko": "승인된 휴가",
        "en": "Approved Leave",
        "vi": "Nghỉ phép được duyệt"
      },
      "annualLeave": {
        "ko": "연차",
        "en": "Annual Leave",
        "vi": "Nghỉ phép năm"
      },
      "sickLeave": {
        "ko": "병가",
        "en": "Sick Leave",
        "vi": "Nghỉ ốm"
      },
      "unauthorizedAbsence": {
        "ko": "무단결근",
        "en": "Unauthorized Absence",
        "vi": "Vắng không phép"
      },
      "absenceDays": {
        "ko": "결근 일수",
        "en": "Absence Days",
        "vi": "Số ngày vắng"
      },
      "absenceRate": {
        "ko": "결근율",
        "en": "Absence Rate",
        "vi": "Tỷ lệ vắng mặt"
      },
      "attendanceRate": {
        "ko": "출근율",
        "en": "Attendance Rate",
        "vi": "Tỷ lệ chuyên cần"
      },
      "lessThan88": {
        "ko": "88% 미만",
        "en": "Less than 88%",
        "vi": "Dưới 88%"
      },
      "moreThan88": {
        "ko": "88% 이상",
        "en": "88% or more",
        "vi": "88% trở lên"
      },
      "condition2NotMet": {
        "ko": "단, 무단결근 3일로 조건 2 미충족 → 인센티브 0원",
        "en": "However, condition 2 not met with 3 days unauthorized absence → Incentive 0",
        "vi": "Tuy nhiên, điều kiện 2 không đạt với 3 ngày vắng không phép → Thưởng 0"
      },
      "absenceClassificationTitle": {
        "ko": "결근 사유별 분류:",
        "en": "Absence Classification by Reason:",
        "vi": "Phân loại vắng mặt theo lý do:"
      },
      "notIncludedInAbsence": {
        "ko": "✅ 결근율에 포함 안됨 (승인된 휴가):",
        "en": "✅ Not Included in Absence Rate (Approved Leave):",
        "vi": "✅ Không tính vào tỷ lệ vắng mặt (Nghỉ phép được duyệt):"
      },
      "includedInAbsence": {
        "ko": "❌ 결근율에 포함됨 (무단결근):",
        "en": "❌ Included in Absence Rate (Unauthorized Absence):",
        "vi": "❌ Tính vào tỷ lệ vắng mặt (Vắng không phép):"
      },
      "maternityLeave": {
        "ko": "출산휴가",
        "en": "Maternity Leave",
        "vi": "Nghỉ thai sản"
      },
      "annualLeaveVn": {
        "ko": "연차휴가",
        "en": "Annual Leave",
        "vi": "Nghỉ phép năm"
      },
      "approvedAbsence": {
        "ko": "승인된 휴가",
        "en": "Approved Leave",
        "vi": "Vắng có phép"
      },
      "postpartumRest": {
        "ko": "출산 후 요양",
        "en": "Postpartum Rest",
        "vi": "Dưỡng sức sinh thường"
      },
      "prenatalCheckup": {
        "ko": "산전검진",
        "en": "Prenatal Checkup",
        "vi": "Khám thai bình thường"
      },
      "childcareLeave": {
        "ko": "육아휴가",
        "en": "Childcare Leave",
        "vi": "Con dưới 3 tuổi bị bệnh"
      },
      "shortSickLeave": {
        "ko": "병가",
        "en": "Sick Leave",
        "vi": "ốm ngắn ngày"
      },
      "businessTrip": {
        "ko": "출장",
        "en": "Business Trip",
        "vi": "Đi công tác"
      },
      "militaryService": {
        "ko": "군복무",
        "en": "Military Service",
        "vi": "Nghĩa vụ quân sự"
      },
      "cardNotSwiped": {
        "ko": "출퇴근 체크 누락",
        "en": "Card Not Swiped",
        "vi": "Đi làm không quẹt thẻ"
      },
      "newEmployee": {
        "ko": "신규입사 특례",
        "en": "New Employee Exception",
        "vi": "Công nhân viên mới"
      },
      "compensatoryLeave": {
        "ko": "대체휴무",
        "en": "Compensatory Leave",
        "vi": "Nghỉ bù"
      },
      "unauthorizedAbsenceAR1": {
        "ko": "무단결근",
        "en": "Unauthorized Absence",
        "vi": "Vắng không phép"
      },
      "writtenNoticeAbsence": {
        "ko": "서면통지 결근",
        "en": "Written Notice Absence",
        "vi": "Gửi thư"
      },
      "countingRulesTitle": {
        "ko": "📢 무단결근 카운팅 규칙:",
        "en": "📢 Unauthorized Absence Counting Rules:",
        "vi": "📢 Quy tắc đếm vắng không phép:"
      },
      "countingRule1": {
        "ko": "AR1 카테고리만 무단결근으로 카운트",
        "en": "Only AR1 category counted as unauthorized absence",
        "vi": "Chỉ danh mục AR1 được tính là vắng không phép"
      },
      "countingRule2": {
        "ko": "2일까지는 인센티브 지급 가능",
        "en": "Up to 2 days eligible for incentive",
        "vi": "Tối đa 2 ngày vẫn đủ điều kiện nhận thưởng"
      },
      "countingRule3": {
        "ko": "3일 이상 → 인센티브 0원",
        "en": "3 days or more → Incentive 0",
        "vi": "3 ngày trở lên → Thưởng 0"
      },
      "conditionCriteriaTitle": {
        "ko": "조건 충족 기준:",
        "en": "Condition Fulfillment Criteria:",
        "vi": "Tiêu chí đáp ứng điều kiện:"
      },
      "attendanceCriteria": {
        "ko": "출근율: ≥ 88% (결근율 ≤ 12%)",
        "en": "Attendance Rate: ≥ 88% (Absence Rate ≤ 12%)",
        "vi": "Tỷ lệ chuyên cần: ≥ 88% (Tỷ lệ vắng mặt ≤ 12%)"
      },
      "unauthorizedAbsenceCriteria": {
        "ko": "무단결근: ≤ 2일 (AR1 카테고리만 해당)",
        "en": "Unauthorized Absence: ≤ 2 days (AR1 category only)",
        "vi": "Vắng không phép: ≤ 2 ngày (chỉ danh mục AR1)"
      },
      "actualWorkingDaysCriteria": {
        "ko": "실제 근무일: > 0일",
        "en": "Actual Working Days: > 0 days",
        "vi": "Ngày làm việc thực tế: > 0 ngày"
      },
      "minimumWorkingDaysCriteria": {
        "ko": "최소 근무일: ≥ 12일",
        "en": "Minimum Working Days: ≥ 12 days",
        "vi": "Ngày làm việc tối thiểu: ≥ 12 ngày"
      },
      "unapprovedAbsenceExplanationTitle": {
        "ko": "📊 Unapproved Absence Days 설명:",
        "en": "📊 Unapproved Absence Days Explanation:",
        "vi": "📊 Giải thích ngày vắng không được duyệt:"
      },
      "unapprovedAbsenceExplanation1": {
        "ko": "HR 시스템에서 제공하는 무단결근 일수 데이터",
        "en": "Unauthorized absence days data provided by HR system",
        "vi": "Dữ liệu ngày vắng không phép được cung cấp bởi hệ thống HR"
      },
      "unapprovedAbsenceExplanation2": {
        "ko": "AR1 (Vắng không phép) 카테고리만 집계",
        "en": "Only AR1 (Unauthorized Absence) category counted",
        "vi": "Chỉ tính danh mục AR1 (Vắng không phép)"
      },
      "unapprovedAbsenceExplanation3": {
        "ko": "서면통지 결근(Gửi thư)도 AR1에 포함",
        "en": "Written notice absence (Gửi thư) also included in AR1",
        "vi": "Vắng có thông báo bằng văn bản (Gửi thư) cũng thuộc AR1"
      },
      "unapprovedAbsenceExplanation4": {
        "ko": "인센티브 조건: ≤2일 (개인별 최대 허용치)",
        "en": "Incentive condition: ≤2 days (maximum allowed per person)",
        "vi": "Điều kiện thưởng: ≤2 ngày (tối đa cho phép mỗi người)"
      },
      "days": {
        "ko": "일",
        "en": "days",
        "vi": "ngày"
      }
    }
  },
  "talentPool": {
    "title": {
      "ko": "🌟 QIP Talent Pool 특별 인센티브",
      "en": "🌟 QIP Talent Pool Special Incentive",
      "vi": "🌟 Khuyến khích đặc biệt QIP Talent Pool"
    },
    "subtitle": {
      "ko": "우수한 성과를 보이는 인원들을 대상으로 하는 특별 인센티브 프로그램입니다",
      "en": "Special incentive program for personnel showing excellent performance",
      "vi": "Chương trình khuyến khích đặc biệt cho nhân viên có thành tích xuất sắc"
    },
    "memberCount": {
      "ko": "Talent Pool 인원",
      "en": "Talent Pool Members",
      "vi": "Số thành viên Talent Pool"
    },
    "monthlyBonus": {
      "ko": "월 보너스 금액",
      "en": "Monthly Bonus Amount",
      "vi": "Số tiền thưởng hàng tháng"
    },
    "totalBenefit": {
      "ko": "6개월 총 혜택 예정",
      "en": "Total Benefit Expected (6 months)",
      "vi": "Tổng lợi ích dự kiến (6 tháng)"
    },
    "selectionCriteria": {
      "ko": "선정 기준",
      "en": "Selection Criteria",
      "vi": "Tiêu chí lựa chọn"
    },
    "criteria": {
      "excellence": {
        "ko": "업무 성과 우수자",
        "en": "Excellent work performance",
        "vi": "Thành tích công việc xuất sắc"
      },
      "qualityTop": {
        "ko": "품질 목표 달성률 상위 10%",
        "en": "Top 10% in quality target achievement",
        "vi": "Top 10% đạt mục tiêu chất lượng"
      },
      "teamwork": {
        "ko": "팀워크 및 리더십 발휘",
        "en": "Teamwork and leadership demonstration",
        "vi": "Thể hiện tinh thần đồng đội và lãnh đạo"
      },
      "improvement": {
        "ko": "지속적인 개선 활동 참여",
        "en": "Continuous improvement activity participation",
        "vi": "Tham gia hoạt động cải tiến liên tục"
      }
    },
    "benefits": {
      "title": {
        "ko": "혜택",
        "en": "Benefits",
        "vi": "Quyền lợi"
      },
      "monthlyBonus": {
        "ko": "월 특별 보너스: 150,000 VND",
        "en": "Monthly Special Bonus: 150,000 VND",
        "vi": "Thưởng đặc biệt hàng tháng: 150.000 VND"
      },
      "totalBonus": {
        "ko": "총 지급 예정 (6개월): 900,000 VND",
        "en": "Total Expected (6 months): 900,000 VND",
        "vi": "Tổng dự kiến (6 tháng): 900.000 VND"
      }
    },
    "process": {
      "title": {
        "ko": "평가 프로세스 (6개월 주기)",
        "en": "Evaluation Process (6-month cycle)",
        "vi": "Quy trình đánh giá (chu kỳ 6 tháng)"
      },
      "step1": {
        "title": {
          "ko": "후보자 추천",
          "en": "Candidate Nomination",
          "vi": "Đề cử ứng viên"
        },
        "description": {
          "ko": "각 부서에서 우수 인원 추천",
          "en": "Departments nominate excellent personnel",
          "vi": "Các phòng ban đề cử nhân viên xuất sắc"
        }
      },
      "step2": {
        "title": {
          "ko": "성과 평가",
          "en": "Performance Evaluation",
          "vi": "Đánh giá hiệu suất"
        },
        "description": {
          "ko": "최근 3개월간 성과 데이터 분석",
          "en": "Analyze performance data for recent 3 months",
          "vi": "Phân tích dữ liệu hiệu suất 3 tháng gần đây"
        }
      },
      "step3": {
        "title": {
          "ko": "위원회 심사",
          "en": "Committee Review",
          "vi": "Xem xét của ủy ban"
        },
        "description": {
          "ko": "QIP 운영위원회 최종 심사",
          "en": "QIP Committee final review",
          "vi": "Xem xét cuối cùng của ủy ban QIP"
        }
      },
      "step4": {
        "title": {
          "ko": "최종 선정",
          "en": "Final Selection",
          "vi": "Lựa chọn cuối cùng"
        },
        "description": {
          "ko": "Talent Pool 멤버 확정 및 공지",
          "en": "Confirm and announce Talent Pool members",
          "vi": "Xác nhận và công bố thành viên Talent Pool"
        }
      },
      "step5": {
        "title": {
          "ko": "보너스 지급",
          "en": "Bonus Payment",
          "vi": "Chi trả thưởng"
        },
        "description": {
          "ko": "매월 정기 인센티브와 함께 지급",
          "en": "Paid together with monthly regular incentive",
          "vi": "Thanh toán cùng với khuyến khích hàng tháng"
        }
      },
      "step6": {
        "title": {
          "ko": "재평가",
          "en": "Re-evaluation",
          "vi": "Đánh giá lại"
        },
        "description": {
          "ko": "6개월 후 재평가 실시",
          "en": "Re-evaluation after 6 months",
          "vi": "Đánh giá lại sau 6 tháng"
        }
      }
    },
    "conditions": {
      "attendanceOnly": {
        "ko": "출근 조건만 적용",
        "en": "Attendance conditions only",
        "vi": "Chỉ điều kiện chấm công"
      }
    }
  },
  "talentProgram": {
    "title": {
      "ko": "🌟 QIP Talent Pool 인센티브 프로그램",
      "en": "🌟 QIP Talent Pool Incentive Program",
      "vi": "🌟 Chương trình khen thưởng QIP Talent Pool"
    },
    "intro": {
      "ko": "QIP Talent Pool은 우수한 성과를 보이는 인원들을 대상으로 하는 특별 인센티브 프로그램입니다. 선정된 인원은 6개월간 매월 추가 보너스를 받게 됩니다.",
      "en": "QIP Talent Pool is a special incentive program for high-performing individuals. Selected members receive additional monthly bonuses for 6 months.",
      "vi": "QIP Talent Pool là chương trình khen thưởng đặc biệt dành cho những người có thành tích xuất sắc. Thành viên được chọn sẽ nhận thưởng bổ sung hàng tháng trong 6 tháng."
    },
    "qualificationTitle": {
      "ko": "🎯 선정 기준",
      "en": "🎯 Selection Criteria",
      "vi": "🎯 Tiêu chí lựa chọn"
    },
    "benefitsTitle": {
      "ko": "💰 혜택",
      "en": "💰 Benefits",
      "vi": "💰 Quyền lợi"
    },
    "monthlyBonusTitle": {
      "ko": "월 특별 보너스",
      "en": "Monthly Special Bonus",
      "vi": "Thưởng đặc biệt hàng tháng"
    },
    "totalBonusTitle": {
      "ko": "총 지급 예정액 (6개월)",
      "en": "Total Expected Payment (6 months)",
      "vi": "Tổng thanh toán dự kiến (6 tháng)"
    },
    "processTitle": {
      "ko": "📋 평가 프로세스 (6개월 주기)",
      "en": "📋 Evaluation Process (6-month cycle)",
      "vi": "📋 Quy trình đánh giá (chu kỳ 6 tháng)"
    },
    "importantTitle": {
      "ko": "⚠️ 중요 사항",
      "en": "⚠️ Important Notes",
      "vi": "⚠️ Lưu ý quan trọng"
    },
    "currentTitle": {
      "ko": "🎉 현재 Talent Pool 멤버",
      "en": "🎉 Current Talent Pool Members",
      "vi": "🎉 Thành viên Talent Pool hiện tại"
    },
    "noMembers": {
      "ko": "현재 Talent Pool 멤버가 없습니다.",
      "en": "There are currently no Talent Pool members.",
      "vi": "Hiện tại không có thành viên Talent Pool."
    }
  },
  "validationTab": {
    "title": {
      "ko": "요약 및 시스템 검증",
      "en": "Summary & System Validation",
      "vi": "Tóm tắt & Xác thực hệ thống"
    },
    "interimNotice": {
      "ko": "중간 보고서 - 최소 근무일(12일) 및 출근율(88%) 조건이 적용되지 않습니다",
      "en": "Interim Report - Minimum working days (12 days) and attendance rate (88%) conditions are not applied",
      "vi": "Báo cáo giữa kỳ - Điều kiện ngày làm việc tối thiểu (12 ngày) và tỷ lệ chấm công (88%) không được áp dụng"
    },
    "kpiCards": {
      "totalWorkingDays": {
        "title": {
          "ko": "총 근무일수",
          "en": "Total Working Days",
          "vi": "Tổng ngày làm việc"
        },
        "unit": {
          "ko": "일",
          "en": "days",
          "vi": "ngày"
        }
      },
      "absentWithoutInform": {
        "title": {
          "ko": "무단결근 3일 이상",
          "en": "Absent Without Inform ≥3 days",
          "vi": "Vắng không phép ≥3 ngày"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        }
      },
      "zeroWorkingDays": {
        "title": {
          "ko": "실제 근무일 0일",
          "en": "Actual Working Days = 0",
          "vi": "Ngày làm việc thực tế = 0"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        }
      },
      "minimumDaysNotMet": {
        "title": {
          "ko": "최소 근무일 미충족",
          "en": "Minimum Days Not Met",
          "vi": "Không đủ ngày làm tối thiểu"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        },
        "notApplicable": {
          "ko": "해당없음",
          "en": "N/A",
          "vi": "N/A"
        }
      },
      "attendanceBelow88": {
        "title": {
          "ko": "출근율 88% 미만",
          "en": "Attendance < 88%",
          "vi": "Tỷ lệ đi làm < 88%"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        }
      },
      "aqlFail": {
        "title": {
          "ko": "AQL FAIL 보유자",
          "en": "With AQL FAIL",
          "vi": "Có AQL FAIL"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        }
      },
      "consecutiveAqlFail": {
        "title": {
          "ko": "3개월 연속 AQL FAIL",
          "en": "3-Month Consecutive AQL FAIL",
          "vi": "AQL FAIL 3 tháng liên tiếp"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        }
      },
      "areaRejectRate": {
        "title": {
          "ko": "구역 AQL Reject Rate",
          "en": "Area AQL Reject Rate",
          "vi": "Tỷ lệ từ chối AQL khu vực"
        },
        "unit": {
          "ko": "%",
          "en": "%",
          "vi": "%"
        }
      },
      "lowPassRate": {
        "title": {
          "ko": "5PRS 통과율 < 95%",
          "en": "5PRS Pass Rate < 95%",
          "vi": "Tỷ lệ đạt 5PRS < 95%"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        }
      },
      "lowInspectionQty": {
        "title": {
          "ko": "5PRS 검사량 < 100족",
          "en": "5PRS Inspection < 100 pairs",
          "vi": "Kiểm tra 5PRS < 100 đôi"
        },
        "unit": {
          "ko": "명",
          "en": "people",
          "vi": "người"
        }
      }
    },
    "tableHeaders": {
      "employeeNo": {
        "ko": "사번",
        "en": "Employee No",
        "vi": "Mã nhân viên"
      },
      "name": {
        "ko": "이름",
        "en": "Name",
        "vi": "Tên"
      },
      "position": {
        "ko": "직급",
        "en": "Position",
        "vi": "Chức vụ"
      },
      "type": {
        "ko": "타입",
        "en": "Type",
        "vi": "Loại"
      },
      "totalDays": {
        "ko": "총 근무일",
        "en": "Total Days",
        "vi": "Tổng ngày"
      },
      "actualDays": {
        "ko": "실제 근무일",
        "en": "Actual Days",
        "vi": "Ngày thực tế"
      },
      "ar1Days": {
        "ko": "무단결근일",
        "en": "AR1 Days",
        "vi": "Ngày vắng không phép"
      },
      "conditionStatus": {
        "ko": "조건 상태",
        "en": "Status",
        "vi": "Trạng thái"
      },
      "aqlTotal": {
        "ko": "총 AQL",
        "en": "Total AQL",
        "vi": "Tổng AQL"
      },
      "aqlPass": {
        "ko": "PASS",
        "en": "PASS",
        "vi": "ĐẠT"
      },
      "aqlFail": {
        "ko": "FAIL",
        "en": "FAIL",
        "vi": "KHÔNG ĐẠT"
      },
      "area": {
        "ko": "구역",
        "en": "Area",
        "vi": "Khu vực"
      },
      "rejectRate": {
        "ko": "Reject %",
        "en": "Reject %",
        "vi": "Tỷ lệ từ chối %"
      },
      "supervisor": {
        "ko": "상사",
        "en": "Supervisor",
        "vi": "Giám sát"
      },
      "auditor": {
        "ko": "감사관",
        "en": "Auditor",
        "vi": "Kiểm toán viên"
      },
      "inspectionQty": {
        "ko": "검사량",
        "en": "Inspection Qty",
        "vi": "Số lượng kiểm tra"
      },
      "passRate": {
        "ko": "통과율",
        "en": "Pass Rate",
        "vi": "Tỷ lệ đạt"
      },
      "minimumRequired": {
        "ko": "최소 요구일",
        "en": "Minimum Required",
        "vi": "Yêu cầu tối thiểu"
      },
      "aqlFailures": {
        "ko": "AQL 실패 횟수",
        "en": "AQL Failures",
        "vi": "Số lần thất bại AQL"
      },
      "continuousFail": {
        "ko": "연속 실패",
        "en": "Continuous Fail",
        "vi": "Thất bại liên tục"
      },
      "searchPlaceholder": {
        "ko": "검색...",
        "en": "Search...",
        "vi": "Tìm kiếm..."
      },
      "close": {
        "ko": "닫기",
        "en": "Close",
        "vi": "Đóng"
      },
      "empNo": {
        "ko": "사번",
        "en": "Emp No.",
        "vi": "Mã NV"
      },
      "absentDays": {
        "ko": "무단결근",
        "en": "Absent Days",
        "vi": "Ngày vắng"
      },
      "daysUnit": {
        "ko": "(일)",
        "en": "(Days)",
        "vi": "(Ngày)"
      },
      "status": {
        "ko": "상태",
        "en": "Status",
        "vi": "Trạng thái"
      }
    },
    "modalTitles": {
      "totalWorkingDays": {
        "ko": "총 근무일수 상세",
        "en": "Total Working Days Details",
        "vi": "Chi tiết tổng ngày làm việc"
      },
      "absentWithoutInform": {
        "ko": "무단결근 상세",
        "en": "Absent Without Inform Details",
        "vi": "Chi tiết vắng không phép"
      },
      "zeroWorkingDays": {
        "ko": "실제 근무일 0일 상세",
        "en": "Zero Working Days Details",
        "vi": "Chi tiết ngày làm việc bằng 0"
      },
      "minimumDaysNotMet": {
        "ko": "최소 근무일 미충족 상세",
        "en": "Minimum Days Not Met Details",
        "vi": "Chi tiết không đủ ngày tối thiểu"
      },
      "attendanceBelow88": {
        "ko": "출근율 88% 미만 상세",
        "en": "Attendance Below 88% Details",
        "vi": "Chi tiết tỷ lệ đi làm dưới 88%"
      },
      "aqlFail": {
        "ko": "AQL FAIL 상세",
        "en": "AQL FAIL Details",
        "vi": "Chi tiết AQL FAIL"
      },
      "consecutiveAqlFail": {
        "ko": "3개월 연속 AQL FAIL 상세",
        "en": "3-Month Consecutive AQL FAIL Details",
        "vi": "Chi tiết AQL FAIL 3 tháng liên tiếp"
      },
      "areaRejectRate": {
        "ko": "구역별 AQL Reject Rate 상세",
        "en": "Area AQL Reject Rate Details",
        "vi": "Chi tiết tỷ lệ từ chối AQL theo khu vực"
      },
      "lowPassRate": {
        "ko": "5PRS 통과율 미달 상세",
        "en": "Low 5PRS Pass Rate Details",
        "vi": "Chi tiết tỷ lệ đạt 5PRS thấp"
      },
      "lowInspectionQty": {
        "ko": "5PRS 검사량 미달 상세",
        "en": "Low 5PRS Inspection Quantity Details",
        "vi": "Chi tiết số lượng kiểm tra 5PRS thấp"
      }
    },
    "stats": {
      "total": {
        "ko": "전체",
        "en": "Total",
        "vi": "Tổng cộng"
      },
      "caution": {
        "ko": "주의",
        "en": "Caution",
        "vi": "Chú ý"
      },
      "warning": {
        "ko": "경고",
        "en": "Warning",
        "vi": "Cảnh báo"
      },
      "excluded": {
        "ko": "제외",
        "en": "Excluded",
        "vi": "Loại trừ"
      }
    },
    "status": {
      "excluded": {
        "ko": "제외",
        "en": "Excluded",
        "vi": "Loại trừ"
      },
      "warning": {
        "ko": "경고",
        "en": "Warning",
        "vi": "Cảnh báo"
      },
      "caution": {
        "ko": "주의",
        "en": "Caution",
        "vi": "Chú ý"
      },
      "exceeded": {
        "ko": "초과",
        "en": "Exceeded",
        "vi": "Vượt quá"
      }
    },
    "modals": {
      "absentWithoutInform": {
        "title": {
          "ko": "무단결근 직원 상세",
          "en": "Absent Employee Details",
          "vi": "Chi tiết nhân viên vắng mặt"
        }
      },
      "minimumDaysNotMet": {
        "title": {
          "ko": "최소 근무일 미충족 직원 상세",
          "en": "Minimum Days Not Met Employee Details",
          "vi": "Chi tiết nhân viên không đủ ngày làm tối thiểu"
        },
        "alertMessage": {
          "ko": "최소 요구 근무일:",
          "en": "Minimum Required Working Days:",
          "vi": "Ngày làm việc tối thiểu yêu cầu:"
        },
        "excludeNote": {
          "ko": "(TYPE-3는 인센티브 대상에서 제외됩니다)",
          "en": "(TYPE-3 employees are excluded from incentive calculation)",
          "vi": "(Nhân viên TYPE-3 được loại trừ khỏi tính toán khuyến khích)"
        },
        "headers": {
          "empNo": {
            "ko": "사번",
            "en": "Emp No.",
            "vi": "Mã NV"
          },
          "name": {
            "ko": "이름",
            "en": "Name",
            "vi": "Họ tên"
          },
          "position": {
            "ko": "직책",
            "en": "Position",
            "vi": "Chức vụ"
          },
          "type": {
            "ko": "유형",
            "en": "Type",
            "vi": "Loại"
          },
          "actualDays": {
            "ko": "실제 근무일",
            "en": "Actual Working Days",
            "vi": "Ngày làm việc thực tế"
          },
          "minimumRequired": {
            "ko": "최소 요구",
            "en": "Minimum Required",
            "vi": "Tối thiểu yêu cầu"
          },
          "shortage": {
            "ko": "부족",
            "en": "Shortage",
            "vi": "Thiếu"
          },
          "status": {
            "ko": "상태",
            "en": "Status",
            "vi": "Trạng thái"
          }
        },
        "statusLabels": {
          "met": {
            "ko": "충족",
            "en": "Met",
            "vi": "Đạt"
          },
          "notMet": {
            "ko": "미충족",
            "en": "Not Met",
            "vi": "Chưa đạt"
          }
        },
        "emptyMessage": {
          "ko": "모든 직원이 최소 근무일을 충족했습니다",
          "en": "All employees met the minimum working days requirement",
          "vi": "Tất cả nhân viên đã đáp ứng yêu cầu ngày làm việc tối thiểu"
        },
        "interimMessage": {
          "ko": "중간 보고서 - 최소 근무일(12일) 및 출근율(88%) 조건이 적용되지 않습니다",
          "en": "Interim Report - Minimum working days (12 days) and attendance rate (88%) conditions are not applied",
          "vi": "Báo cáo giữa kỳ - Điều kiện ngày làm việc tối thiểu (12 ngày) và tỷ lệ chấm công (88%) không được áp dụng"
        }
      },
      "attendanceBelow88": {
        "title": {
          "ko": "출근율 88% 미만 직원 상세",
          "en": "Attendance < 88% Employee Details",
          "vi": "Chi tiết nhân viên có tỷ lệ chuyên cần < 88%"
        },
        "alertMessage": {
          "ko": "출근율 88% 미만인 직원은 인센티브 지급이 제한될 수 있습니다",
          "en": "Employees with attendance rate below 88% may have incentive restrictions",
          "vi": "Nhân viên có tỷ lệ chuyên cần dưới 88% có thể bị hạn chế khuyến khích"
        },
        "excludeNote": {
          "ko": "(TYPE-3는 인센티브 대상에서 제외됩니다)",
          "en": "(TYPE-3 employees are excluded from incentive calculation)",
          "vi": "(Nhân viên TYPE-3 được loại trừ khỏi tính toán khuyến khích)"
        },
        "headers": {
          "empNo": {
            "ko": "사번",
            "en": "Emp No.",
            "vi": "Mã NV"
          },
          "name": {
            "ko": "이름",
            "en": "Name",
            "vi": "Họ tên"
          },
          "position": {
            "ko": "직책",
            "en": "Position",
            "vi": "Chức vụ"
          },
          "type": {
            "ko": "유형",
            "en": "Type",
            "vi": "Loại"
          },
          "attendanceRate": {
            "ko": "출근율",
            "en": "Attendance Rate",
            "vi": "Tỷ lệ chuyên cần"
          },
          "actualDays": {
            "ko": "실제 근무일",
            "en": "Actual Working Days",
            "vi": "Ngày làm việc thực tế"
          },
          "totalDays": {
            "ko": "총 근무일",
            "en": "Total Working Days",
            "vi": "Tổng số ngày làm việc"
          },
          "conditionMet": {
            "ko": "조건 충족",
            "en": "Condition Met",
            "vi": "Đáp ứng điều kiện"
          }
        },
        "statusLabels": {
          "met": {
            "ko": "충족",
            "en": "Met",
            "vi": "Đạt"
          },
          "notMet": {
            "ko": "미충족",
            "en": "Not Met",
            "vi": "Chưa đạt"
          }
        },
        "emptyMessage": {
          "ko": "모든 직원이 출근율 88% 이상을 달성했습니다",
          "en": "All employees achieved attendance rate of 88% or higher",
          "vi": "Tất cả nhân viên đạt tỷ lệ chuyên cần từ 88% trở lên"
        },
        "interimMessage": {
          "ko": "중간 보고서 - 최소 근무일(12일) 및 출근율(88%) 조건이 적용되지 않습니다",
          "en": "Interim Report - Minimum working days (12 days) and attendance rate (88%) conditions are not applied",
          "vi": "Báo cáo giữa kỳ - Điều kiện ngày làm việc tối thiểu (12 ngày) và tỷ lệ chấm công (88%) không được áp dụng"
        },
        "earlyResignBadge": {
          "ko": "조기퇴사",
          "en": "Early Resign",
          "vi": "Nghỉ sớm"
        },
        "resignationDate": {
          "ko": "퇴사일",
          "en": "Resignation Date",
          "vi": "Ngày nghỉ"
        }
      },
      "aqlFail": {
        "title": {
          "ko": "AQL FAIL 보유자 상세",
          "en": "AQL FAIL Details",
          "vi": "Chi tiết AQL FAIL"
        },
        "alertMessage": {
          "ko": "AQL (Acceptable Quality Level) FAIL은 품질 검사에서 불합격을 받은 경우를 의미합니다.",
          "en": "AQL (Acceptable Quality Level) FAIL indicates quality inspection failures.",
          "vi": "AQL (Acceptable Quality Level) FAIL cho thấy các trường hợp không đạt kiểm tra chất lượng."
        },
        "totalCount": {
          "ko": "총 {{count}}명의 직원이 {{month}}에 AQL FAIL을 기록했습니다.",
          "en": "Total {{count}} employees recorded AQL FAIL in {{month}}.",
          "vi": "Tổng cộng {{count}} nhân viên ghi nhận AQL FAIL trong {{month}}."
        },
        "headers": {
          "empNo": {
            "ko": "사번",
            "en": "Emp No.",
            "vi": "Mã NV"
          },
          "name": {
            "ko": "이름",
            "en": "Name",
            "vi": "Họ tên"
          },
          "supervisor": {
            "ko": "직속 상사",
            "en": "Direct Supervisor",
            "vi": "Quản lý trực tiếp"
          },
          "inspectorId": {
            "ko": "직속 상사 ID ↕",
            "en": "Supervisor ID ↕",
            "vi": "Mã quản lý ↕"
          },
          "aqlPass": {
            "ko": "AQL PASS ↕",
            "en": "AQL PASS ↕",
            "vi": "AQL ĐẠT ↕"
          },
          "aqlFail": {
            "ko": "AQL FAIL ↕",
            "en": "AQL FAIL ↕",
            "vi": "AQL THẤT BẠI ↕"
          },
          "failPercent": {
            "ko": "FAIL % ▼",
            "en": "FAIL % ▼",
            "vi": "TỈ LỆ THẤT BẠI % ▼"
          }
        },
        "lineLeaderSummary": {
          "title": {
            "ko": "라인리더별 AQL 집계",
            "en": "AQL Summary by Line Leader",
            "vi": "Tổng hợp AQL theo Line Leader"
          },
          "description": {
            "ko": "각 라인리더의 직속 부하직원 AQL 통계",
            "en": "AQL statistics for direct reports of each Line Leader",
            "vi": "Thống kê AQL cho nhân viên trực thuộc của mỗi Line Leader"
          },
          "headers": {
            "leaderName": {
              "ko": "라인리더 이름",
              "en": "Line Leader Name",
              "vi": "Tên Line Leader"
            },
            "leaderSupervisor": {
              "ko": "라인리더 상사",
              "en": "Leader's Supervisor",
              "vi": "Quản lý của Line Leader"
            },
            "subordinatePass": {
              "ko": "부하 AQL PASS",
              "en": "Subordinate AQL PASS",
              "vi": "AQL ĐẠT của nhân viên"
            },
            "subordinateFail": {
              "ko": "부하 AQL FAIL",
              "en": "Subordinate AQL FAIL",
              "vi": "AQL THẤT BẠI của nhân viên"
            },
            "failPercent": {
              "ko": "FAIL % ▼",
              "en": "FAIL % ▼",
              "vi": "TỈ LỆ THẤT BẠI % ▼"
            }
          }
        },
        "consecutiveAqlFail": {
          "title": {
            "ko": "3개월 연속 AQL FAIL 현황",
            "en": "3-Month Consecutive AQL FAIL Status",
            "vi": "Tình trạng AQL FAIL liên tiếp 3 tháng"
          },
          "threeMonthSection": {
            "ko": "3개월 연속 AQL 실패",
            "en": "3-Month Consecutive AQL Failures",
            "vi": "Thất bại AQL liên tiếp 3 tháng"
          },
          "twoMonthSection": {
            "ko": "2개월 연속 AQL 실패 - 주의 관찰 대상",
            "en": "2-Month Consecutive AQL Failures - Under Observation",
            "vi": "Thất bại AQL liên tiếp 2 tháng - Theo dõi cẩn thận"
          },
          "noThreeMonth": {
            "ko": "현재 3개월 연속 실패자가 없습니다.",
            "en": "Currently no 3-month consecutive failures.",
            "vi": "Hiện tại không có người thất bại liên tiếp 3 tháng."
          },
          "noTwoMonth": {
            "ko": "현재 2개월 연속 실패자가 없습니다.",
            "en": "Currently no 2-month consecutive failures.",
            "vi": "Hiện tại không có người thất bại liên tiếp 2 tháng."
          },
          "headers": {
            "empNo": {
              "ko": "직원번호",
              "en": "Employee No.",
              "vi": "Mã nhân viên"
            },
            "name": {
              "ko": "이름",
              "en": "Name",
              "vi": "Họ tên"
            },
            "position": {
              "ko": "직책",
              "en": "Position",
              "vi": "Chức vụ"
            },
            "supervisor": {
              "ko": "직속상사",
              "en": "Direct Supervisor",
              "vi": "Quản lý trực tiếp"
            },
            "failPattern": {
              "ko": "실패 패턴",
              "en": "Failure Pattern",
              "vi": "Mô hình thất bại"
            },
            "risk": {
              "ko": "위험도",
              "en": "Risk Level",
              "vi": "Mức độ rủi ro"
            }
          },
          "riskLevels": {
            "high": {
              "ko": "높음",
              "en": "High",
              "vi": "Cao"
            },
            "medium": {
              "ko": "보통",
              "en": "Medium",
              "vi": "Trung bình"
            }
          },
          "riskExplanation": {
            "title": {
              "ko": "위험도 설명:",
              "en": "Risk Level Explanation:",
              "vi": "Giải thích mức độ rủi ro:"
            },
            "highDesc": {
              "ko": "10월에 실패 시 3개월 연속 실패가 됩니다. 즉시 조치 필요!",
              "en": "Will become 3-month consecutive if fails in October. Immediate action required!",
              "vi": "Sẽ trở thành 3 tháng liên tiếp nếu thất bại vào tháng 10. Cần hành động ngay!"
            },
            "mediumDesc": {
              "ko": "9월에 회복했지만 지속적인 모니터링이 필요합니다.",
              "en": "Recovered in September but continuous monitoring required.",
              "vi": "Đã phục hồi vào tháng 9 nhưng cần theo dõi liên tục."
            }
          },
          "summary": {
            "title": {
              "ko": "요약:",
              "en": "Summary:",
              "vi": "Tóm tắt:"
            },
            "threeMonthFails": {
              "ko": "3개월 연속 실패:",
              "en": "3-Month Consecutive Failures:",
              "vi": "Thất bại liên tiếp 3 tháng:"
            },
            "twoMonthFails": {
              "ko": "2개월 연속 실패:",
              "en": "2-Month Consecutive Failures:",
              "vi": "Thất bại liên tiếp 2 tháng:"
            },
            "highRisk": {
              "ko": "8-9월 연속 (높은 위험):",
              "en": "Aug-Sep Consecutive (High Risk):",
              "vi": "Liên tiếp tháng 8-9 (Rủi ro cao):"
            },
            "monitoring": {
              "ko": "7-8월 연속 (모니터링):",
              "en": "Jul-Aug Consecutive (Monitoring):",
              "vi": "Liên tiếp tháng 7-8 (Theo dõi):"
            },
            "consecutiveFailure": {
              "ko": " 연속 실패: ",
              "en": " consecutive failures: ",
              "vi": " thất bại liên tiếp: "
            },
            "people": {
              "ko": "명",
              "en": " people",
              "vi": " người"
            }
          }
        }
      },
      "lowInspectionQty": {
        "title": {
          "ko": "5PRS 검사량 100족 미만 상세",
          "en": "5PRS Inspection Quantity Below 100 Pairs Details",
          "vi": "Chi tiết số lượng kiểm tra 5PRS dưới 100 đôi"
        },
        "alert": {
          "ko": "<strong>조건 설명:</strong> TYPE-1 ASSEMBLY INSPECTOR의 5PRS 검사량이 100족 미만인 경우 인센티브를 받을 수 없습니다.",
          "en": "<strong>Condition Description:</strong> TYPE-1 ASSEMBLY INSPECTOR cannot receive incentive if 5PRS inspection quantity is below 100 pairs.",
          "vi": "<strong>Mô tả điều kiện:</strong> TYPE-1 ASSEMBLY INSPECTOR không thể nhận khuyến khích nếu số lượng kiểm tra 5PRS dưới 100 đôi."
        },
        "count": {
          "ko": "총 {count}명이 5PRS 검사량 100족 미만입니다.",
          "en": "Total {count} employees have 5PRS inspection quantity below 100 pairs.",
          "vi": "Tổng số {count} nhân viên có số lượng kiểm tra 5PRS dưới 100 đôi."
        },
        "headers": {
          "empNo": {
            "ko": "사번",
            "en": "Emp No.",
            "vi": "Mã nhân viên"
          },
          "name": {
            "ko": "이름",
            "en": "Name",
            "vi": "Họ tên"
          },
          "position": {
            "ko": "직책",
            "en": "Position",
            "vi": "Chức vụ"
          },
          "type": {
            "ko": "type",
            "en": "type",
            "vi": "type"
          },
          "inspectionQty": {
            "ko": "검사량",
            "en": "Inspection Qty",
            "vi": "Số lượng kiểm tra"
          },
          "conditionMet": {
            "ko": "조건 충족",
            "en": "Condition Met",
            "vi": "Đáp ứng điều kiện"
          }
        }
      }
    },
    "warnings": {
      "absentExclusion": {
        "ko": "무단결근 3일 이상 시 자동으로 인센티브 지급 제외",
        "en": "Incentive automatically excluded for 3+ days absent without inform",
        "vi": "Tự động loại trừ khuyến khích nếu vắng không phép từ 3 ngày trở lên"
      }
    },
    "units": {
      "day": {
        "ko": "일",
        "en": " day",
        "vi": " ngày"
      },
      "days": {
        "ko": "일",
        "en": " days",
        "vi": " ngày"
      }
    }
  },
  "management": {
    "title": {
      "ko": "QIP 관리 대시보드",
      "en": "QIP Management Dashboard",
      "vi": "Bảng điều khiển quản lý QIP"
    },
    "tabs": {
      "issues": {
        "ko": "🚨 이슈 트래킹",
        "en": "🚨 Issue Tracking",
        "vi": "🚨 Theo dõi vấn đề"
      },
      "organization": {
        "ko": "🏢 조직도",
        "en": "🏢 Organization",
        "vi": "🏢 Tổ chức"
      },
      "hr": {
        "ko": "👥 HR 분석",
        "en": "👥 HR Analytics",
        "vi": "👥 Phân tích nhân sự"
      },
      "performance": {
        "ko": "📈 성과 분석",
        "en": "📈 Performance",
        "vi": "📈 Hiệu suất"
      },
      "predictions": {
        "ko": "🔮 예측 분석",
        "en": "🔮 Predictions",
        "vi": "🔮 Dự báo"
      }
    },
    "stats": {
      "total": {
        "ko": "전체",
        "en": "Total",
        "vi": "Tổng cộng"
      },
      "caution": {
        "ko": "주의",
        "en": "Caution",
        "vi": "Chú ý"
      },
      "warning": {
        "ko": "경고",
        "en": "Warning",
        "vi": "Cảnh báo"
      },
      "excluded": {
        "ko": "제외",
        "en": "Excluded",
        "vi": "Loại trừ"
      }
    },
    "consecutive_failures": {
      "title": {
        "ko": "3개월 연속 인센티브 미수령자",
        "en": "3-Month Consecutive Incentive Non-Recipients",
        "vi": "Không nhận thưởng khuyến khích 3 tháng liên tiếp"
      },
      "no_data": {
        "ko": "연속 실패자가 없습니다.",
        "en": "No consecutive failures.",
        "vi": "Không có thất bại liên tiếp."
      }
    },
    "attendance_issues": {
      "title": {
        "ko": "출근율 이슈 (90% 미만)",
        "en": "Attendance Issues (Below 90%)",
        "vi": "Vấn đề chuyên cần (Dưới 90%)"
      },
      "no_data": {
        "ko": "출근율 이슈가 없습니다.",
        "en": "No attendance issues.",
        "vi": "Không có vấn đề chuyên cần."
      }
    },
    "org_structure": {
      "title": {
        "ko": "조직 구조",
        "en": "Organization Structure",
        "vi": "Cơ cấu tổ chức"
      },
      "managers": {
        "ko": "매니저",
        "en": "Managers",
        "vi": "Quản lý"
      },
      "supervisors": {
        "ko": "슈퍼바이저",
        "en": "Supervisors",
        "vi": "Giám sát"
      },
      "group_leaders": {
        "ko": "그룹 리더",
        "en": "Group Leaders",
        "vi": "Trưởng nhóm"
      },
      "line_leaders": {
        "ko": "라인 리더",
        "en": "Line Leaders",
        "vi": "Trưởng dây chuyền"
      },
      "workers": {
        "ko": "작업자",
        "en": "Workers",
        "vi": "Công nhân"
      }
    },
    "hr_changes": {
      "title": {
        "ko": "인력 변동 현황",
        "en": "HR Changes Status",
        "vi": "Tình trạng thay đổi nhân sự"
      },
      "new_hires": {
        "ko": "최근 입사자",
        "en": "Recent Hires",
        "vi": "Nhân viên mới gần đây"
      },
      "resignations": {
        "ko": "최근 퇴사자",
        "en": "Recent Resignations",
        "vi": "Nhân viên nghỉ việc gần đây"
      },
      "type_changes": {
        "ko": "TYPE 전환 현황",
        "en": "TYPE Change Status",
        "vi": "Tình trạng chuyển đổi TYPE"
      }
    },
    "performance_metrics": {
      "prs_title": {
        "ko": "5PRS 실적",
        "en": "5PRS Performance",
        "vi": "Hiệu suất 5PRS"
      },
      "aql_title": {
        "ko": "AQL 달성률",
        "en": "AQL Achievement Rate",
        "vi": "Tỷ lệ đạt AQL"
      },
      "trainer_effectiveness": {
        "ko": "Auditor/Trainer 효과성",
        "en": "Auditor/Trainer Effectiveness",
        "vi": "Hiệu quả Kiểm toán/Đào tạo"
      }
    },
    "predictions": {
      "title": {
        "ko": "다음 달 예측",
        "en": "Next Month Predictions",
        "vi": "Dự báo tháng tới"
      },
      "high_risk": {
        "ko": "위험군 예측",
        "en": "High Risk Predictions",
        "vi": "Dự báo rủi ro cao"
      },
      "improvement": {
        "ko": "개선 예상",
        "en": "Expected Improvements",
        "vi": "Cải thiện dự kiến"
      }
    },
    "tab_overview": {
      "ko": "개요",
      "en": "Overview",
      "vi": "Tổng quan"
    },
    "tab_attendance": {
      "ko": "출결",
      "en": "Attendance",
      "vi": "Chấm công"
    },
    "attendance_overview": {
      "ko": "출결 현황",
      "en": "Attendance Overview",
      "vi": "Tổng quan chấm công"
    },
    "tableHeaders": {
      "empNo": {
        "ko": "사번",
        "en": "Emp No.",
        "vi": "Mã NV"
      },
      "employeeNo": {
        "ko": "사번",
        "en": "Employee No.",
        "vi": "Mã nhân viên"
      },
      "name": {
        "ko": "성명",
        "en": "Name",
        "vi": "Tên"
      },
      "position": {
        "ko": "직위",
        "en": "Position",
        "vi": "Chức vụ"
      },
      "type": {
        "ko": "TYPE",
        "en": "TYPE",
        "vi": "LOẠI"
      },
      "absentDays": {
        "ko": "무단결근",
        "en": "Absent Days",
        "vi": "Ngày vắng"
      },
      "actualDays": {
        "ko": "실제 근무일",
        "en": "Actual Days",
        "vi": "Ngày làm thực tế"
      },
      "totalDays": {
        "ko": "총 근무일",
        "en": "Total Days",
        "vi": "Tổng ngày làm"
      },
      "minimumRequired": {
        "ko": "최소 필요",
        "en": "Minimum Required",
        "vi": "Tối thiểu cần"
      },
      "ar1Days": {
        "ko": "출근율",
        "en": "Attendance Rate",
        "vi": "Tỷ lệ chấm công"
      },
      "aqlFailures": {
        "ko": "AQL 실패 횟수",
        "en": "AQL Failures",
        "vi": "Số lần AQL thất bại"
      },
      "area": {
        "ko": "지역",
        "en": "Area",
        "vi": "Khu vực"
      },
      "rejectRate": {
        "ko": "불합격률",
        "en": "Reject Rate",
        "vi": "Tỷ lệ loại bỏ"
      },
      "passRate": {
        "ko": "합격률",
        "en": "Pass Rate",
        "vi": "Tỷ lệ đạt"
      },
      "inspectionQty": {
        "ko": "검사 수량",
        "en": "Inspection Qty",
        "vi": "Số lượng kiểm tra"
      },
      "conditionStatus": {
        "ko": "조건 상태",
        "en": "Condition Status",
        "vi": "Trạng thái điều kiện"
      },
      "daysUnit": {
        "ko": "(일)",
        "en": "(Days)",
        "vi": "(Ngày)"
      },
      "status": {
        "ko": "상태",
        "en": "Status",
        "vi": "Trạng thái"
      },
      "searchPlaceholder": {
        "ko": "검색...",
        "en": "Search...",
        "vi": "Tìm kiếm..."
      },
      "close": {
        "ko": "닫기",
        "en": "Close",
        "vi": "Đóng"
      }
    },
    "modalTitles": {
      "absentWithoutInform": {
        "ko": "무단결근 현황",
        "en": "Unapproved Absence Status",
        "vi": "Tình trạng nghỉ không phép"
      },
      "zeroWorkingDays": {
        "ko": "실제 근무일 0일 직원 상세",
        "en": "Zero Working Days Details",
        "vi": "Chi tiết nhân viên 0 ngày làm"
      },
      "minimumDaysNotMet": {
        "ko": "최소 근무일 미충족 직원 상세",
        "en": "Minimum Days Not Met Details",
        "vi": "Chi tiết không đủ ngày tối thiểu"
      },
      "totalWorkingDays": {
        "ko": "총 근무일수 상세",
        "en": "Total Working Days Details",
        "vi": "Chi tiết tổng ngày làm"
      },
      "aqlFail": {
        "ko": "AQL FAIL 보유 직원 상세",
        "en": "AQL Fail Details",
        "vi": "Chi tiết nhân viên AQL thất bại"
      },
      "consecutiveAqlFail": {
        "ko": "3개월 연속 AQL FAIL 직원 상세",
        "en": "3-Month Consecutive AQL Fail Details",
        "vi": "Chi tiết AQL thất bại 3 tháng liên tiếp"
      },
      "areaRejectRate": {
        "ko": "지역별 불합격률 상세",
        "en": "Area Reject Rate Details",
        "vi": "Chi tiết tỷ lệ loại bỏ theo khu vực"
      },
      "lowPassRate": {
        "ko": "낮은 합격률 직원 상세",
        "en": "Low Pass Rate Details",
        "vi": "Chi tiết tỷ lệ đạt thấp"
      },
      "lowInspectionQty": {
        "ko": "낮은 검사 수량 직원 상세",
        "en": "Low Inspection Quantity Details",
        "vi": "Chi tiết số lượng kiểm tra thấp"
      }
    },
    "status": {
      "excluded": {
        "ko": "제외",
        "en": "Excluded",
        "vi": "Loại trừ"
      },
      "warning": {
        "ko": "경고",
        "en": "Warning",
        "vi": "Cảnh báo"
      },
      "caution": {
        "ko": "주의",
        "en": "Caution",
        "vi": "Chú ý"
      },
      "exceeded": {
        "ko": "초과",
        "en": "Exceeded",
        "vi": "Vượt quá"
      }
    },
    "warnings": {
      "absentExclusion": {
        "ko": "무단결근 3일 이상 시 자동으로 인센티브 지급 제외",
        "en": "Incentive automatically excluded for 3+ days absent without inform",
        "vi": "Tự động loại trừ khuyến khích nếu vắng không phép từ 3 ngày trở lên"
      }
    },
    "units": {
      "day": {
        "ko": "일",
        "en": " day",
        "vi": " ngày"
      },
      "days": {
        "ko": "일",
        "en": " days",
        "vi": " ngày"
      }
    }
  },
  "validationKpi": {
    "totalWorkingDays": {
      "ko": "총 근무일수",
      "en": "Total Working Days",
      "vi": "Tổng số ngày làm việc"
    },
    "absentWithoutInform": {
      "ko": "무단결근 ≥3일",
      "en": "Unapproved Absences ≥3 days",
      "vi": "Nghỉ không phép ≥3 ngày"
    },
    "absentWithoutInformSubtitle": {
      "ko": "인센티브 자동 제외",
      "en": "Auto-excluded from incentive",
      "vi": "Tự động loại trừ khuyến khích"
    },
    "absentWithoutInformTooltip": {
      "ko": "정당한 사유 없이 3일 이상 결근한 직원 (출산휴가 등 정당한 사유 제외)",
      "en": "Employees absent ≥3 days without legitimate reasons (excludes maternity leave, etc.)",
      "vi": "Nhân viên nghỉ ≥3 ngày không có lý do chính đáng (loại trừ nghỉ thai sản, v.v.)"
    },
    "zeroWorkingDays": {
      "ko": "실제 근무일 0일",
      "en": "Actual Working Days = 0",
      "vi": "Ngày làm việc thực tế = 0"
    },
    "zeroWorkingDaysSubtitle": {
      "ko": "정당한 사유 포함",
      "en": "Includes legitimate reasons",
      "vi": "Bao gồm lý do chính đáng"
    },
    "zeroWorkingDaysTooltip": {
      "ko": "한 번도 출근하지 않은 직원 전체 (출산휴가, 퇴사 등 정당한 사유 포함)",
      "en": "All employees with no attendance (includes maternity leave, resignation, etc.)",
      "vi": "Tất cả nhân viên không có chấm công (bao gồm nghỉ thai sản, nghỉ việc, v.v.)"
    },
    "minimumDaysNotMet": {
      "ko": "최소 근무일 미충족",
      "en": "Minimum Days Not Met",
      "vi": "Không đạt ngày tối thiểu"
    },
    "attendanceBelow88": {
      "ko": "출근율 88% 미만",
      "en": "Attendance < 88%",
      "vi": "Chấm công < 88%"
    },
    "attendanceBelow88Subtitle": {
      "ko": "정당한 사유 제외",
      "en": "Excludes legitimate reasons",
      "vi": "Loại trừ lý do chính đáng"
    },
    "attendanceBelow88Tooltip": {
      "ko": "정당한 사유 없이 결근이 많아 출근율이 88% 미만인 직원 (출산휴가는 출근으로 인정)",
      "en": "Employees with attendance <88% without legitimate reasons (maternity leave counted as attendance)",
      "vi": "Nhân viên có tỷ lệ chấm công <88% không có lý do chính đáng (nghỉ thai sản được tính là chấm công)"
    },
    "aqlFail": {
      "ko": "AQL FAIL 보유자",
      "en": "AQL FAIL Holders",
      "vi": "Người có AQL FAIL"
    },
    "consecutiveAqlFail": {
      "ko": "3개월 연속 AQL FAIL",
      "en": "3 Months Consecutive AQL FAIL",
      "vi": "3 tháng liên tiếp AQL FAIL"
    },
    "areaRejectRate": {
      "ko": "구역 AQL Reject ≥3%",
      "en": "Area AQL Reject ≥3%",
      "vi": "Khu vực AQL từ chối ≥3%"
    },
    "lowPassRate": {
      "ko": "5PRS Pass Rate < 95%",
      "en": "5PRS Pass Rate < 95%",
      "vi": "Tỷ lệ đạt 5PRS < 95%"
    },
    "lowInspectionQty": {
      "ko": "5PRS 검사량 < 100족",
      "en": "5PRS Inspection < 100 pairs",
      "vi": "Kiểm tra 5PRS < 100 đôi"
    }
  },
  "workingDaysModal": {
    "title": {
      "ko": "근무일 현황",
      "en": "Working Days Status",
      "vi": "Tình trạng ngày làm việc"
    },
    "totalWorkingDays": {
      "ko": "총 근무일 (실제)",
      "en": "Total Working Days (Actual)",
      "vi": "Tổng ngày làm việc (Thực tế)"
    },
    "totalDays": {
      "ko": "총 일수",
      "en": "Total Days",
      "vi": "Tổng số ngày"
    },
    "noData": {
      "ko": "데이터 없음",
      "en": "No Data",
      "vi": "Không có dữ liệu"
    },
    "workDay": {
      "ko": "근무일",
      "en": "Work Day",
      "vi": "Ngày làm việc"
    },
    "dayLabel": {
      "ko": "일",
      "en": "days",
      "vi": "ngày"
    },
    "employeeCount": {
      "ko": "명",
      "en": "people",
      "vi": "người"
    },
    "weekdays": {
      "ko": [
        "일",
        "월",
        "화",
        "수",
        "목",
        "금",
        "토"
      ],
      "en": [
        "Sun",
        "Mon",
        "Tue",
        "Wed",
        "Thu",
        "Fri",
        "Sat"
      ],
      "vi": [
        "CN",
        "T2",
        "T3",
        "T4",
        "T5",
        "T6",
        "T7"
      ]
    },
    "weekdaySuffix": {
      "ko": "요일",
      "en": "",
      "vi": ""
    },
    "legendWorkDay": {
      "ko": "근무일 (출근 데이터 있음)",
      "en": "Work Day (Attendance Data Available)",
      "vi": "Ngày làm việc (Có dữ liệu chấm công)"
    },
    "legendNoData": {
      "ko": "데이터 없음",
      "en": "No Data",
      "vi": "Không có dữ liệu"
    }
  },
  "zeroWorkingDaysModal": {
    "title": {
      "ko": "0일 근무자 상세",
      "en": "Zero Working Days Details",
      "vi": "Chi tiết nhân viên làm 0 ngày"
    },
    "description": {
      "ko": "실제 근무일이 0일인 직원 목록입니다.",
      "en": "List of employees with zero actual working days.",
      "vi": "Danh sách nhân viên có số ngày làm việc thực tế bằng 0."
    },
    "headers": {
      "empNo": {
        "ko": "사번",
        "en": "Emp No.",
        "vi": "Mã NV"
      },
      "name": {
        "ko": "이름",
        "en": "Name",
        "vi": "Tên"
      },
      "position": {
        "ko": "직책",
        "en": "Position",
        "vi": "Chức vụ"
      },
      "totalDays": {
        "ko": "총 근무일",
        "en": "Total Days",
        "vi": "Tổng ngày"
      },
      "actualDays": {
        "ko": "실 근무일",
        "en": "Actual Days",
        "vi": "Ngày thực tế"
      },
      "status": {
        "ko": "상태",
        "en": "Status",
        "vi": "Trạng thái"
      },
      "stopDate": {
        "ko": "퇴사일",
        "en": "Stop Date",
        "vi": "Ngày nghỉ"
      },
      "pregnantVacation": {
        "ko": "임신 휴가",
        "en": "Pregnant Vacation",
        "vi": "Nghỉ thai sản"
      },
      "remark": {
        "ko": "비고",
        "en": "Remark",
        "vi": "Ghi chú"
      }
    },
    "statusLabels": {
      "resigned": {
        "ko": "퇴사",
        "en": "Resigned",
        "vi": "Đã nghỉ"
      },
      "contractEnd": {
        "ko": "계약종료",
        "en": "Contract End",
        "vi": "Hết hợp đồng"
      },
      "allAbsent": {
        "ko": "전체 결근",
        "en": "All Absent",
        "vi": "Nghỉ toàn bộ"
      },
      "yes": {
        "ko": "예",
        "en": "Yes",
        "vi": "Có"
      },
      "no": {
        "ko": "아니오",
        "en": "No",
        "vi": "Không"
      }
    },
    "summary": {
      "title": {
        "ko": "0일 근무자 현황 요약",
        "en": "Zero Working Days Summary",
        "vi": "Tóm tắt nhân viên làm 0 ngày"
      },
      "total": {
        "ko": "총 0일 근무",
        "en": "Total Zero Days",
        "vi": "Tổng 0 ngày"
      },
      "managementNeeded": {
        "ko": "🔴 관리 필요 (사유 없음)",
        "en": "🔴 Management Needed (No Reason)",
        "vi": "🔴 Cần quản lý (Không lý do)"
      },
      "reviewNeeded": {
        "ko": "🟡 확인 필요 (직무 변경)",
        "en": "🟡 Review Needed (Job Change)",
        "vi": "🟡 Cần xem xét (Thay đổi công việc)"
      },
      "legitimateReasons": {
        "ko": "🔵 정당한 사유",
        "en": "🔵 Legitimate Reasons",
        "vi": "🔵 Lý do hợp lý"
      }
    },
    "categories": {
      "maternity": {
        "ko": "출산휴가",
        "en": "Maternity Leave",
        "vi": "Nghỉ thai sản"
      },
      "resigned": {
        "ko": "퇴사",
        "en": "Resigned",
        "vi": "Đã nghỉ việc"
      },
      "jobChange": {
        "ko": "직무변경",
        "en": "Job Change",
        "vi": "Thay đổi công việc"
      },
      "noReason": {
        "ko": "사유 없음",
        "en": "No Reason",
        "vi": "Không có lý do"
      }
    }
  },
  "aqlModal": {
    "title": {
      "ko": "Building별 AQL 검사 성과 분석",
      "en": "AQL Inspection Performance Analysis by Building",
      "vi": "Phân tích hiệu suất kiểm tra AQL theo Building"
    },
    "summaryTitle": {
      "ko": "AQL 검사 실적",
      "en": "AQL Inspection Results",
      "vi": "Kết quả kiểm tra AQL"
    },
    "condition7": {
      "ko": "조건 7번",
      "en": "Condition 7",
      "vi": "Điều kiện 7"
    },
    "condition8": {
      "ko": "조건 8번",
      "en": "Condition 8",
      "vi": "Điều kiện 8"
    },
    "table1Title": {
      "ko": "테이블 1: Area별 검사건수 기준 성과",
      "en": "Table 1: Performance by Area Based on Inspection Count",
      "vi": "Bảng 1: Hiệu suất theo khu vực dựa trên số lượng kiểm tra"
    },
    "table2Title": {
      "ko": "테이블 2: Assembly Inspector 인원 기준 검사 실적",
      "en": "Table 2: Assembly Inspector Performance Based on Personnel",
      "vi": "Bảng 2: Hiệu suất kiểm tra viên lắp ráp theo nhân sự"
    },
    "table3Title": {
      "ko": "테이블 3: Auditor별 책임자 검사 실적",
      "en": "Table 3: Inspection Performance by Auditor",
      "vi": "Bảng 3: Hiệu suất kiểm tra theo người kiểm toán"
    },
    "building": {
      "ko": "Building",
      "en": "Building",
      "vi": "Building"
    },
    "totalTests": {
      "ko": "총 검사",
      "en": "Total Tests",
      "vi": "Tổng kiểm tra"
    },
    "pass": {
      "ko": "통과",
      "en": "Pass",
      "vi": "Đạt"
    },
    "fail": {
      "ko": "실패",
      "en": "Fail",
      "vi": "Không đạt"
    },
    "rejectRate": {
      "ko": "Reject Rate",
      "en": "Reject Rate",
      "vi": "Tỷ lệ loại bỏ"
    },
    "performanceGrade": {
      "ko": "성과 등급",
      "en": "Performance Grade",
      "vi": "Xếp hạng hiệu suất"
    },
    "totalInspectors": {
      "ko": "총 검사원",
      "en": "Total Inspectors",
      "vi": "Tổng kiểm tra viên"
    },
    "rejectInspectors": {
      "ko": "Reject 발생",
      "en": "With Reject",
      "vi": "Có loại bỏ"
    },
    "passOnlyInspectors": {
      "ko": "Pass만",
      "en": "Pass Only",
      "vi": "Chỉ đạt"
    },
    "personnelRejectRate": {
      "ko": "인원 기준 Reject Rate",
      "en": "Reject Rate by Personnel",
      "vi": "Tỷ lệ loại bỏ theo nhân sự"
    },
    "auditor": {
      "ko": "Auditor",
      "en": "Auditor",
      "vi": "Người kiểm toán"
    },
    "performanceExcellent": {
      "ko": "우수",
      "en": "Excellent",
      "vi": "Xuất sắc"
    },
    "performanceGood": {
      "ko": "양호",
      "en": "Good",
      "vi": "Tốt"
    },
    "performanceWarning": {
      "ko": "주의",
      "en": "Warning",
      "vi": "Cảnh báo"
    },
    "performanceImprovement": {
      "ko": "개선필요",
      "en": "Needs Improvement",
      "vi": "Cần cải thiện"
    },
    "dataSource": {
      "ko": "데이터 출처",
      "en": "Data Source",
      "vi": "Nguồn dữ liệu"
    },
    "aqlFile": {
      "ko": "AQL 파일",
      "en": "AQL File",
      "vi": "Tệp AQL"
    },
    "close": {
      "ko": "닫기",
      "en": "Close",
      "vi": "Đóng"
    },
    "jobTitle": {
      "ko": "직책",
      "en": "Job Title",
      "vi": "Chức danh"
    },
    "responsibleArea": {
      "ko": "담당 구역",
      "en": "Responsible Area",
      "vi": "Khu vực phụ trách"
    },
    "personnel": {
      "ko": "인원",
      "en": "Personnel",
      "vi": "Nhân sự"
    },
    "consecutiveMonths": {
      "ko": "3개월 연속",
      "en": "3 Consecutive Months",
      "vi": "3 tháng liên tiếp"
    },
    "incentiveStatus": {
      "ko": "인센티브",
      "en": "Incentive",
      "vi": "Tiền thưởng"
    },
    "paid": {
      "ko": "지급",
      "en": "Paid",
      "vi": "Đã trả"
    },
    "notPaid": {
      "ko": "미지급",
      "en": "Not Paid",
      "vi": "Chưa trả"
    },
    "noteTitle": {
      "ko": "참고",
      "en": "Note",
      "vi": "Ghi chú"
    },
    "condition7Description": {
      "ko": "조건7: 담당 구역 3개월 연속 실패자 존재 (1명이라도 있으면 미지급)",
      "en": "Condition 7: Presence of consecutive 3-month failure in responsible area (not paid if even 1 person exists)",
      "vi": "Điều kiện 7: Có người thất bại liên tục 3 tháng trong khu vực phụ trách (không trả nếu có ít nhất 1 người)"
    },
    "condition8Description": {
      "ko": "조건8: 담당 구역 Reject Rate 3% 초과 (초과 시 미지급)",
      "en": "Condition 8: Responsible area Reject Rate exceeds 3% (not paid if exceeded)",
      "vi": "Điều kiện 8: Tỷ lệ loại bỏ khu vực phụ trách vượt quá 3% (không trả nếu vượt quá)"
    },
    "incentiveNote": {
      "ko": "인센티브: 두 조건 모두 충족 시에만 지급",
      "en": "Incentive: Paid only when both conditions are met",
      "vi": "Tiền thưởng: Chỉ trả khi cả hai điều kiện đều được đáp ứng"
    },
    "condition7Detail": {
      "ko": "담당 구역 3개월 연속 실패자 존재 - 0명",
      "en": "Presence of consecutive 3-month failure in area - 0 people",
      "vi": "Có người thất bại liên tục 3 tháng trong khu vực - 0 người"
    },
    "condition8Detail": {
      "ko": "Building Reject Rate 3% 초과 -",
      "en": "Building Reject Rate exceeds 3% -",
      "vi": "Tỷ lệ loại bỏ Building vượt quá 3% -"
    },
    "auditorTrainer": {
      "ko": "(Auditor/Trainer)",
      "en": "(Auditor/Trainer)",
      "vi": "(Người kiểm toán/Huấn luyện viên)"
    },
    "tableNote": {
      "ko": "💡 참고",
      "en": "💡 Note",
      "vi": "💡 Ghi chú"
    },
    "tableNoteDetail": {
      "ko": "테이블 1은 AQL 파일 전체 검사 기준, 테이블 2는 Assembly Inspector 개인 실적 집계입니다.",
      "en": "Table 1 is based on all AQL file inspections, Table 2 is a summary of individual Assembly Inspector performance.",
      "vi": "Bảng 1 dựa trên tất cả các kiểm tra tệp AQL, Bảng 2 là tóm tắt hiệu suất cá nhân của Kiểm tra viên lắp ráp."
    },
    "unitTests": {
      "ko": "건",
      "en": "tests",
      "vi": "kiểm tra"
    },
    "unitPeople": {
      "ko": "명",
      "en": "people",
      "vi": "người"
    },
    "unitYear": {
      "ko": "년",
      "en": "",
      "vi": "năm"
    },
    "total": {
      "ko": "전체",
      "en": "Total",
      "vi": "Tổng"
    },
    "allBuildings": {
      "ko": "All Buildings",
      "en": "All Buildings",
      "vi": "Tất cả Building"
    },
    "table2InspectorTitle": {
      "ko": "Building별 검사원 인원수 및 Reject 발생 현황",
      "en": "Inspector Count and Reject Status by Building",
      "vi": "Số lượng kiểm tra viên và tình trạng loại bỏ theo Building"
    },
    "table3AuditorTitle": {
      "ko": "관리자 책임 범위 및 인센티브 지급/미지급 상태",
      "en": "Manager Responsibility Scope and Incentive Payment Status",
      "vi": "Phạm vi trách nhiệm quản lý và trạng thái thanh toán khuyến khích"
    }
  },
  "fivePrsModal": {
    "title": {
      "ko": "5PRS 통과율 95% 미만 상세",
      "en": "5PRS Pass Rate Below 95% Details",
      "vi": "Chi tiết tỷ lệ đạt 5PRS dưới 95%"
    },
    "description": {
      "ko": "TYPE-1 ASSEMBLY INSPECTOR의 5PRS 통과율이 95% 미만인 경우 인센티브를 받을 수 없습니다.",
      "en": "TYPE-1 ASSEMBLY INSPECTOR cannot receive incentive if 5PRS pass rate is below 95%.",
      "vi": "TYPE-1 ASSEMBLY INSPECTOR không thể nhận khuyến khích nếu tỷ lệ đạt 5PRS dưới 95%."
    },
    "totalCount": {
      "ko": "총 {{count}}명이 5PRS 통과율 95% 미만입니다.",
      "en": "Total {{count}} people have 5PRS pass rate below 95%.",
      "vi": "Tổng cộng {{count}} người có tỷ lệ đạt 5PRS dưới 95%."
    },
    "table1Title": {
      "ko": "5PRS 통과율 95% 미만 인원",
      "en": "Personnel with 5PRS Pass Rate Below 95%",
      "vi": "Nhân viên có tỷ lệ đạt 5PRS dưới 95%"
    },
    "table2Title": {
      "ko": "통과율 최하위 10명",
      "en": "Top 10 Lowest Pass Rates",
      "vi": "10 người có tỷ lệ đạt thấp nhất"
    },
    "employeeId": {
      "ko": "사번",
      "en": "Employee ID",
      "vi": "Mã NV"
    },
    "name": {
      "ko": "이름",
      "en": "Name",
      "vi": "Tên"
    },
    "position": {
      "ko": "직책",
      "en": "Position",
      "vi": "Chức vụ"
    },
    "type": {
      "ko": "타입",
      "en": "Type",
      "vi": "Loại"
    },
    "totalQuantity": {
      "ko": "총 평가 수량",
      "en": "Total Quantity",
      "vi": "Tổng số lượng đánh giá"
    },
    "passQuantity": {
      "ko": "통과 수량",
      "en": "Pass Quantity",
      "vi": "Số lượng đạt"
    },
    "passRate": {
      "ko": "통과율",
      "en": "Pass Rate",
      "vi": "Tỷ lệ đạt"
    },
    "conditionStatus": {
      "ko": "충족/미충족/조건 충족",
      "en": "Met/Not Met/Condition Status",
      "vi": "Đạt/Không đạt/Trạng thái điều kiện"
    },
    "rank": {
      "ko": "순위",
      "en": "Rank",
      "vi": "Xếp hạng"
    },
    "unitPcs": {
      "ko": "족",
      "en": "pcs",
      "vi": "đôi"
    }
  },
  "organizationChart": {
    "type1Subordinates": {
      "ko": "TYPE-1 부하",
      "en": "TYPE-1 Subordinates",
      "vi": "Cấp dưới TYPE-1"
    },
    "employeeUnit": {
      "ko": "직원",
      "en": "employees",
      "vi": "nhân viên"
    }
  },
  "tableHeaders": {
    "avgPaymentPaid": {
      "ko": "평균 지급액",
      "en": "Avg Payment",
      "vi": "TB thanh toán"
    },
    "avgPaymentPaidBasis": {
      "ko": "수령인원 기준",
      "en": "Based on Paid",
      "vi": "Dựa trên đã trả"
    },
    "avgPaymentTotal": {
      "ko": "평균 지급액",
      "en": "Avg Payment",
      "vi": "TB thanh toán"
    },
    "avgPaymentTotalBasis": {
      "ko": "전체인원 기준",
      "en": "Based on Total",
      "vi": "Dựa trên tổng"
    },
    "totalEmployees": {
      "ko": "전체 직원",
      "en": "Total Employees",
      "vi": "Tổng nhân viên"
    },
    "eligibleEmployees": {
      "ko": "수령 직원",
      "en": "Eligible Employees",
      "vi": "Nhân viên đủ điều kiện"
    },
    "paymentRate": {
      "ko": "지급률",
      "en": "Payment Rate",
      "vi": "Tỷ lệ thanh toán"
    },
    "totalAmount": {
      "ko": "총 지급액",
      "en": "Total Amount",
      "vi": "Tổng số tiền"
    }
  },
  "sectionTitles": {
    "positionDetails": {
      "ko": "직급별 상세 현황",
      "en": "Position Details Status",
      "vi": "Tình trạng chi tiết theo vị trí"
    },
    "individualDetails": {
      "ko": "개인별 상세 정보",
      "en": "Individual Details Information",
      "vi": "Thông tin chi tiết cá nhân"
    },
    "typeSummary": {
      "ko": "Type별 현황",
      "en": "Type Summary",
      "vi": "Tóm tắt theo loại"
    }
  },
  "modalTitles": {
    "positionModal": {
      "ko": "직급별 상세 정보",
      "en": "Position Detail Information",
      "vi": "Thông tin chi tiết vị trí"
    }
  },
  "typeSummary": {
    "ko": "Type별 현황",
    "en": "Type Summary",
    "vi": "Tóm tắt theo loại"
  },
  "closeButton": {
    "ko": "닫기",
    "en": "Close",
    "vi": "Đóng"
  }
}
    </script>

    <script type="application/json" id="positionMatrixData">
        {"description": "Position-based condition application matrix for QIP incentive calculation", "version": "1.0.0", "last_updated": "2025-01-30", "incentive_progression": {"TYPE_1_PROGRESSIVE": {"description": "Progressive incentive for ASSEMBLY INSPECTOR, MODEL MASTER, AUDITOR & TRAINER", "applies_to": ["ASSEMBLY_INSPECTOR", "MODEL_MASTER", "AUDITOR_TRAINER"], "progression_table": {"0": 0, "1": 150000, "2": 250000, "3": 300000, "4": 350000, "5": 400000, "6": 450000, "7": 500000, "8": 650000, "9": 750000, "10": 850000, "11": 950000, "12": 1000000, "13": 1000000, "14": 1000000, "15": 1000000}, "max_months": 12, "reset_on_fail": true, "carry_over_next_month": true}}, "conditions": {"1": {"id": "attendance_rate", "name": "Attendance Rate >= 88%", "category": "attendance", "description": "출근율 88% 이상"}, "2": {"id": "attendance_unapproved_absence", "name": "Unapproved Absence <= 2 days", "category": "attendance", "description": "무단결근 2일 이하"}, "3": {"id": "actual_working_days", "name": "Actual Working Days > 0", "category": "attendance", "description": "실제근무일 0일 초과"}, "4": {"id": "attendance_minimum_days", "name": "Minimum Working Days >= 12", "category": "attendance", "description": "최소 근무일 12일 이상"}, "5": {"id": "aql_personal_failure", "name": "Personal AQL: Current Month Failures = 0", "category": "aql", "description": "개인AQL: 당월실패 0건"}, "6": {"id": "aql_personal_continuous", "name": "Personal AQL: No 3-month Consecutive Failures", "category": "aql", "description": "연속성 체크: 3개월 연속 실패 없음"}, "7": {"id": "aql_team_area", "name": "Team/Area AQL: No 3-month Consecutive Failures", "category": "aql", "description": "팀/구역 AQL: 3개월 연속 실패 없음"}, "8": {"id": "aql_area_reject", "name": "Area Reject Rate < 3%", "category": "aql", "description": "담당구역 reject % < 3%"}, "9": {"id": "5prs_pass_rate", "name": "5PRS Pass Rate >= 95%", "category": "5prs", "description": "5PRS 통과율 95% 이상"}, "10": {"id": "5prs_inspection_qty", "name": "5PRS Inspection Quantity >= 100", "category": "5prs", "description": "5PRS 검사량 100족 이상"}}, "position_matrix": {"TYPE-1": {"default": {"applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-1 기본 설정 (출근 조건만 적용)"}, "MANAGER": {"patterns": ["MANAGER"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "관리자 - 출근 조건만 적용"}, "A_MANAGER": {"patterns": ["A.MANAGER", "A. MANAGER", "ASSISTANT MANAGER"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "부관리자 - 출근 조건만 적용"}, "V_SUPERVISOR": {"patterns": ["(V) SUPERVISOR", "V.SUPERVISOR", "V SUPERVISOR"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "감독관 - 출근 조건만 적용"}, "GROUP_LEADER": {"patterns": ["GROUP LEADER"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "그룹 리더 - 출근 조건만 적용"}, "LINE_LEADER": {"patterns": ["LINE LEADER"], "applicable_conditions": [1, 2, 3, 4, 7], "excluded_conditions": [5, 6, 8, 9, 10], "description": "라인 리더 - 출근 + 팀/구역 AQL 조건"}, "AQL_INSPECTOR": {"patterns": ["AQL INSPECTOR", "AQL", "CFA CERTIFIED"], "applicable_conditions": [1, 2, 3, 4, 5], "excluded_conditions": [6, 7, 8, 9, 10], "special_calculation": "aql_inspector_incentive", "description": "AQL 검사관 - 출근 + 당월 AQL 조건"}, "ASSEMBLY_INSPECTOR": {"patterns": ["ASSEMBLY INSPECTOR"], "applicable_conditions": [1, 2, 3, 4, 5, 6, 9, 10], "excluded_conditions": [7, 8], "description": "조립 검사관 - 출근 + 개인 AQL + 5PRS"}, "AUDIT_TRAINING": {"patterns": ["AUDIT & TRAINING TEAM", "AUDIT & TRAINING", "AUDITOR", "TRAINER"], "applicable_conditions": [1, 2, 3, 4, 7, 8], "excluded_conditions": [5, 6, 9, 10], "description": "감사 및 교육팀 - 출근 + 팀/구역 AQL + 담당구역 reject"}, "MODEL_MASTER": {"patterns": ["MODEL MASTER", "SAMPLE"], "applicable_conditions": [1, 2, 3, 4, 8], "excluded_conditions": [5, 6, 7, 9, 10], "description": "모델 마스터 - 출근 + 담당구역 reject 조건"}}, "TYPE-2": {"default": {"applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 기본 설정 - 출근 조건만"}, "V_SUPERVISOR_T2": {"patterns": ["(V) SUPERVISOR", "V.SUPERVISOR", "V SUPERVISOR"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 감독관 - 출근 조건만"}, "A_MANAGER_T2": {"patterns": ["A.MANAGER", "A. MANAGER", "ASSISTANT MANAGER"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 부관리자 - 출근 조건만"}, "GROUP_LEADER_T2": {"patterns": ["GROUP LEADER"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 그룹 리더 - 출근 조건만"}, "LINE_LEADER_T2": {"patterns": ["LINE LEADER"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 라인 리더 - 출근 조건만"}, "AQL_INSPECTOR_T2": {"patterns": ["AQL INSPECTOR", "AQL"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 AQL 검사관 - 출근 조건만"}, "ASSEMBLY_INSPECTOR_T2": {"patterns": ["ASSEMBLY INSPECTOR"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 조립 검사관 - 출근 조건만"}, "STITCHING_INSPECTOR_T2": {"patterns": ["STITCHING INSPECTOR"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "TYPE-2 재봉 검사관 - 출근 조건만"}, "BOTTOM_INSPECTOR": {"patterns": ["BOTTOM INSPECTOR", "BOTTOM INSPECTION"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "바닥 검사관 - 출근 조건만"}, "CUTTING_INSPECTOR": {"patterns": ["CUTTING INSPECTOR"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "재단 검사관 - 출근 조건만"}, "MTL_INSPECTOR": {"patterns": ["MTL INSPECTOR", "MATERIAL INSPECTOR"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "자재 검사관 - 출근 조건만"}, "OCPT_STAFF": {"patterns": ["OCPT STFF", "OCPT STAFF"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "OCPT 직원 - 출근 조건만"}, "OSC_INSPECTOR": {"patterns": ["OSC INSPECTOR"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "OSC 검사관 - 출근 조건만"}, "QA_TEAM": {"patterns": ["QA TEAM", "QUALITY ASSURANCE"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "QA 팀 - 출근 조건만"}, "RQC": {"patterns": ["RQC", "RANDOM QUALITY CHECK"], "applicable_conditions": [1, 2, 3, 4], "excluded_conditions": [5, 6, 7, 8, 9, 10], "description": "RQC - 출근 조건만"}}, "TYPE-3": {"default": {"applicable_conditions": [], "excluded_conditions": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "description": "TYPE-3 신입직원 - 정책상 인센티브 제외", "eligible_for_incentive": false, "policy_status": "EXCLUDED", "policy_reason": "신입직원 3개월 정책 제외"}, "NEW_QIP_MEMBER": {"patterns": ["NEW QIP MEMBER", "NEW MEMBER", "신입"], "applicable_conditions": [], "excluded_conditions": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "description": "신입 QIP 멤버 - 인센티브 제외 (3개월)", "eligible_for_incentive": false, "future_eligibility": {"upgrades_to": "TYPE-2", "after_months": 3, "notification": "3개월 후 TYPE-2로 전환"}}}}, "incentive_rules": {"TYPE-1": {"base_incentive": {"conditions_met": true, "amount_range": {"min": 150000, "max": 500000}}, "special_cases": {"AQL_INSPECTOR": {"part1_aql_evaluation": {"description": "AQL 평가 결과 인센티브", "monthly_progression": true, "max_amount": 1000000}, "part2_cfa_certificate": {"description": "CFA 자격증 인센티브", "fixed_amount": 700000}, "part3_hwk_prevention": {"description": "HWK 클레임 방지 인센티브", "monthly_progression": true, "max_amount": 900000}}}}, "TYPE-2": {"base_incentive": {"conditions_met": true, "amount_range": {"min": 50000, "max": 300000}}}, "TYPE-3": {"base_incentive": {"conditions_met": true, "amount_range": {"min": 0, "max": 0}, "note": "정책상 지급 제외 (신입직원 3개월)", "eligible": false}}}, "condition_display": {"icons": {"passed": "✓", "failed": "✗", "not_applicable": "N/A", "pending": "⏳"}, "colors": {"passed": "#28a745", "failed": "#dc3545", "not_applicable": "#6c757d", "pending": "#ffc107"}, "labels": {"ko": {"passed": "충족", "failed": "미충족", "not_applicable": "해당없음", "pending": "대기중"}, "en": {"passed": "Passed", "failed": "Failed", "not_applicable": "N/A", "pending": "Pending"}, "vi": {"passed": "Đạt", "failed": "Không đạt", "not_applicable": "Không áp dụng", "pending": "Đang chờ"}}}, "validation_rules": {"attendance": {"attendance_rate_threshold": 0.88, "minimum_days_threshold": 12, "minimum_actual_days": 0, "unapproved_absence_threshold": 2}, "aql": {"personal_failure_threshold": 0, "continuous_months_check": 3, "team_area_consecutive_months": 3, "area_reject_threshold": 0.03}, "5prs": {"pass_rate_threshold": 0.95, "minimum_inspection_qty": 100}, "TYPE-3": {"check_conditions": false, "payment_blocked": true, "block_reason": "신입직원 정책", "override_amount": 0, "ui_message": {"ko": "TYPE-3 신입직원은 인센티브 대상이 아닙니다", "en": "TYPE-3 new employees are not eligible for incentives", "vi": "Nhân viên mới TYPE-3 không đủ điều kiện nhận khuyến khích"}}}, "notes": {"usage": "This matrix defines which conditions apply to each position type and role", "maintenance": "Update this file when adding new positions or changing condition rules", "backward_compatibility": "Maintains compatibility with existing calculation logic", "restored_from": "Original dashboard v5 structure - removed positions section to restore dynamic calculation"}}
    </script>

    <script type="application/json" id="excelDashboardDataBase64">
        
    </script>

    <script type="application/json" id="aqlInspectorStatsBase64">
        eyJCdWlsZGluZyBBIjp7InRvdGFsSW5zcGVjdG9ycyI6MzUsInJlamVjdEluc3BlY3RvcnMiOjksInBhc3NPbmx5SW5zcGVjdG9ycyI6MjYsInJlamVjdFJhdGUiOiIyNS43IiwidG90YWxUZXN0cyI6NTg1fSwiQnVpbGRpbmcgQiI6eyJ0b3RhbEluc3BlY3RvcnMiOjIzLCJyZWplY3RJbnNwZWN0b3JzIjozLCJwYXNzT25seUluc3BlY3RvcnMiOjIwLCJyZWplY3RSYXRlIjoiMTMuMCIsInRvdGFsVGVzdHMiOjI5OH0sIkJ1aWxkaW5nIEMiOnsidG90YWxJbnNwZWN0b3JzIjozNSwicmVqZWN0SW5zcGVjdG9ycyI6MTEsInBhc3NPbmx5SW5zcGVjdG9ycyI6MjQsInJlamVjdFJhdGUiOiIzMS40IiwidG90YWxUZXN0cyI6NTQ4fSwiQnVpbGRpbmcgRCI6eyJ0b3RhbEluc3BlY3RvcnMiOjI5LCJyZWplY3RJbnNwZWN0b3JzIjo4LCJwYXNzT25seUluc3BlY3RvcnMiOjIxLCJyZWplY3RSYXRlIjoiMjcuNiIsInRvdGFsVGVzdHMiOjQxOH0sInRvdGFsIjp7InRvdGFsSW5zcGVjdG9ycyI6MTAwLCJyZWplY3RJbnNwZWN0b3JzIjozMSwicGFzc09ubHlJbnNwZWN0b3JzIjo2OSwicmVqZWN0UmF0ZSI6IjMxLjAiLCJ0b3RhbFRlc3RzIjoxODU1fX0=
    </script>

    <script type="application/json" id="aqlFileStatsBase64">
        eyJCdWlsZGluZyBBIjp7InRvdGFsIjo1ODUsInBhc3MiOjU3NCwiZmFpbCI6MTEsInJlamVjdFJhdGUiOjEuOX0sIkJ1aWxkaW5nIEIiOnsidG90YWwiOjI5OCwicGFzcyI6Mjk1LCJmYWlsIjozLCJyZWplY3RSYXRlIjoxLjB9LCJCdWlsZGluZyBDIjp7InRvdGFsIjo1NDgsInBhc3MiOjUzMCwiZmFpbCI6MTgsInJlamVjdFJhdGUiOjMuM30sIkJ1aWxkaW5nIEQiOnsidG90YWwiOjQxOCwicGFzcyI6NDA5LCJmYWlsIjo5LCJyZWplY3RSYXRlIjoyLjJ9LCJ0b3RhbCI6eyJ0b3RhbCI6MTg1NSwicGFzcyI6MTgxNCwiZmFpbCI6NDEsInJlamVjdFJhdGUiOjIuMn19
    </script>

    <script type="application/json" id="auditorMappingBase64">
        eyJtb2RlbF9tYXN0ZXIiOnsiZGVzY3JpcHRpb24iOiJNb2RlbCBNYXN0ZXIgLSDsoITssrQg6rO17J6lIOuLtOuLuSIsImVtcGxveWVlcyI6eyI2MjAwODAyOTUiOnsibmFtZSI6IlbDlSBUSOG7iiBUSMOZWSBMSU5IIiwicG9zaXRpb25fY29kZSI6IlFBMkEiLCJkZXNjcmlwdGlvbiI6Ik1vZGVsIE1hc3RlciAtIOyghOyytCDqtazsl60iLCJjb25kaXRpb25zIjpbeyJ0eXBlIjoiQUxMIiwiZmlsdGVycyI6W119XX0sIjYxODAzMDI0MSI6eyJuYW1lIjoiVFLhuqZOIFRI4buKIFRIw5pZIEFOSCIsInBvc2l0aW9uIjoiTU9ERUwgTUFTVEVSIiwiZGVzY3JpcHRpb24iOiJNb2RlbCBNYXN0ZXIgLSDsoITssrQg6rWs7JetIiwiY29uZGl0aW9ucyI6W3sidHlwZSI6IkFMTCIsImZpbHRlcnMiOltdfV19LCI2MTgxMTAwOTciOnsibmFtZSI6IkRBTkggVEjhu4ogQU5IIMSQw4BPIiwicG9zaXRpb24iOiJNT0RFTCBNQVNURVIiLCJkZXNjcmlwdGlvbiI6Ik1vZGVsIE1hc3RlciAtIOyghOyytCDqtazsl60iLCJjb25kaXRpb25zIjpbeyJ0eXBlIjoiQUxMIiwiZmlsdGVycyI6W119XX0sIjYyMDEyMDM4NiI6eyJuYW1lIjoiTkdVWeG7hE4gTkfhu4xDIFRV4bqkTiIsInBvc2l0aW9uIjoiTU9ERUwgTUFTVEVSIiwiZGVzY3JpcHRpb24iOiJNb2RlbCBNYXN0ZXIgLSDsoITssrQg6rWs7JetIiwiY29uZGl0aW9ucyI6W3sidHlwZSI6IkFMTCIsImZpbHRlcnMiOltdfV19fX0sImF1ZGl0b3JfdHJhaW5lcl9hcmVhcyI6eyI2MTgwNjAwOTIiOnsibmFtZSI6IkNBTyBUSOG7iiBU4buQIE5HVVnDik4iLCJkZXNjcmlwdGlvbiI6IkJ1aWxkaW5nIEIgJiBSZXBhY2tpbmcgQlMiLCJjb25kaXRpb25zIjpbeyJ0eXBlIjoiQU5EIiwiZmlsdGVycyI6W3siY29sdW1uIjoiUkVQQUNLSU5HIFBPIiwidmFsdWUiOiJOT1JNQUwgUE8ifSx7ImNvbHVtbiI6IkJVSUxESU5HIiwidmFsdWUiOiJCIn1dfSx7InR5cGUiOiJPUiIsImZpbHRlcnMiOlt7ImNvbHVtbiI6IlJFUEFDS0lORyBQTyIsInZhbHVlIjoiUkVQQUNLSU5HIFBPIn1dfV19LCI2MTgxMTAwODciOnsibmFtZSI6Ik5HVVnhu4ROIFRIw5pZIEjhurBORyIsImRlc2NyaXB0aW9uIjoiQnVpbGRpbmcgQyIsImNvbmRpdGlvbnMiOlt7InR5cGUiOiJBTkQiLCJmaWx0ZXJzIjpbeyJjb2x1bW4iOiJSRVBBQ0tJTkcgUE8iLCJ2YWx1ZSI6Ik5PUk1BTCBQTyJ9LHsiY29sdW1uIjoiQlVJTERJTkciLCJ2YWx1ZSI6IkMifV19XX0sIjYxOTA3MDE4NSI6eyJuYW1lIjoiREFOSCBUSOG7iiBLSU0gQU5IIiwiZGVzY3JpcHRpb24iOiJCdWlsZGluZyBEIiwiY29uZGl0aW9ucyI6W3sidHlwZSI6IkFORCIsImZpbHRlcnMiOlt7ImNvbHVtbiI6IlJFUEFDS0lORyBQTyIsInZhbHVlIjoiTk9STUFMIFBPIn0seyJjb2x1bW4iOiJCVUlMRElORyIsInZhbHVlIjoiRCJ9XX1dfSwiNjIwMDcwMDEzIjp7Im5hbWUiOiJOR1VZ4buETiBUSEFOSCBUUsOaQyIsImRlc2NyaXB0aW9uIjoiQnVpbGRpbmcgQSIsImNvbmRpdGlvbnMiOlt7InR5cGUiOiJBTkQiLCJmaWx0ZXJzIjpbeyJjb2x1bW4iOiJSRVBBQ0tJTkcgUE8iLCJ2YWx1ZSI6Ik5PUk1BTCBQTyJ9LHsiY29sdW1uIjoiQlVJTERJTkciLCJ2YWx1ZSI6IkEifV19XX0sIjYyMDA3MDAyMCI6eyJuYW1lIjoiUEjhuqBNIE3hu7ggSFVZ4buATiIsImRlc2NyaXB0aW9uIjoiQnVpbGRpbmcgRCIsImNvbmRpdGlvbnMiOlt7InR5cGUiOiJBTkQiLCJmaWx0ZXJzIjpbeyJjb2x1bW4iOiJSRVBBQ0tJTkcgUE8iLCJ2YWx1ZSI6Ik5PUk1BTCBQTyJ9LHsiY29sdW1uIjoiQlVJTERJTkciLCJ2YWx1ZSI6IkQifV19XX0sIjYyMzA4MDQ3NSI6eyJuYW1lIjoiU+G6pk0gVFLDjSBUSMOATkgiLCJkZXNjcmlwdGlvbiI6IkJ1aWxkaW5nIEMiLCJjb25kaXRpb25zIjpbeyJ0eXBlIjoiQU5EIiwiZmlsdGVycyI6W3siY29sdW1uIjoiUkVQQUNLSU5HIFBPIiwidmFsdWUiOiJOT1JNQUwgUE8ifSx7ImNvbHVtbiI6IkJVSUxESU5HIiwidmFsdWUiOiJDIn1dfV19fSwiZGVmYXVsdF9yZWplY3RfcmF0ZV90aHJlc2hvbGQiOjIuMCwibm90ZXMiOnsiZGVzY3JpcHRpb24iOiJBdWRpdG9yL1RyYWluZXIg67CPIE1vZGVsIE1hc3RlcuuzhCDri7Tri7kg6rWs7JetIOunpO2VkSIsInVzYWdlIjoi6rCBIOyngeybkOydmCBFbXBsb3llZSBOb+ulvCDtgqTroZwg7IKs7Jqp7ZWY7JesIOuLtOuLuSDqtazsl60g7KGw6rG07J2EIO2ZleyduCIsInJlamVjdF9yYXRlX2NhbGN1bGF0aW9uIjoi7ZW064u5IOyhsOqxtOyXkCDrp57ripQgQVFMIOuNsOydtO2EsOunjCDtlYTthLDrp4HtlZjsl6wgcmVqZWN07JyoIOqzhOyCsCIsIm1vZGVsX21hc3Rlcl9ub3RlIjoiTW9kZWwgTWFzdGVyIChRQTJBKeuKlCDsoITssrQg6rWs7Jet7J2EIOuLtOuLue2VmOupsCDrs4Trj4Qg66Gc7KeB7Jy866GcIOyymOumrCJ9fQ==
    </script>

    <script>
        // UTF-8 Base64 디코딩 함count 추가
        function base64DecodeUnicode(str) {
            // Base64 디코딩 후 UTF-8 처리
            try {
                const binaryString = atob(str);
                const bytes = new Uint8Array(binaryString.length);
                for (let i = 0; i < binaryString.length; i++) {
                    bytes[i] = binaryString.charCodeAt(i);
                }
                const decoder = new TextDecoder('utf-8');
                return decoder.decode(bytes);
            } catch (e) {
                console.error('UTF-8 decoding failed:', e);
                // Fallback to regular atob
                return atob(str);
            }
        }

        // Make employeeData globally accessible for validation tab
        // Decode base64 and parse JSON safely
        // CRITICAL FIX: Wrap in DOMContentLoaded to ensure DOM elements exist

        // Declare global variables that will be populated after DOM loads
        let translations = {};
        let positionMatrix = {};
        let excelDashboardData = {};

        document.addEventListener('DOMContentLoaded', function() {
            console.log('[DEBUG] DOMContentLoaded event fired - starting data initialization');

            window.employeeData = [];
            window.aqlInspectorStats = null;
            try {
                // DOM에서 Base64 data read
                console.log('[DEBUG] Starting employee data load...');
                const base64Element = document.getElementById('employeeDataBase64');
                console.log('[DEBUG] base64Element found:', !!base64Element);

                if (!base64Element) {
                    console.error('[ERROR] employeeDataBase64 element not found in DOM!');
                    throw new Error('employeeDataBase64 element not found');
                }

                const base64Data = base64Element.textContent.trim();
                console.log('[DEBUG] base64Data length:', base64Data.length);
            const jsonStr = base64DecodeUnicode(base64Data);  // UTF-8 지원 디코딩 use
            console.log('[DEBUG] Decoded JSON string length:', jsonStr.length);
            const employeeData = JSON.parse(jsonStr);
            console.log('[DEBUG] Parsed employee data:', employeeData.length, '직원');
            window.employeeData = employeeData;
            console.log('Employee data loaded successfully:', employeeData.length, '직원');

            // TYPE 테이블 생성 함수 정의 (데이터 로드 직후, 호출 전에)
            function generateTypeTable() {
                console.log('Generating TYPE table...');

                const typeSummaryBody = document.getElementById('typeSummaryBody');
                if (!typeSummaryBody) {
                    console.error('typeSummaryBody element not found');
                    return;
                }

                // 데이터가 없으면 employeeData를 사용
                if (!window.employeeData || window.employeeData.length === 0) {
                    console.log('No employee data available for TYPE table');
                    typeSummaryBody.innerHTML = '<tr><td colspan="7" class="text-center">데이터 없음</td></tr>';
                    return;
                }

                // TYPE별 집계
                const typeStats = {
                    'TYPE-1': { total: 0, eligible: 0, amount: 0 },
                    'TYPE-2': { total: 0, eligible: 0, amount: 0 },
                    'TYPE-3': { total: 0, eligible: 0, amount: 0 }
                };

                window.employeeData.forEach(emp => {
                    const empType = emp['type'] || emp['ROLE TYPE STD'] || 'TYPE-2';
                    const incentiveAmount = parseFloat(emp['october_incentive'] || emp['October_Incentive'] || emp['Final Incentive amount']) || 0;

                    if (typeStats[empType]) {
                        typeStats[empType].total++;
                        if (incentiveAmount > 0) {
                            typeStats[empType].eligible++;
                            typeStats[empType].amount += incentiveAmount;
                        }
                    }
                });

                // 테이블 생성
                let tableHTML = '';
                let totalAll = 0, eligibleAll = 0, amountAll = 0;

                ['TYPE-1', 'TYPE-2', 'TYPE-3'].forEach(type => {
                    const stats = typeStats[type];
                    const paymentRate = stats.total > 0 ? ((stats.eligible / stats.total) * 100).toFixed(1) : '0.0';
                    const avgEligible = stats.eligible > 0 ? Math.round(stats.amount / stats.eligible) : 0;
                    const avgTotal = stats.total > 0 ? Math.round(stats.amount / stats.total) : 0;

                    totalAll += stats.total;
                    eligibleAll += stats.eligible;
                    amountAll += stats.amount;

                    const typeClass = type === 'TYPE-1' ? 'primary' : (type === 'TYPE-2' ? 'warning' : 'success');

                    tableHTML += `
                        <tr>
                            <td><span class="badge bg-${typeClass}">${type}</span></td>
                            <td>${stats.total}명</td>
                            <td>${stats.eligible}명</td>
                            <td>${paymentRate}%</td>
                            <td>${stats.amount.toLocaleString()} VND</td>
                            <td>${avgEligible.toLocaleString()} VND</td>
                            <td>${avgTotal.toLocaleString()} VND</td>
                        </tr>
                    `;
                });

                // 합계 행 추가
                const totalPaymentRate = totalAll > 0 ? ((eligibleAll / totalAll) * 100).toFixed(1) : '0.0';
                const totalAvgEligible = eligibleAll > 0 ? Math.round(amountAll / eligibleAll) : 0;
                const totalAvgTotal = totalAll > 0 ? Math.round(amountAll / totalAll) : 0;

                tableHTML += `
                    <tr class="table-info fw-bold">
                        <td>Total</td>
                        <td>${totalAll}명</td>
                        <td>${eligibleAll}명</td>
                        <td>${totalPaymentRate}%</td>
                        <td>${amountAll.toLocaleString()} VND</td>
                        <td>${totalAvgEligible.toLocaleString()} VND</td>
                        <td>${totalAvgTotal.toLocaleString()} VND</td>
                    </tr>
                `;

                typeSummaryBody.innerHTML = tableHTML;
                console.log('TYPE table generated successfully');
            }

            // 전역 스코프에 함수 노출
            window.generateTypeTable = generateTypeTable;

            // TYPE 테이블 즉시 생성 (함수 정의 및 노출 완료 직후)
            console.log('Calling generateTypeTable immediately after definition...');
            generateTypeTable();

            // AQL Inspector Stats load (inspectors 인원 기준)
            const aqlStatsElement = document.getElementById('aqlInspectorStatsBase64');
            if (aqlStatsElement) {
                const aqlStatsBase64 = aqlStatsElement.textContent.trim();
                const aqlStatsJson = base64DecodeUnicode(aqlStatsBase64);
                window.aqlInspectorStats = JSON.parse(aqlStatsJson);
                console.log('AQL Inspector Stats loaded successfully:', Object.keys(window.aqlInspectorStats).length, 'areas');
            }

            // AQL File Stats load (검사 casescount 기준 - Table 1용)
            const aqlFileStatsElement = document.getElementById('aqlFileStatsBase64');
            if (aqlFileStatsElement) {
                const aqlFileStatsBase64 = aqlFileStatsElement.textContent.trim();
                const aqlFileStatsJson = base64DecodeUnicode(aqlFileStatsBase64);
                window.aqlFileStats = JSON.parse(aqlFileStatsJson);
                console.log('AQL File Stats loaded successfully:', Object.keys(window.aqlFileStats).length, 'areas');
            } else {
                console.warn('AQL File Stats element not found, using empty object');
                window.aqlFileStats = {};
            }

            // Auditor/Trainer Area Mapping load
            const auditorMappingElement = document.getElementById('auditorMappingBase64');
            if (auditorMappingElement) {
                const auditorMappingBase64 = auditorMappingElement.textContent.trim();
                const auditorMappingJson = base64DecodeUnicode(auditorMappingBase64);
                window.auditorAreaMapping = JSON.parse(auditorMappingJson);
                console.log('Auditor Area Mapping loaded:',
                    Object.keys(window.auditorAreaMapping.auditor_trainer_areas || {}).length, 'auditors,',
                    Object.keys(window.auditorAreaMapping.model_master?.employees || {}).length, 'model masters');
            } else {
                console.warn('Auditor Area Mapping element not found, using empty object');
                window.auditorAreaMapping = {};
            }

            // Build condition_results array from individual condition fields
            // CRITICAL FIX: Python이 이미 condition_results를 creation했다면 그것을 use
            employeeData.forEach(emp => {
                // Python에서 이미 condition_results를 creation했는지 확인
                if (!emp.condition_results || emp.condition_results.length === 0) {
                    // JavaScript에서 fallback으로 creation (Python data가 없는 경우)
                    emp.condition_results = [];

                    // Map condition names for display
                    const conditionNames = {
                        1: '출근율 (Attendance Rate)',
                        2: '무단결근 (Unapproved Absence)',
                        3: 'actual 근무일count (Actual Working Days)',
                        4: '최소 근무일count (Minimum Working Days)',
                        5: 'AQL 개인 failed (Personal AQL Failure)',
                        6: 'AQL 연속 failed (Continuous AQL Failure)',
                        7: 'AQL 팀 영역 (Team Area AQL)',
                        8: '영역 거부 (Area Reject)',
                        9: '5PRS 합격률 (5PRS Pass Rate)',
                        10: '5PRS 검사 count량 (5PRS Inspection Qty)'
                    };

                    // Process up to 10 conditions
                    for (let i = 1; i <= 10; i++) {
                        const valueField = `cond_${i}_value`;
                        const thresholdField = `cond_${i}_threshold`;

                        // statusField 먼저 확인 (CRITICAL FIX)
                        let statusField = '';
                        if (i === 1) statusField = 'cond_1_attendance_rate';
                        else if (i === 2) statusField = 'cond_2_unapproved_absence';
                        else if (i === 3) statusField = 'cond_3_actual_working_days';
                        else if (i === 4) statusField = 'cond_4_minimum_days';
                        else if (i === 5) statusField = 'cond_5_aql_personal_failure';
                        else if (i === 6) statusField = 'cond_6_aql_continuous';
                        else if (i === 7) statusField = 'cond_7_aql_team_area';
                        else if (i === 8) statusField = 'cond_8_area_reject';
                        else if (i === 9) statusField = 'cond_9_5prs_pass_rate';
                        else if (i === 10) statusField = 'cond_10_5prs_inspection_qty';

                        // statusField가 null/undefined/'N/A'/'NOT_APPLICABLE'이면 조건은 corresponding 직원에게 apply되지 않음
                        const statusValue = emp[statusField];
                        if (statusValue === null || statusValue === undefined ||
                            statusValue === 'N/A' || statusValue === 'NOT_APPLICABLE' || statusValue === '' ||
                            (typeof statusValue === 'number' && isNaN(statusValue))) {
                            // excluded_conditions: 조건 자체가 N/A이므로 추가하지 않음
                            continue;
                        }

                        // Check if this condition exists in the data
                        if (emp[valueField] !== undefined) {
                            const value = emp[valueField];
                            const threshold = emp[thresholdField];

                            // Determine if condition is met
                            let is_met = false;
                            let is_na = false;

                            // Check for N/A values
                            if (value === 'N/A' || value === null || value === '' ||
                                (typeof value === 'number' && isNaN(value))) {
                                is_na = true;
                            } else {
                                // Check if condition is met
                                if (statusValue === 'PASS') {
                                    is_met = true;
                                } else if (emp[`cond_${i}_met`] === 'PASS' || emp[`cond_${i}_met`] === true) {
                                    is_met = true;
                                }
                            }

                            // Add condition result
                            emp.condition_results.push({
                                id: i,
                                name: conditionNames[i] || `Condition ${i}`,
                                actual: value,
                                threshold: threshold,
                                is_met: is_met,
                                is_na: is_na
                            });
                        }
                    }

                    console.log(`Employee ${emp['Employee No'] || emp.employee_no} - JavaScript generated ${emp.condition_results.length} conditions`);
                } else {
                    console.log(`Employee ${emp['Employee No'] || emp.employee_no} - Using Python's ${emp.condition_results.length} conditions`);
                }
            });

            // data load 후 즉시 상단 카드 업데이트
            let totalCount = employeeData.length;
            let paidCount = 0;
            let totalAmount = 0;

            employeeData.forEach(emp => {
                const amount = parseInt(
                    emp['september_incentive'] ||
                    emp['September_Incentive'] ||
                    emp['Final Incentive amount'] ||
                    0
                );
                if (amount > 0) {
                    paidCount++;
                    totalAmount += amount;
                }
            });

            // 초기 통계 저장
            window.dashboardStats = {
                total: totalCount,
                paid: paidCount,
                amount: totalAmount,
                rate: totalCount > 0 ? (paidCount / totalCount * 100).toFixed(1) : '0.0'
            };

            console.log('초기 통계: total ' + totalCount + '직원, 지급 ' + paidCount + '직원, total액 ' + totalAmount + ' VND');

            } catch (e) {
                console.error("Failed to parse employee data:", e);
                window.employeeData = [];
                window.dashboardStats = { total: 0, paid: 0, amount: 0, rate: '0.0' };
            }

            // DOM에서 translations data read
            try {
                const translationsElement = document.getElementById('translationsData');
                if (!translationsElement) {
                    console.error('[ERROR] translationsData element not found in DOM!');
                } else {
                    translations = JSON.parse(translationsElement.textContent.trim());
                    console.log('Translations loaded successfully');
                }
            } catch (e) {
                console.error("Failed to parse translations data:", e);
            }

            // DOM에서 positionMatrix data read
            try {
                const positionMatrixElement = document.getElementById('positionMatrixData');
                if (!positionMatrixElement) {
                    console.error('[ERROR] positionMatrixData element not found in DOM!');
                } else {
                    positionMatrix = JSON.parse(positionMatrixElement.textContent.trim());
                    console.log('Position matrix loaded successfully');
                }
            } catch (e) {
                console.error("Failed to parse position matrix data:", e);
            }

            // AQL 통계 data (actual 검사 횟count)
            // AQL 통계는 이제 Excel file에서 directly use (Single Source of Truth)

            // DOM에서 Excel dashboard data read (Base64 디코딩)
            try {
                const excelDataElement = document.getElementById('excelDashboardDataBase64');
                if (!excelDataElement) {
                    console.error('[ERROR] excelDashboardDataBase64 element not found in DOM!');
                } else if (excelDataElement.textContent.trim()) {
                    const base64Data = excelDataElement.textContent.trim();
                    const jsonStr = atob(base64Data);
                    excelDashboardData = JSON.parse(jsonStr);
                    window.excelDashboardData = excelDashboardData; // Also store in window for backward compatibility

                    // attendance raw data를 전역 변count로 설정
                    if (excelDashboardData.attendance_raw_data) {
                        window.attendanceRawData = excelDashboardData.attendance_raw_data;
                        console.log('Attendance raw data loaded:', Object.keys(window.attendanceRawData).length, '직원');
                    }

                    console.log('Excel dashboard data loaded successfully');
                }
            } catch (e) {
                console.error("Failed to parse excel dashboard data:", e);
            }

            // Excel의 employee_data를 employeeData와 병합 (Single Source of Truth)
            if (excelDashboardData && excelDashboardData.employee_data) {
                const excelEmployeeMap = {};
                excelDashboardData.employee_data.forEach(excelEmp => {
                    const empNo = excelEmp['Employee No'] || excelEmp.employee_no;
                    if (empNo) {
                        excelEmployeeMap[empNo] = excelEmp;
                    }
                });

                // employeeData에 Excel data 병합
                employeeData.forEach(emp => {
                    const empNo = emp.employee_no || emp['Employee No'];
                    if (empNo && excelEmployeeMap[empNo]) {
                        const excelData = excelEmployeeMap[empNo];
                        // Excel의 Minimum_Days_Met 필드 추가
                        emp['Minimum_Days_Met'] = excelData['Minimum_Days_Met'];
                        emp['Minimum_Working_Days_Required'] = excelData['Minimum_Working_Days_Required'];
                        emp['Minimum_Days_Shortage'] = excelData['Minimum_Days_Shortage'];
                        // 기타 Excel 필드도 병합
                        emp['Actual Working Days'] = excelData['Actual Working Days'] || emp['Actual Working Days'];
                        emp['Adjusted_Total_Working_Days'] = excelData['Adjusted_Total_Working_Days'];
                        emp['Adjusted_Attendance_Rate'] = excelData['Adjusted_Attendance_Rate'];
                    }
                });
            }

            // employeeData 필드 정규화 - boss_id 매핑 추가
            employeeData.forEach(emp => {
                // 기본 필드 정규화
                emp.emp_no = String(emp.emp_no || emp['Employee No'] || '');
                emp.position = emp.position || emp['QIP POSITION 1ST  NAME'] || '';
                emp.name = emp.name || emp['Full Name'] || emp.employee_name || '';
                emp.type = emp.type || emp['ROLE TYPE STD'] || '';

                // boss_id 설정 - MST direct boss name이 actual로는 상사의 emp_no임!
                if (!emp.boss_id || emp.boss_id === '') {
                    const mstBossId = String(emp['MST direct boss name'] || '').replace('.0', '').trim();
                    if (mstBossId && mstBossId !== 'nan' && mstBossId !== '0') {
                        emp.boss_id = mstBossId;
                    }
                }
            });

            console.log('Employee data normalized. Sample:', employeeData.slice(0, 2));
            console.log('[DEBUG] DOMContentLoaded initialization complete');

        }); // End of DOMContentLoaded event listener

        // Global variables that need to be accessible outside DOMContentLoaded
        let currentLanguage = 'ko';
        let reportType = 'final'; // 전역 변count로 정의
        const dashboardMonth = 'september';
        let positionData = {}; // Position Details data를 저장할 전역 변count
        const dashboardYear = 2025;

        // 번역 함count
        function getTranslation(keyPath, lang = currentLanguage) {
            const keys = keyPath.split('.');
            let value = translations;

            try {
                for (const key of keys) {
                    if (value[key] === undefined) {
                        console.warn(`Translation key not found: ${keyPath} at segment "${key}"`);
                        return keyPath;
                    }
                    value = value[key];
                }
                if (typeof value === 'object' && value.hasOwnProperty(lang)) {
                    return value[lang];
                } else if (typeof value === 'object' && value.hasOwnProperty('ko')) {
                    return value['ko'];
                } else {
                    console.warn(`No translation found for: ${keyPath} in lang: ${lang}`);
                    return keyPath;
                }
            } catch (e) {
                console.error(`Translation error for ${keyPath}:`, e);
                return keyPath;
            }
        }

        // 모달 제목 날짜 형식 함수
        function formatModalDate(year, month, lang) {
            const monthNames = {
                ko: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
                en: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                vi: ['Tháng 1', 'Tháng 2', 'Tháng 3', 'Tháng 4', 'Tháng 5', 'Tháng 6', 'Tháng 7', 'Tháng 8', 'Tháng 9', 'Tháng 10', 'Tháng 11', 'Tháng 12']
            };

            const monthIndex = month - 1;
            const monthName = monthNames[lang] ? monthNames[lang][monthIndex] : month;

            if (lang === 'ko') {
                return `${year}년 ${monthName}`;
            } else if (lang === 'vi') {
                return `${monthName} năm ${year}`;
            } else {
                return `${monthName} ${year}`;
            }
        }

        // FAQ 예시 섹션 업데이트 함count
        function updateFAQExamples() {
            const lang = currentLanguage;
            console.log('Updating FAQ examples for language:', lang);
            
            // FAQ calculation 예시 타이틀
            const calcTitle = document.getElementById('faqCalculationExampleTitle');
            if (calcTitle) {
                calcTitle.textContent = translations.incentiveCalculation?.faq?.calculationExampleTitle?.[lang] || '📐 actual calculation 예시';
            }
            
            // Case 1 - TYPE-1 ASSEMBLY INSPECTOR
            const case1Title = document.getElementById('faqCase1Title');
            if (case1Title) {
                case1Title.textContent = translations.incentiveCalculation?.faq?.case1Title?.[lang] || '예시 1: TYPE-1 ASSEMBLY INSPECTOR (10개월 연속 work)';
            }
            
            const case1EmployeeLabel = document.getElementById('faqCase1EmployeeLabel');
            if (case1EmployeeLabel) {
                case1EmployeeLabel.textContent = translations.incentiveCalculation?.faq?.employee?.[lang] || '직원:';
            }
            
            const case1PrevMonthLabel = document.getElementById('faqCase1PrevMonthLabel');
            if (case1PrevMonthLabel) {
                case1PrevMonthLabel.textContent = translations.incentiveCalculation?.faq?.previousMonth?.[lang] || '전month 상태:';
            }
            
            const case1PrevMonthText = document.getElementById('faqCase1PrevMonthText');
            if (case1PrevMonthText) {
                const months = translations.incentiveCalculation?.faq?.consecutiveMonthsWorked?.[lang] || '개월 연속 →';
                const received = translations.incentiveCalculation?.faq?.incentiveReceived?.[lang] || 'VND 수령';
                case1PrevMonthText.textContent = `9${months} 750,000 ${received}`;
            }
            
            const case1ConditionsLabel = document.getElementById('faqCase1ConditionsLabel');
            if (case1ConditionsLabel) {
                case1ConditionsLabel.textContent = translations.incentiveCalculation?.faq?.conditionEvaluation?.[lang] || '당month 조건 충족:';
            }
            
            // Case 1 조건들 업데이트
            document.querySelectorAll('.faq-attendance-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.attendanceRateMet?.[lang] || '출근율:';
            });
            document.querySelectorAll('.faq-absence-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.unauthorizedAbsenceMet?.[lang] || '무단결근:';
            });
            document.querySelectorAll('.faq-actual-days-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.actualWorkingDays?.[lang] || 'actual 근무일:';
            });
            document.querySelectorAll('.faq-min-days-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.minimumWorkingDays?.[lang] || '최소 근무일:';
            });
            document.querySelectorAll('.faq-aql-current-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.personalAql?.[lang] || '개인 AQL (당month):';
            });
            document.querySelectorAll('.faq-aql-consecutive-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.personalAqlContinuous?.[lang] || '개인 AQL (연속):';
            });
            document.querySelectorAll('.faq-fprs-rate-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.fprsPassRate?.[lang] || '5PRS 통과율:';
            });
            document.querySelectorAll('.faq-fprs-qty-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.fprsInspection?.[lang] || '5PRS 검사량:';
            });
            
            // 값들 업데이트
            const days = translations.incentiveCalculation?.faq?.days?.[lang] || 'th';
            const items = translations.incentiveCalculation?.faq?.items?.[lang] || '개';
            
            document.querySelectorAll('.faq-absence-value').forEach(el => {
                el.textContent = '0' + days;
            });
            document.querySelectorAll('.faq-absence-limit').forEach(el => {
                el.textContent = '2' + days;
            });
            document.querySelectorAll('.faq-actual-days-value').forEach(el => {
                el.textContent = '20' + days;
            });
            document.querySelectorAll('.faq-actual-days-min').forEach(el => {
                el.textContent = '0' + days;
            });
            document.querySelectorAll('.faq-min-days-value').forEach(el => {
                el.textContent = '20' + days;
            });
            document.querySelectorAll('.faq-min-days-req').forEach(el => {
                el.textContent = '12' + days;
            });
            document.querySelectorAll('.faq-aql-current-value').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.failureText?.[lang] || 'failed 0cases';
            });
            document.querySelectorAll('.faq-aql-consecutive-value').forEach(el => {
                el.textContent = '3' + (translations.incentiveCalculation?.faq?.monthsConsecutiveNoFailure?.[lang] || '연속 개월 실패 없음');
            });
            document.querySelectorAll('.faq-fprs-qty-value').forEach(el => {
                el.textContent = '150' + items;
            });
            document.querySelectorAll('.faq-fprs-qty-min').forEach(el => {
                el.textContent = '100' + items;
            });
            
            const case1ResultLabel = document.getElementById('faqCase1ResultLabel');
            if (case1ResultLabel) {
                case1ResultLabel.textContent = translations.incentiveCalculation?.faq?.result?.[lang] || '결과:';
            }
            
            const case1ResultText = document.getElementById('faqCase1ResultText');
            if (case1ResultText) {
                const allMet = translations.incentiveCalculation?.faq?.allConditionsMet?.[lang] || '모든 조건 충족';
                const consecutive = translations.incentiveCalculation?.faq?.consecutiveMonthsWorked?.[lang] || '개월 연속 →';
                const 지급 = translations.incentiveCalculation?.faq?.incentivePayment?.[lang] || 'VND 지급';
                case1ResultText.innerHTML = `${allMet} → <span class="badge bg-success">10${consecutive} 850,000 ${지급}</span>`;
            }
            
            // Case 2 - AUDIT & TRAINING TEAM
            const case2Title = document.getElementById('faqCase2Title');
            if (case2Title) {
                case2Title.textContent = translations.incentiveCalculation?.faq?.case2Title?.[lang] || '예시 2: AUDIT & TRAINING TEAM (담당구역 reject율 calculation)';
            }
            
            const case2EmployeeLabel = document.getElementById('faqCase2EmployeeLabel');
            if (case2EmployeeLabel) {
                case2EmployeeLabel.textContent = translations.incentiveCalculation?.faq?.employee?.[lang] || '직원:';
            }
            
            const case2AreaLabel = document.getElementById('faqCase2AreaLabel');
            if (case2AreaLabel) {
                case2AreaLabel.textContent = translations.incentiveCalculation?.faq?.teamLeader?.[lang] || '담당 구역:';
            }
            
            const case2InspectionLabel = document.getElementById('faqCase2InspectionLabel');
            if (case2InspectionLabel) {
                const label = translations.incentiveCalculation?.faq?.aqlInspectionPassed?.[lang] || '구역 생산 total AQL 검사 PO count량:';
                case2InspectionLabel.textContent = 'Building B ' + label;
            }
            
            const case2InspectionQty = document.getElementById('faqCase2InspectionQty');
            if (case2InspectionQty) {
                case2InspectionQty.textContent = '100' + items;
            }
            
            const case2RejectLabel = document.getElementById('faqCase2RejectLabel');
            if (case2RejectLabel) {
                const label = translations.incentiveCalculation?.faq?.aqlRejectPo?.[lang] || '구역 생산 total AQL 리젝 PO count량:';
                case2RejectLabel.textContent = 'Building B ' + label;
            }
            
            const case2RejectQty = document.getElementById('faqCase2RejectQty');
            if (case2RejectQty) {
                case2RejectQty.textContent = '2' + items;
            }
            
            const case2CalcLabel = document.getElementById('faqCase2CalcLabel');
            if (case2CalcLabel) {
                case2CalcLabel.textContent = translations.incentiveCalculation?.faq?.calculation?.[lang] || 'calculation:';
            }
            
            const case2ResultLabel = document.getElementById('faqCase2ResultLabel');
            if (case2ResultLabel) {
                case2ResultLabel.textContent = translations.incentiveCalculation?.faq?.resultCondition?.[lang] || '결과:';
            }
            
            const case2ResultBadge = document.getElementById('faqCase2ResultBadge');
            if (case2ResultBadge) {
                case2ResultBadge.textContent = translations.incentiveCalculation?.faq?.conditionMet?.[lang] || '조건 충족';
            }
            
            // 멤버 테이블 타이틀
            const memberTableTitle = document.getElementById('faqMemberTableTitle');
            if (memberTableTitle) {
                memberTableTitle.textContent = translations.incentiveCalculation?.faq?.memberTable?.[lang] || 'AUDIT & TRAINING TEAM 멤버by 담당 구역';
            }
            
            // 테이블 헤더
            const headerName = document.getElementById('faqTableHeaderName');
            if (headerName) {
                headerName.textContent = translations.incentiveCalculation?.faq?.employeeNameLabel?.[lang] || '직원employees';
            }
            
            const headerBuilding = document.getElementById('faqTableHeaderBuilding');
            if (headerBuilding) {
                headerBuilding.textContent = translations.incentiveCalculation?.faq?.assignedBuilding?.[lang] || '담당 Building';
            }
            
            const headerDesc = document.getElementById('faqTableHeaderDesc');
            if (headerDesc) {
                headerDesc.textContent = translations.incentiveCalculation?.faq?.buildingDescription?.[lang] || '설직원';
            }
            
            const headerReject = document.getElementById('faqTableHeaderReject');
            if (headerReject) {
                headerReject.textContent = translations.incentiveCalculation?.faq?.rejectRate?.[lang] || 'Reject율';
            }
            
            // 테이블 내용
            document.querySelectorAll('.faq-building-whole').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.buildingWhole?.[lang] || 'total';
            });
            
            document.querySelectorAll('.faq-team-leader-desc').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.teamLeaderDescription?.[lang] || 'Team Leader - total Building total괄';
            });
            
            document.querySelectorAll('.faq-other-conditions').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.noMissingData?.[lang] || '기타 조건 미충족';
            });
            
            const rejectRateNote = document.getElementById('faqRejectRateNote');
            if (rejectRateNote) {
                rejectRateNote.textContent = translations.incentiveCalculation?.faq?.rejectRateNote?.[lang] || '* Reject율 기준: 3% 미만 (✅ 충족, ❌ 미충족)';
            }
            
            const memberNote = document.getElementById('faqMemberNote');
            if (memberNote) {
                const monthText = 'september' === 'september' ? '9month' : 'september' === 'august' ? '8month' : 'september' === 'july' ? 'July' : 'september';
                memberNote.textContent = translations.incentiveCalculation?.faq?.memberNote?.[lang] || `* ${monthText} 기준 모든 AUDIT & TRAINING TEAM 멤버가 reject율 조건 미충족으로 incentive 0원`;
            }
            
            // Case 3 - TYPE-2 STITCHING INSPECTOR
            const case3Title = document.getElementById('faqCase3Title');
            if (case3Title) {
                case3Title.textContent = translations.incentiveCalculation?.faq?.case3Title?.[lang] || '예시 3: TYPE-2 STITCHING INSPECTOR';
            }
            
            const case3EmployeeLabel = document.getElementById('faqCase3EmployeeLabel');
            if (case3EmployeeLabel) {
                case3EmployeeLabel.textContent = translations.incentiveCalculation?.faq?.employee?.[lang] || '직원:';
            }
            
            const case3TypeLabel = document.getElementById('faqCase3TypeLabel');
            if (case3TypeLabel) {
                case3TypeLabel.textContent = translations.incentiveCalculation?.faq?.positionType?.[lang] || '직급 type:';
            }
            
            const case3StatusLabel = document.getElementById('faqCase3StatusLabel');
            if (case3StatusLabel) {
                case3StatusLabel.textContent = translations.incentiveCalculation?.faq?.conditionStatus?.[lang] || '조건 충족 현황:';
            }
            
            // Case 3 조건들
            document.querySelectorAll('.faq-case3-attendance-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.attendanceRateMet?.[lang] || '출근율:';
            });
            document.querySelectorAll('.faq-case3-absence-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.unauthorizedAbsenceMet?.[lang] || '무단결근:';
            });
            document.querySelectorAll('.faq-case3-actual-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.actualWorkingDays?.[lang] || 'actual근무일:';
            });
            document.querySelectorAll('.faq-case3-min-label').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.minimumWorkingDays?.[lang] || '최소근무일:';
            });
            
            // Case 3 값들
            document.querySelectorAll('.faq-case3-met').forEach(el => {
                el.textContent = translations.incentiveCalculation?.faq?.conditionsMet?.[lang] || '충족';
            });
            document.querySelectorAll('.faq-case3-absence-value').forEach(el => {
                el.textContent = '0' + days;
            });
            document.querySelectorAll('.faq-case3-absence-limit').forEach(el => {
                el.textContent = '2' + days;
            });
            document.querySelectorAll('.faq-case3-actual-value').forEach(el => {
                el.textContent = '19' + days;
            });
            document.querySelectorAll('.faq-case3-actual-min').forEach(el => {
                el.textContent = '0' + days;
            });
            document.querySelectorAll('.faq-case3-min-value').forEach(el => {
                el.textContent = '19' + days;
            });
            document.querySelectorAll('.faq-case3-min-req').forEach(el => {
                el.textContent = '12' + days;
            });
            
            const case3CalcLabel = document.getElementById('faqCase3CalcLabel');
            if (case3CalcLabel) {
                case3CalcLabel.textContent = translations.incentiveCalculation?.faq?.incentiveCalculation?.[lang] || 'incentive calculation:';
            }
            
            const case3Explanation = document.getElementById('faqCase3Explanation');
            if (case3Explanation) {
                case3Explanation.textContent = translations.incentiveCalculation?.faq?.type2Explanation?.[lang] || 'TYPE-2 STITCHING INSPECTOR는 출근 조건(1-4번)만 확인하며, 모든 조건을 충족했으므로 기본 incentive를 받습니다.';
            }
            
            const case3PaymentLabel = document.getElementById('faqCase3PaymentLabel');
            if (case3PaymentLabel) {
                case3PaymentLabel.textContent = translations.incentiveCalculation?.faq?.paymentAmount?.[lang] || '지급액:';
            }
            
            const case3BasicText = document.getElementById('faqCase3BasicText');
            if (case3BasicText) {
                case3BasicText.textContent = translations.incentiveCalculation?.faq?.type2BasicIncentive?.[lang] || 'TYPE-2 기본 incentive';
            }
            
            const case3Note = document.getElementById('faqCase3Note');
            if (case3Note) {
                case3Note.textContent = translations.incentiveCalculation?.faq?.type2Note?.[lang] || '* TYPE-2는 AQL이나 5PRS 조건 without 출근 조건만으로 incentive가 determination됩니다.';
            }
        }
        
        // 출근율 calculation 방식 섹션 업데이트 함count
        function updateAttendanceSection() {
            const lang = currentLanguage;
            console.log('Updating attendance section for language:', lang);
            
            // 제목
            const title = document.getElementById('attendanceCalcTitle');
            if (title) {
                title.textContent = translations.incentive?.attendance?.title?.[lang] || '📊 출근율 calculation 방식';
            }
            
            // 공식 제목
            const formulaTitle = document.getElementById('attendanceFormulaTitle');
            if (formulaTitle) {
                formulaTitle.textContent = translations.incentive?.attendance?.formulaTitle?.[lang] || 'actual calculation 공식 (시스템 구현):';
            }
            
            // 공식들
            const formula1 = document.getElementById('attendanceFormula1');
            if (formula1) {
                formula1.textContent = translations.incentive?.attendance?.attendanceFormula?.[lang] || '출근율(%) = 100 - 결근율(%)';
            }
            
            const formula2 = document.getElementById('attendanceFormula2');
            if (formula2) {
                formula2.textContent = translations.incentive?.attendance?.absenceFormula?.[lang] || '결근율(%) = (결근 thcount / total 근무일) × 100';
            }
            
            const formulaNote = document.getElementById('attendanceFormulaNote');
            if (formulaNote) {
                formulaNote.textContent = translations.incentive?.attendance?.absenceDaysNote?.[lang] || '* 결근 thcount = total 근무일 - actual 근무일 - 승인된 휴가';
            }
            
            // 예시 제목
            const examplesTitle = document.getElementById('attendanceExamplesTitle');
            if (examplesTitle) {
                examplesTitle.textContent = translations.incentive?.attendance?.examplesTitle?.[lang] || '결근율 calculation 예시:';
            }
            
            const example1Title = document.getElementById('attendanceExample1Title');
            if (example1Title) {
                example1Title.textContent = translations.incentive?.attendance?.example1Title?.[lang] || '예시 1: 정상 work자';
            }
            
            const example2Title = document.getElementById('attendanceExample2Title');
            if (example2Title) {
                example2Title.textContent = translations.incentive?.attendance?.example2Title?.[lang] || '예시 2: 무단결근 포함';
            }
            
            const example3Title = document.getElementById('attendanceExample3Title');
            if (example3Title) {
                example3Title.textContent = translations.incentive?.attendance?.example3Title?.[lang] || '예시 3: 조건 충족 경계선';
            }
            
            // 라벨들 업데이트
            document.querySelectorAll('.att-total-days-label').forEach(el => {
                el.textContent = translations.incentive?.attendance?.totalWorkingDays?.[lang] || 'total 근무일';
            });
            document.querySelectorAll('.att-actual-days-label').forEach(el => {
                el.textContent = translations.incentive?.attendance?.actualWorkingDays?.[lang] || 'actual 근무일';
            });
            document.querySelectorAll('.att-approved-leave-label').forEach(el => {
                el.textContent = translations.incentive?.attendance?.approvedLeave?.[lang] || '승인된 휴가';
            });
            document.querySelectorAll('.att-absence-days-label').forEach(el => {
                el.textContent = translations.incentive?.attendance?.absenceDays?.[lang] || '결근 thcount';
            });
            document.querySelectorAll('.att-absence-rate-label').forEach(el => {
                el.textContent = translations.incentive?.attendance?.absenceRate?.[lang] || '결근율';
            });
            document.querySelectorAll('.att-attendance-rate-label').forEach(el => {
                el.textContent = translations.incentive?.attendance?.attendanceRate?.[lang] || '출근율';
            });
            document.querySelectorAll('.att-unauthorized-absence-label').forEach(el => {
                el.textContent = translations.incentive?.attendance?.unauthorizedAbsence?.[lang] || '무단결근';
            });
            document.querySelectorAll('.att-annual-leave').forEach(el => {
                el.textContent = translations.incentive?.attendance?.annualLeave?.[lang] || '연차';
            });
            document.querySelectorAll('.att-sick-leave').forEach(el => {
                el.textContent = translations.incentive?.attendance?.sickLeave?.[lang] || '병가';
            });
            document.querySelectorAll('.att-days-unit').forEach(el => {
                el.textContent = translations.incentive?.attendance?.days?.[lang] || 'th';
            });
            document.querySelectorAll('.att-less-than-88').forEach(el => {
                el.textContent = translations.incentive?.attendance?.lessThan88?.[lang] || '88% 미만';
            });
            document.querySelectorAll('.att-more-than-88').forEach(el => {
                el.textContent = translations.incentive?.attendance?.moreThan88?.[lang] || '88% 이상';
            });
            
            const condition2NotMet = document.getElementById('attendanceCondition2NotMet');
            if (condition2NotMet) {
                condition2NotMet.textContent = translations.incentive?.attendance?.condition2NotMet?.[lang] || '단, 무단결근 3일로 조건 2 미충족 → incentive 0원';
            }
            
            // 결근 분류 섹션
            const classificationTitle = document.getElementById('attendanceClassificationTitle');
            if (classificationTitle) {
                classificationTitle.textContent = translations.incentive?.attendance?.absenceClassificationTitle?.[lang] || '결근 사유by 분류:';
            }
            
            const notIncludedTitle = document.getElementById('attendanceNotIncludedTitle');
            if (notIncludedTitle) {
                notIncludedTitle.textContent = translations.incentive?.attendance?.notIncludedInAbsence?.[lang] || '✅ 결근율에 포함 안됨 (승인된 휴가):';
            }
            
            const includedTitle = document.getElementById('attendanceIncludedTitle');
            if (includedTitle) {
                includedTitle.textContent = translations.incentive?.attendance?.includedInAbsence?.[lang] || '❌ 결근율에 포함됨 (무단결근):';
            }
            
            // 휴가 type 번역
            document.querySelectorAll('.att-maternity-leave').forEach(el => {
                el.textContent = translations.incentive?.attendance?.maternityLeave?.[lang] || '출산휴가';
            });
            document.querySelectorAll('.att-annual-leave-vn').forEach(el => {
                el.textContent = translations.incentive?.attendance?.annualLeaveVn?.[lang] || '연차휴가';
            });
            document.querySelectorAll('.att-approved-absence').forEach(el => {
                el.textContent = translations.incentive?.attendance?.approvedAbsence?.[lang] || '승인된 휴가';
            });
            document.querySelectorAll('.att-postpartum-rest').forEach(el => {
                el.textContent = translations.incentive?.attendance?.postpartumRest?.[lang] || '출산 후 요양';
            });
            document.querySelectorAll('.att-prenatal-checkup').forEach(el => {
                el.textContent = translations.incentive?.attendance?.prenatalCheckup?.[lang] || '산전검진';
            });
            document.querySelectorAll('.att-childcare-leave').forEach(el => {
                el.textContent = translations.incentive?.attendance?.childcareLeave?.[lang] || '육아휴가';
            });
            document.querySelectorAll('.att-short-sick-leave').forEach(el => {
                el.textContent = translations.incentive?.attendance?.shortSickLeave?.[lang] || '병가';
            });
            document.querySelectorAll('.att-business-trip').forEach(el => {
                el.textContent = translations.incentive?.attendance?.businessTrip?.[lang] || '출장';
            });
            document.querySelectorAll('.att-military-service').forEach(el => {
                el.textContent = translations.incentive?.attendance?.militaryService?.[lang] || '군복무';
            });
            document.querySelectorAll('.att-card-not-swiped').forEach(el => {
                el.textContent = translations.incentive?.attendance?.cardNotSwiped?.[lang] || '출퇴근 체크 누락';
            });
            document.querySelectorAll('.att-new-employee').forEach(el => {
                el.textContent = translations.incentive?.attendance?.newEmployee?.[lang] || '신규입사 특례';
            });
            document.querySelectorAll('.att-compensatory-leave').forEach(el => {
                el.textContent = translations.incentive?.attendance?.compensatoryLeave?.[lang] || '대체휴무';
            });
            document.querySelectorAll('.att-unauthorized-absence-ar1').forEach(el => {
                el.textContent = translations.incentive?.attendance?.unauthorizedAbsenceAR1?.[lang] || '무단결근';
            });
            document.querySelectorAll('.att-written-notice-absence').forEach(el => {
                el.textContent = translations.incentive?.attendance?.writtenNoticeAbsence?.[lang] || '서면통지 결근';
            });
            
            // 카운팅 규칙
            const countingRulesTitle = document.getElementById('attendanceCountingRulesTitle');
            if (countingRulesTitle) {
                countingRulesTitle.textContent = translations.incentive?.attendance?.countingRulesTitle?.[lang] || '📢 무단결근 카운팅 규칙:';
            }
            
            const countingRule1 = document.getElementById('attendanceCountingRule1');
            if (countingRule1) {
                countingRule1.textContent = translations.incentive?.attendance?.countingRule1?.[lang] || 'AR1 카테고리만 무단결근으로 카운트';
            }
            
            const countingRule2 = document.getElementById('attendanceCountingRule2');
            if (countingRule2) {
                countingRule2.textContent = translations.incentive?.attendance?.countingRule2?.[lang] || '2일까지는 incentive 지급 가능';
            }
            
            const countingRule3 = document.getElementById('attendanceCountingRule3');
            if (countingRule3) {
                countingRule3.textContent = translations.incentive?.attendance?.countingRule3?.[lang] || '3일 이상 → incentive 0원';
            }
            
            // 조건 충족 기준
            const conditionCriteriaTitle = document.getElementById('attendanceConditionCriteriaTitle');
            if (conditionCriteriaTitle) {
                conditionCriteriaTitle.textContent = translations.incentive?.attendance?.conditionCriteriaTitle?.[lang] || '조건 충족 기준:';
            }
            
            const criteria1 = document.getElementById('attendanceCriteria1');
            if (criteria1) {
                criteria1.innerHTML = translations.incentive?.attendance?.attendanceCriteria?.[lang] || '<strong>출근율:</strong> ≥ 88% (결근율 ≤ 12%)';
            }
            
            const criteria2 = document.getElementById('attendanceCriteria2');
            if (criteria2) {
                criteria2.innerHTML = translations.incentive?.attendance?.unauthorizedAbsenceCriteria?.[lang] || '<strong>무단결근:</strong> ≤ 2일 (AR1 카테고리만 corresponding)';
            }
            
            const criteria3 = document.getElementById('attendanceCriteria3');
            if (criteria3) {
                criteria3.innerHTML = translations.incentive?.attendance?.actualWorkingDaysCriteria?.[lang] || '<strong>actual 근무일:</strong> > 0일';
            }
            
            const criteria4 = document.getElementById('attendanceCriteria4');
            if (criteria4) {
                criteria4.innerHTML = translations.incentive?.attendance?.minimumWorkingDaysCriteria?.[lang] || '<strong>최소 근무일:</strong> ≥ 12일';
            }
            
            // Unapproved Absence 설직원
            const unapprovedTitle = document.getElementById('attendanceUnapprovedTitle');
            if (unapprovedTitle) {
                unapprovedTitle.textContent = translations.incentive?.attendance?.unapprovedAbsenceExplanationTitle?.[lang] || '📊 Unapproved Absence Days 설직원:';
            }
            
            const unapproved1 = document.getElementById('attendanceUnapproved1');
            if (unapproved1) {
                unapproved1.textContent = translations.incentive?.attendance?.unapprovedAbsenceExplanation1?.[lang] || 'HR 시스템에서 제공하는 무단결근 thcount data';
            }
            
            const unapproved2 = document.getElementById('attendanceUnapproved2');
            if (unapproved2) {
                unapproved2.textContent = translations.incentive?.attendance?.unapprovedAbsenceExplanation2?.[lang] || 'AR1 (Vắng không phép) 카테고리만 집계';
            }
            
            const unapproved3 = document.getElementById('attendanceUnapproved3');
            if (unapproved3) {
                unapproved3.textContent = translations.incentive?.attendance?.unapprovedAbsenceExplanation3?.[lang] || '서면통지 결근(Gửi thư)도 AR1에 포함';
            }
            
            const unapproved4 = document.getElementById('attendanceUnapproved4');
            if (unapproved4) {
                unapproved4.textContent = translations.incentive?.attendance?.unapprovedAbsenceExplanation4?.[lang] || 'incentive 조건: ≤2일 (개인별 최대 허용치)';
            }
        }
        
        // FAQ Q&A 섹션 업데이트 함count
        function updateFAQQASection() {
            const lang = currentLanguage;
            console.log('Updating FAQ Q&A section for language:', lang);
            console.log('FAQ translations available:', translations.incentive?.faq);
            console.log('Question1 translations:', translations.incentiveCalculation?.faq?.question1);
            
            // FAQ 섹션 제목
            const faqTitle = document.getElementById('faqSectionTitle');
            if (faqTitle) {
                faqTitle.textContent = translations.incentiveCalculation?.faq?.faqSectionTitle?.[lang] || '❓ 자주 묻는 질문 (FAQ)';
            }
            
            // Q1
            const q1 = document.getElementById('faqQuestion1');
            if (q1) {
                console.log('Updating Q1, current text:', q1.textContent);
                const newText = translations.incentiveCalculation?.faq?.question1?.[lang] || 'Q1. 왜 나는 incentive를 못 받았나요? 조건을 확인하는 방법은?';
                console.log('New text for Q1:', newText);
                q1.textContent = newText;
            }
            document.getElementById('faqAnswer1Main').textContent = translations.incentiveCalculation?.faq?.answer1Main?.[lang] || 'incentive를 받지 못한 주요 이유:';
            document.getElementById('faqAnswer1Reason1').textContent = translations.incentiveCalculation?.faq?.answer1Reasons?.minDays?.[lang] || '최소 근무일 12일 미충족';
            document.getElementById('faqAnswer1Reason2').textContent = translations.incentiveCalculation?.faq?.answer1Reasons?.attendance?.[lang] || '출근율 88% 미만';
            document.getElementById('faqAnswer1Reason3').textContent = translations.incentiveCalculation?.faq?.answer1Reasons?.absence?.[lang] || '무단결근 3일 이상';
            document.getElementById('faqAnswer1Reason4').textContent = translations.incentiveCalculation?.faq?.answer1Reasons?.aql?.[lang] || 'AQL failed (corresponding 직급)';
            document.getElementById('faqAnswer1Reason5').textContent = translations.incentiveCalculation?.faq?.answer1Reasons?.fprs?.[lang] || '5PRS 통과율 95% 미만 (corresponding 직급)';
            document.getElementById('faqAnswer1CheckMethod').textContent = translations.incentiveCalculation?.faq?.answer1CheckMethod?.[lang] || '개인별 상세 페이지에서 본인의 조건 충족 여부를 확인할 count 있습니다.';
            
            // Q2
            const q2 = document.getElementById('faqQuestion2');
            if (q2) {
                q2.textContent = translations.incentiveCalculation?.faq?.question2?.[lang] || 'Q2. 무단결근이 며칠까지 허용되나요?';
            }
            document.getElementById('faqAnswer2Main').textContent = translations.incentiveCalculation?.faq?.answer2Main?.[lang] || '무단결근은 최대 2일까지 허용됩니다.';
            document.getElementById('faqAnswer2Detail').textContent = translations.incentiveCalculation?.faq?.answer2Detail?.[lang] || '3일 이상 무단결근시 corresponding month incentive를 받을 count not found. 사전 승인된 휴가나 병가는 무단결근에 포함되지 not.';
            
            // Q3
            const q3 = document.getElementById('faqQuestion3');
            if (q3) {
                q3.textContent = translations.incentiveCalculation?.faq?.question3?.[lang] || 'Q3. TYPE-2 직급의 incentive는 어떻게 calculation되나요?';
            }
            document.getElementById('faqAnswer3Main').textContent = translations.incentiveCalculation?.faq?.answer3Main?.[lang] || 'TYPE-2 직급의 incentive는 corresponding하는 TYPE-1 직급의 평균 incentive를 기준으로 calculation됩니다.';
            document.getElementById('faqAnswer3Example').textContent = translations.incentiveCalculation?.faq?.answer3Example?.[lang] || '예를 들어:';
            document.getElementById('faqAnswer3Example1').textContent = translations.incentiveCalculation?.faq?.answer3Example1?.[lang] || 'TYPE-2 GROUP LEADER는 TYPE-1 GROUP LEADER들의 평균 incentive';
            document.getElementById('faqAnswer3Example2').textContent = translations.incentiveCalculation?.faq?.answer3Example2?.[lang] || 'TYPE-2 STITCHING INSPECTOR는 TYPE-1 ASSEMBLY INSPECTOR들의 평균 incentive';
            
            // Q4
            const q4 = document.getElementById('faqQuestion4');
            if (q4) {
                q4.textContent = translations.incentiveCalculation?.faq?.question4?.[lang] || 'Q4. ASSEMBLY INSPECTOR의 연속 work 개월은 어떻게 calculation되나요?';
            }
            document.getElementById('faqAnswer4Main').textContent = translations.incentiveCalculation?.faq?.answer4Main?.[lang] || 'TYPE-1 ASSEMBLY INSPECTOR만 corresponding되며, 조건을 충족하며 incentive를 받은 개월count가 누적됩니다.';
            document.getElementById('faqAnswer4Detail1').textContent = translations.incentiveCalculation?.faq?.answer4Detail1?.[lang] || '조건 미충족으로 incentive를 못 받으면 0개월로 리셋';
            document.getElementById('faqAnswer4Detail2').textContent = translations.incentiveCalculation?.faq?.answer4Detail2?.[lang] || '12개월 이상 연속시 최대 incentive 1,000,000 VND';
            
            // Q5
            const q5 = document.getElementById('faqQuestion5');
            if (q5) {
                q5.textContent = translations.incentiveCalculation?.faq?.question5?.[lang] || 'Q5. AQL failed가 무엇이고 어떤 영향을 미치나요?';
            }
            document.getElementById('faqAnswer5Main').textContent = translations.incentiveCalculation?.faq?.answer5Main?.[lang] || 'AQL(Acceptable Quality Limit)은 품질 검사 기준입니다.';
            document.getElementById('faqAnswer5Detail1').textContent = translations.incentiveCalculation?.faq?.answer5Detail1?.[lang] || '개인 AQL failed: corresponding month에 품질 검사 failed한 경우';
            document.getElementById('faqAnswer5Detail2').textContent = translations.incentiveCalculation?.faq?.answer5Detail2?.[lang] || '3연속 개월 실패: 지난 3개월 동안 연속으로 failed한 경우';
            document.getElementById('faqAnswer5Detail3').textContent = translations.incentiveCalculation?.faq?.answer5Detail3?.[lang] || 'AQL 관련 직급만 영향받음 (INSPECTOR 계열 등)';
            
            // Q6
            const q6 = document.getElementById('faqQuestion6');
            if (q6) {
                q6.textContent = translations.incentiveCalculation?.faq?.question6?.[lang] || 'Q6. 5PRS 검사량이 부족하면 어떻게 되나요?';
            }
            document.getElementById('faqAnswer6Main').textContent = translations.incentiveCalculation?.faq?.answer6Main?.[lang] || '5PRS 관련 직급은 다음 조건을 충족해야 합니다:';
            document.getElementById('faqAnswer6Detail1').textContent = translations.incentiveCalculation?.faq?.answer6Detail1?.[lang] || '검사량 100족 이상';
            document.getElementById('faqAnswer6Detail2').textContent = translations.incentiveCalculation?.faq?.answer6Detail2?.[lang] || '통과율 95% 이상';
            document.getElementById('faqAnswer6Conclusion').textContent = translations.incentiveCalculation?.faq?.answer6Conclusion?.[lang] || '둘 중 하나라도 미충족시 incentive를 받을 count not found.';
            
            // Q7
            const q7 = document.getElementById('faqQuestion7');
            if (q7) {
                q7.textContent = translations.incentiveCalculation?.faq?.question7?.[lang] || 'Q7. 출산휴가나 병가 중에도 incentive를 받을 count 있나요?';
            }
            document.getElementById('faqAnswer7Main').textContent = translations.incentiveCalculation?.faq?.answer7Main?.[lang] || '출산휴가나 장기 병가 중에는 incentive가 지급되지 not.';
            document.getElementById('faqAnswer7Detail1').textContent = translations.incentiveCalculation?.faq?.answer7Detail1?.[lang] || '최소 근무일 12일 조건을 충족할 count 없기 때문';
            document.getElementById('faqAnswer7Detail2').textContent = translations.incentiveCalculation?.faq?.answer7Detail2?.[lang] || '복귀 후 조건 충족시 다시 incentive 수령 가능';
            document.getElementById('faqAnswer7Detail3').textContent = translations.incentiveCalculation?.faq?.answer7Detail3?.[lang] || 'ASSEMBLY INSPECTOR의 경우 연속 개월count는 0으로 리셋';
            
            // Q8
            const q8 = document.getElementById('faqQuestion8');
            if (q8) {
                q8.textContent = translations.incentiveCalculation?.faq?.question8?.[lang] || 'Q8. 전month incentive와 차이가 나는 이유는 무엇인가요?';
            }
            const answer8Main = document.getElementById('faqAnswer8Main');
            if (answer8Main) {
                answer8Main.textContent = translations.incentiveCalculation?.faq?.answer8Main?.[lang] || 'incentive 금액이 변동하는 주요 이유:';
            }
            const answer8Reason1 = document.getElementById('faqAnswer8Reason1');
            if (answer8Reason1) {
                answer8Reason1.innerHTML = `<strong>ASSEMBLY INSPECTOR</strong>: ${translations.incentiveCalculation?.faq?.answer8Reason1?.[lang] || '연속 work 개월 변화'}`;
            }
            const answer8Reason2 = document.getElementById('faqAnswer8Reason2');
            if (answer8Reason2) {
                answer8Reason2.innerHTML = `<strong>TYPE-2 ${lang === 'ko' ? '직급' : lang === 'en' ? 'positions' : 'vị trí'}</strong>: ${translations.incentiveCalculation?.faq?.answer8Reason2?.[lang] || 'TYPE-1 평균값 변동'}`;
            }
            const answer8Reason3 = document.getElementById('faqAnswer8Reason3');
            if (answer8Reason3) {
                answer8Reason3.innerHTML = `<strong>AQL INSPECTOR</strong>: ${translations.incentiveCalculation?.faq?.answer8Reason3?.[lang] || 'Part1, Part2, Part3 조건 변화'}`;
            }
            const answer8Reason4 = document.getElementById('faqAnswer8Reason4');
            if (answer8Reason4) {
                answer8Reason4.innerHTML = `<strong>${lang === 'ko' ? '조건 미충족' : lang === 'en' ? 'Unmet conditions' : 'Điều kiện không đạt'}</strong>: ${translations.incentiveCalculation?.faq?.answer8Reason4?.[lang] || '하나라도 미충족시 0'}`;
            }
            
            // Q9
            const q9 = document.getElementById('faqQuestion9');
            if (q9) {
                q9.textContent = translations.incentiveCalculation?.faq?.question9?.[lang] || 'Q9. TYPE-3에서 TYPE-2로 승진하면 incentive가 어떻게 변하나요?';
            }
            const answer9Detail1 = document.getElementById('faqAnswer9Detail1');
            if (answer9Detail1) {
                answer9Detail1.innerHTML = `<strong>TYPE-3</strong>: ${translations.incentiveCalculation?.faq?.answer9Detail1?.[lang] || '조건 without 기본 150,000 VND (work시 자동 지급)'}`;
            }
            const answer9Detail2 = document.getElementById('faqAnswer9Detail2');
            if (answer9Detail2) {
                answer9Detail2.innerHTML = `<strong>TYPE-2</strong>: ${translations.incentiveCalculation?.faq?.answer9Detail2?.[lang] || '조건 충족 필요, TYPE-1 평균 기준 calculation'}`;
            }
            const answer9Detail3 = document.getElementById('faqAnswer9Detail3');
            if (answer9Detail3) {
                answer9Detail3.textContent = translations.incentiveCalculation?.faq?.answer9Detail3?.[lang] || '승진 후 조건 충족시 th반적으로 incentive 증가';
            }
            const answer9Detail4 = document.getElementById('faqAnswer9Detail4');
            if (answer9Detail4) {
                answer9Detail4.textContent = translations.incentiveCalculation?.faq?.answer9Detail4?.[lang] || '하지만 조건 미충족시 0이 될 count 있으므로 주의 필요';
            }
            
            // Q10
            const q10 = document.getElementById('faqQuestion10');
            if (q10) {
                q10.textContent = translations.incentiveCalculation?.faq?.question10?.[lang] || 'Q10. 조건을 모두 충족했는데도 incentive가 0인 이유는 무엇인가요?';
            }
            const answer10Main = document.getElementById('faqAnswer10Main');
            if (answer10Main) {
                answer10Main.textContent = translations.incentiveCalculation?.faq?.answer10Main?.[lang] || '다음 사항을 재확인해 보세요:';
            }
            const answer10Reason1 = document.getElementById('faqAnswer10Reason1');
            if (answer10Reason1) {
                answer10Reason1.innerHTML = `<strong>${lang === 'ko' ? '숨겨진 조건' : lang === 'en' ? 'Hidden conditions' : 'Điều kiện ẩn'}</strong>: ${translations.incentiveCalculation?.faq?.answer10Reason1?.[lang]?.replace(/.*: (.*)/, '$1') || '직급별로 apply되는 모든 조건 확인'}`;
            }
            const answer10Reason2 = document.getElementById('faqAnswer10Reason2');
            if (answer10Reason2) {
                answer10Reason2.innerHTML = `<strong>${lang === 'ko' ? '데이터 업데이트' : lang === 'en' ? 'Data update' : 'Cập nhật dữ liệu'}</strong>: ${translations.incentiveCalculation?.faq?.answer10Reason2?.[lang]?.replace(/.*: (.*)/, '$1') || '최신 data 반영 여부'}`;
            }
            const answer10Reason3 = document.getElementById('faqAnswer10Reason3');
            if (answer10Reason3) {
                answer10Reason3.innerHTML = `<strong>${lang === 'ko' ? '특별한 사유' : lang === 'en' ? 'Special reasons' : 'Lý do đặc biệt'}</strong>: ${translations.incentiveCalculation?.faq?.answer10Reason3?.[lang]?.replace(/.*: (.*)/, '$1') || '징계, 경고 등 특별 사유'}`;
            }
            const answer10Reason4 = document.getElementById('faqAnswer10Reason4');
            if (answer10Reason4) {
                answer10Reason4.innerHTML = `<strong>${lang === 'ko' ? '시스템 오류' : lang === 'en' ? 'System error' : 'Lỗi hệ thống'}</strong>: ${translations.incentiveCalculation?.faq?.answer10Reason4?.[lang]?.replace(/.*: (.*)/, '$1') || 'HR 부서에 문의'}`;
            }
            const answer10Conclusion = document.getElementById('faqAnswer10Conclusion');
            if (answer10Conclusion) {
                answer10Conclusion.textContent = translations.incentiveCalculation?.faq?.answer10Conclusion?.[lang] || '개인별 상세 페이지에서 조건별 충족 여부를 상세히 확인하시기 바랍니다.';
            }

            // FAQ Q11 translations
            const q11 = document.getElementById('faqQuestion11');
            if (q11) {
                q11.textContent = translations.incentiveCalculation?.faq?.question11?.[lang] || 'Q11. TYPE-2 GROUP LEADER가 incentive를 못 받는 경우가 있나요?';
            }
            const answer11Main = document.getElementById('faqAnswer11Main');
            if (answer11Main) {
                answer11Main.textContent = translations.incentiveCalculation?.faq?.answer11Main?.[lang] || 'TYPE-2 GROUP LEADER는 특별한 calculation 규칙이 apply됩니다:';
            }
            const answer11Detail1 = document.getElementById('faqAnswer11Detail1');
            if (answer11Detail1) {
                const baseCalc = translations.incentiveCalculation?.faq?.answer11Detail1?.[lang] || '기본 calculation: TYPE-1 GROUP LEADER 평균 incentive를 받습니다';
                answer11Detail1.innerHTML = `<strong>${baseCalc.split(':')[0]}:</strong> ${baseCalc.split(':')[1] || ''}`;
            }
            const answer11Detail2 = document.getElementById('faqAnswer11Detail2');
            if (answer11Detail2) {
                const indepCalc = translations.incentiveCalculation?.faq?.answer11Detail2?.[lang] || '독립 calculation: TYPE-1 GROUP LEADER 평균이 0 VNDth 경우, 자동으로 total TYPE-2 LINE LEADER 평균 × 2로 calculation됩니다';
                answer11Detail2.innerHTML = `<strong>${indepCalc.split(':')[0]}:</strong> ${indepCalc.split(':')[1] || ''}`;
            }
            const answer11Detail3 = document.getElementById('faqAnswer11Detail3');
            if (answer11Detail3) {
                const improvement = translations.incentiveCalculation?.faq?.answer11Detail3?.[lang] || '개선 사항: 부하직원 관계와 상관without total TYPE-2 LINE LEADER 평균을 use하여 더 공정한 calculation이 이루어집니다';
                answer11Detail3.innerHTML = `<strong>${improvement.split(':')[0]}:</strong> ${improvement.split(':')[1] || ''}`;
            }
            const answer11Detail4 = document.getElementById('faqAnswer11Detail4');
            if (answer11Detail4) {
                const conditions = translations.incentiveCalculation?.faq?.answer11Detail4?.[lang] || '조건: TYPE-2는 출근 조건(1-4번)만 충족하면 incentive를 받을 count 있습니다';
                answer11Detail4.innerHTML = `<strong>${conditions.split(':')[0]}:</strong> ${conditions.split(':')[1] || ''}`;
            }
            const answer11Conclusion = document.getElementById('faqAnswer11Conclusion');
            if (answer11Conclusion) {
                answer11Conclusion.textContent = translations.incentiveCalculation?.faq?.answer11Conclusion?.[lang] || '따라서 출근 조건을 충족한 TYPE-2 GROUP LEADER는 항상 incentive를 받을 count 있도록 보장됩니다.';
            }

            // TYPE-2 GROUP LEADER Special Calculation Box translations
            const type2SpecialTitle = document.getElementById('type2GroupLeaderSpecialTitle');
            if (type2SpecialTitle) {
                type2SpecialTitle.textContent = translations.type2GroupLeaderSpecial?.title?.[lang] || '⚠️ TYPE-2 GROUP LEADER 특별 calculation 규칙';
            }
            const type2BaseCalc = document.getElementById('type2BaseCalc');
            if (type2BaseCalc) {
                const baseText = translations.type2GroupLeaderSpecial?.baseCalculation?.[lang] || '기본 calculation: TYPE-1 GROUP LEADER 평균 incentive use';
                type2BaseCalc.innerHTML = `<strong>${baseText.split(':')[0]}:</strong> ${baseText.split(':')[1] || ''}`;
            }
            const type2IndependentCalc = document.getElementById('type2IndependentCalc');
            if (type2IndependentCalc) {
                const indepText = translations.type2GroupLeaderSpecial?.independentCalculation?.[lang] || 'TYPE-1 평균이 0 VND인 경우: 모든 TYPE-2 LINE LEADER 평균 × 2로 독립 calculation';
                type2IndependentCalc.innerHTML = `<strong>${indepText.split(':')[0]}:</strong> ${indepText.split(':')[1] || ''}`;
            }
            const type2Important = document.getElementById('type2Important');
            if (type2Important) {
                const importantText = translations.type2GroupLeaderSpecial?.important?.[lang] || '중요: 부하직원 관계 without total TYPE-2 LINE LEADER 평균 use';
                type2Important.innerHTML = `<strong>${importantText.split(':')[0]}:</strong> ${importantText.split(':')[1] || ''}`;
            }
            const type2Conditions = document.getElementById('type2Conditions');
            if (type2Conditions) {
                const conditionsText = translations.type2GroupLeaderSpecial?.conditions?.[lang] || 'apply 조건: TYPE-2는 출근 조건(1-4번)만 충족하면 incentive 지급';
                type2Conditions.innerHTML = `<strong>${conditionsText.split(':')[0]}:</strong> ${conditionsText.split(':')[1] || ''}`;
            }

            // Talent Pool 섹션 번역 업데이트
            const talentPoolTitle = document.getElementById('talentPoolTitle');
            if (talentPoolTitle) {
                talentPoolTitle.textContent = getTranslation('talentPool.title', lang);
            }

            const talentPoolMemberCountLabel = document.getElementById('talentPoolMemberCountLabel');
            if (talentPoolMemberCountLabel) {
                talentPoolMemberCountLabel.textContent = getTranslation('talentPool.memberCount', lang);
            }

            const talentPoolMonthlyBonusLabel = document.getElementById('talentPoolMonthlyBonusLabel');
            if (talentPoolMonthlyBonusLabel) {
                talentPoolMonthlyBonusLabel.textContent = getTranslation('talentPool.monthlyBonus', lang);
            }

            const talentPoolTotalBonusLabel = document.getElementById('talentPoolTotalBonusLabel');
            if (talentPoolTotalBonusLabel) {
                // totalBonus 키가 없으므로 fallback 사용
                talentPoolTotalBonusLabel.textContent = getTranslation('talentPool.totalBenefit', lang) ||
                    (lang === 'ko' ? '총 보너스 지급액' : lang === 'en' ? 'Total Bonus Amount' : 'Tổng tiền thưởng');
            }

            const talentPoolPaymentPeriodLabel = document.getElementById('talentPoolPaymentPeriodLabel');
            if (talentPoolPaymentPeriodLabel) {
                // paymentPeriod 키가 없으므로 직접 번역
                talentPoolPaymentPeriodLabel.textContent = lang === 'ko' ? '지급 기간' :
                    lang === 'en' ? 'Payment Period' : 'Thời gian thanh toán';
            }
            
            // 조직도 탭 번역 업데이트
            const tabOrgChart = document.getElementById('tabOrgChart');
            if (tabOrgChart) {
                tabOrgChart.textContent = getTranslation('tabs.orgChart', currentLanguage);
            }

            // 조직도 제목 및 부제
            const orgChartTitle = document.getElementById('orgChartTitle');
            if (orgChartTitle) {
                orgChartTitle.textContent = getTranslation('orgChart.title', currentLanguage);
            }

            const orgChartSubtitle = document.getElementById('orgChartSubtitle');
            if (orgChartSubtitle) {
                orgChartSubtitle.textContent = getTranslation('orgChart.subtitle', currentLanguage);
            }

            // use 안내 텍스트
            const usageGuideTitle = document.getElementById('usageGuideTitle');
            if (usageGuideTitle) {
                usageGuideTitle.textContent = getTranslation('orgChart.usageGuide.title', currentLanguage);
            }
            const usageGuideText = document.getElementById('usageGuideText');
            if (usageGuideText) {
                const text = getTranslation('orgChart.usageGuide.text', currentLanguage);
                const subtext = getTranslation('orgChart.usageGuide.subtext', currentLanguage);
                usageGuideText.innerHTML = text + ' <span class="badge bg-primary">ℹ️</span> ' + subtext;
            }
            const usageGuideHelpText = document.getElementById('usageGuideHelpText');
            if (usageGuideHelpText) {
                usageGuideHelpText.textContent = getTranslation('orgChart.helpText', currentLanguage);
            }

            // 버튼 텍스트 - span 요소 내부의 텍스트만 업데이트
            const expandAllBtnSpan = document.querySelector('#expandAllBtn');
            if (expandAllBtnSpan) {
                const iconElement = expandAllBtnSpan.parentElement.querySelector('i');
                expandAllBtnSpan.textContent = getTranslation('orgChart.buttons.expandAll', currentLanguage);
            }
            const collapseAllBtnSpan = document.querySelector('#collapseAllBtn');
            if (collapseAllBtnSpan) {
                const iconElement = collapseAllBtnSpan.parentElement.querySelector('i');
                collapseAllBtnSpan.textContent = getTranslation('orgChart.buttons.collapseAll', currentLanguage);
            }
            const resetViewBtnSpan = document.querySelector('#resetViewBtn');
            if (resetViewBtnSpan) {
                const iconElement = resetViewBtnSpan.parentElement.querySelector('i');
                resetViewBtnSpan.textContent = getTranslation('orgChart.buttons.reset', currentLanguage);
            }

            // 모달 내부 텍스트 번역
            document.querySelectorAll('.modal-actual-incentive').forEach(elem => {
                elem.textContent = getTranslation('orgChart.modalLabels.actualIncentive', currentLanguage);
            });
            document.querySelectorAll('.modal-calc-method').forEach(elem => {
                elem.textContent = getTranslation('orgChart.modalLabels.calculationMethod', currentLanguage);
            });
            document.querySelectorAll('.modal-no-지급-reason').forEach(elem => {
                elem.textContent = getTranslation('orgChart.modalLabels.noPaymentReason', currentLanguage);
            });
            document.querySelectorAll('.modal-calc-detail-line-leader').forEach(elem => {
                elem.textContent = getTranslation('orgChart.modalLabels.calcDetailLineLeader', currentLanguage);
            });
            document.querySelectorAll('.modal-close-btn').forEach(elem => {
                elem.textContent = getTranslation('orgChart.buttons.close', currentLanguage);
            });
            document.querySelectorAll('.modal-team-line-leader-list').forEach(elem => {
                elem.textContent = getTranslation('modal.teamLineLeaderList', currentLanguage);
            });
            document.querySelectorAll('.modal-team-line-leader-count').forEach(elem => {
                elem.textContent = getTranslation('modal.teamLineLeaderCount', currentLanguage);
            });
            document.querySelectorAll('.modal-calc-detail-line-leader').forEach(elem => {
                elem.textContent = getTranslation('modal.calcDetailLineLeader', currentLanguage);
            });
            document.querySelectorAll('.modal-calc-detail-group-leader').forEach(elem => {
                elem.textContent = getTranslation('modal.calcDetailGroupLeader', currentLanguage);
            });
            document.querySelectorAll('.modal-calc-detail-supervisor').forEach(elem => {
                elem.textContent = getTranslation('modal.calcDetailSupervisor', currentLanguage);
            });
            document.querySelectorAll('.modal-calc-detail-amanager').forEach(elem => {
                elem.textContent = getTranslation('modal.calcDetailAManager', currentLanguage);
            });
            document.querySelectorAll('.modal-calc-detail-manager').forEach(elem => {
                elem.textContent = getTranslation('modal.calcDetailManager', currentLanguage);
            })

            // 조직도 안내 텍스트
            const orgChartNoteLabel = document.getElementById('orgChartNoteLabel');
            if (orgChartNoteLabel) {
                orgChartNoteLabel.textContent = getTranslation('orgChart.noteLabel', currentLanguage);
            }

            const orgChartExcludedPositions = document.getElementById('orgChartExcludedPositions');
            if (orgChartExcludedPositions) {
                orgChartExcludedPositions.textContent = getTranslation('orgChart.excludedPositions', currentLanguage);
            }

            const orgChartHelpText = document.getElementById('orgChartHelpText');
            if (orgChartHelpText) {
                orgChartHelpText.textContent = getTranslation('orgChart.helpText', currentLanguage);
            }

            // 조직도 필터 옵션 업데이트
            const filterAll = document.getElementById('filterAll');
            if (filterAll) filterAll.textContent = getTranslation('orgChart.filters.viewAll', currentLanguage);

            const filterPaid = document.getElementById('filterPaid');
            if (filterPaid) filterPaid.textContent = getTranslation('orgChart.filters.paidOnly', currentLanguage);

            const filterUnpaid = document.getElementById('filterUnpaid');
            if (filterUnpaid) filterUnpaid.textContent = getTranslation('orgChart.filters.unpaidOnly', currentLanguage);

            // 조직도 범례 업데이트
            const legendReceived = document.getElementById('legendReceived');
            if (legendReceived) legendReceived.textContent = getTranslation('orgChart.incentiveReceived', currentLanguage);

            const legendNotReceived = document.getElementById('legendNotReceived');
            if (legendNotReceived) legendNotReceived.textContent = getTranslation('orgChart.incentiveNotReceived', currentLanguage);

            const legendIncentiveReceived = document.getElementById('legendIncentiveReceived');
            if (legendIncentiveReceived) legendIncentiveReceived.textContent = getTranslation('orgChart.incentiveReceived', currentLanguage);

            const legendNoIncentive = document.getElementById('legendNoIncentive');
            if (legendNoIncentive) legendNoIncentive.textContent = getTranslation('orgChart.incentiveNotReceived', currentLanguage);

            // 조직도가 이미 그려져 있다면 다시 그리기
            if (typeof updateOrgChart === 'function' && document.getElementById('orgTreeContent').innerHTML !== '') {
                updateOrgChart();
            }

            // 테이블 재creation하여 툴팁 번역 apply
            generateEmployeeTable();
            updatePositionFilter();
        }
        
        // 언어 변경 함count
        function changeLanguage(lang) {
            currentLanguage = lang;
            updateAllTexts();
            updateTypeSummaryTable();  // Typeby 요약 테이블도 업데이트
            localStorage.setItem('dashboardLanguage', lang);
        }
        
        // dashboard 변경 함count
        function changeDashboard(type) {
            const currentMonth = '09';  // month 번호를 2자리로 패딩
            const currentYear = '2025';
            
            switch(type) {
                case 'management':
                    // Management Dashboard로 이동
                    window.location.href = `management_dashboard_${currentYear}_${currentMonth}.html`;
                    break;
                case 'statistics':
                    // Statistics Dashboard로 이동 (향후 구현)
                    alert('Statistics Dashboard는 준비 중입니다.');
                    document.getElementById('dashboardSelector').value = 'incentive';
                    break;
                case 'incentive':
                default:
                    // 현재 페이지 유지
                    break;
            }
        }
        
        // 모든 텍스트 업데이트 - 완전한 구현
        function updateAllTexts() {
            // 메인 헤더 업데이트
            const mainTitleElement = document.getElementById('mainTitle');
            if (mainTitleElement) {
                mainTitleElement.innerHTML = getTranslation('headers.mainTitle', currentLanguage) + ' <span class="version-badge">V8.02</span>';
            }
            
            // 날짜 관련 업데이트
            const yearText = '2025';
            const monthText = currentLanguage === 'ko' ? '9월' :
                              currentLanguage === 'en' ? 'September' :
                              'Tháng 9';

            const mainSubtitle = document.getElementById('mainSubtitle');
            if (mainSubtitle) {
                const yearUnit = currentLanguage === 'ko' ? '년' : '';
                const incentiveText = getTranslation('headers.incentiveStatus', currentLanguage);
                mainSubtitle.innerHTML = yearText + yearUnit + ' ' + monthText + ' ' + incentiveText;
            }
            
            const generationDate = document.getElementById('generationDate');
            if (generationDate) {
                const dateLabel = getTranslation('headers.reportDateLabel', currentLanguage);
                const year = generationDate.getAttribute('data-year');
                const month = generationDate.getAttribute('data-month');
                const day = generationDate.getAttribute('data-day');
                const hour = generationDate.getAttribute('data-hour');
                const minute = generationDate.getAttribute('data-minute');
                
                let formattedDate;
                if (currentLanguage === 'ko') {
                    formattedDate = `${year}년 ${month}월 ${day}일 ${hour}:${minute}`;
                } else if (currentLanguage === 'en') {
                    const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                    formattedDate = `${monthNames[parseInt(month)-1]} ${day}, ${year} ${hour}:${minute}`;
                } else {
                    formattedDate = `${day}/${month}/${year} ${hour}:${minute}`;
                }
                generationDate.innerHTML = dateLabel + ' ' + formattedDate;
            }

            // data 기간 섹션 업데이트
            const dataPeriodTitle = document.getElementById('dataPeriodTitle');
            if (dataPeriodTitle) {
                dataPeriodTitle.innerHTML = getTranslation('headers.dataPeriod.title', currentLanguage);
            }

            // 각 data 기간 항목 업데이트
            const dataPeriodItems = [
                {id: 'incentiveDataPeriod', key: 'incentiveData'},
                {id: 'attendanceDataPeriod', key: 'attendanceData'},
                {id: 'aqlDataPeriod', key: 'aqlData'},
                {id: '5prsDataPeriod', key: '5prsData'},
                {id: 'manpowerDataPeriod', key: 'manpowerData'}
            ];

            dataPeriodItems.forEach(item => {
                const element = document.getElementById(item.id);
                if (element) {
                    const year = element.getAttribute('data-year');
                    const month = element.getAttribute('data-month');
                    const startDay = element.getAttribute('data-startday');
                    const endDay = element.getAttribute('data-endday');
                    const dataLabel = getTranslation('headers.dataPeriod.' + item.key, currentLanguage);

                    let periodText;
                    if (item.key === 'manpowerData') {
                        // 기본 인력 데이터는 월 기준만 표시
                        if (currentLanguage === 'ko') {
                            periodText = `• ${dataLabel}: ${year}년 ${month}월 기준`;
                        } else if (currentLanguage === 'en') {
                            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                            periodText = `• ${dataLabel}: Based on ${monthNames[parseInt(month)-1]} ${year}`;
                        } else {
                            periodText = `• ${dataLabel}: Dựa trên tháng ${month}/${year}`;
                        }
                    } else {
                        // 다른 데이터는 기간 표시
                        if (currentLanguage === 'ko') {
                            periodText = `• ${dataLabel}: ${year}년 ${month}월 ${startDay}일 ~ ${endDay}일`;
                        } else if (currentLanguage === 'en') {
                            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                            periodText = `• ${dataLabel}: ${monthNames[parseInt(month)-1]} ${startDay} - ${endDay}, ${year}`;
                        } else {
                            periodText = `• ${dataLabel}: ${startDay}/${month} - ${endDay}/${month}/${year}`;
                        }
                    }
                    element.innerHTML = periodText;
                }
            });

            // 요약 카드 라벨 업데이트
            const cardLabels = {
                'totalEmployeesLabel': 'summary.cards.totalEmployees',
                'paidEmployeesLabel': 'summary.cards.paidEmployees',
                'eligibleEmployeesLabel': 'summary.cards.eligibleEmployees',
                'paymentRateLabel': 'summary.cards.paymentRate',
                'totalAmountLabel': 'summary.cards.totalAmount'
            };
            
            for (const [id, key] of Object.entries(cardLabels)) {
                const elem = document.getElementById(id);
                if (elem) elem.textContent = getTranslation(key, currentLanguage);
            }
            
            // 단위 업데이트 - getUnit 함count use
            const totalEmployeesUnit = document.getElementById('totalEmployeesUnit');
            const paidEmployeesUnit = document.getElementById('paidEmployeesUnit');

            if (totalEmployeesUnit) {
                totalEmployeesUnit.textContent = getUnit('people');
            }

            if (paidEmployeesUnit) {
                paidEmployeesUnit.textContent = getUnit('people');
            }
            
            // 탭 메뉴 업데이트
            const tabs = {
                'tabSummary': 'tabs.summary',
                'tabPosition': 'tabs.position',
                'tabIndividual': 'tabs.individual',
                'tabCriteria': 'tabs.criteria',
                'tabOrgChart': 'tabs.orgChart',
                'tabValidation': 'tabs.validation'
            };
            
            for (const [id, key] of Object.entries(tabs)) {
                const elem = document.getElementById(id);
                if (elem) elem.textContent = getTranslation(key, currentLanguage);
            }
            
            // 탭 컨텐츠 제목 업데이트
            const tabTitles = {
                'summaryTabTitle': 'summary.typeTable.title',
                'positionTabTitle': 'position.title',
                'individualDetailTitle': 'individual.title',
                'validationTabTitle': 'tabs.validation'
            };
            
            for (const [id, key] of Object.entries(tabTitles)) {
                const elem = document.getElementById(id);
                if (elem) elem.textContent = getTranslation(key, currentLanguage);
            }
            
            // 요약 테이블 헤더 업데이트
            const summaryHeaders = {
                'summaryTypeHeader': 'summary.typeTable.columns.type',
                'summaryTotalHeader': 'summary.typeTable.columns.totalEmployees',
                'summaryEligibleHeader': 'summary.typeTable.columns.eligible',
                'summaryPaymentRateHeader': 'summary.typeTable.columns.paymentRate',
                'summaryTotalAmountHeader': 'summary.typeTable.columns.totalAmount',
                'summaryAvgAmountHeader': 'summary.cards.avgAmount',
                'summaryAvgEligibleHeader': 'summary.chartLabels.recipientBased',
                'summaryAvgTotalHeader': 'summary.chartLabels.totalBased'
            };
            
            for (const [id, key] of Object.entries(summaryHeaders)) {
                const elem = document.getElementById(id);
                if (elem) elem.textContent = getTranslation(key, currentLanguage);
            }
            
            // 개인별 상세 테이블 헤더 업데이트
            const individualHeaders = {
                'empIdHeader': 'individual.table.columns.employeeId',
                'nameHeader': 'individual.table.columns.name',
                'positionHeader': 'individual.table.columns.position',
                'typeHeader': 'individual.table.columns.type',
                'statusHeader': 'individual.table.columns.status',
                'detailsHeader': 'individual.table.columns.details'
            };
            
            for (const [id, key] of Object.entries(individualHeaders)) {
                const elem = document.getElementById(id);
                if (elem) elem.textContent = getTranslation(key, currentLanguage);
            }

            // monthby 헤더 동적 업데이트
            const prevMonthHeader = document.getElementById('prevMonthHeader');
            const currentMonthHeader = document.getElementById('currentMonthHeader');

            // Previous month과 현재 month 이름 설정
            const prevMonthName = 'august';
            const currentMonthName = 'september';

            // AQL Failures 컬럼명 (현재 월 기준으로 동적 생성)
            const aqlFailuresColumn = currentMonthName.charAt(0).toUpperCase() + currentMonthName.slice(1) + ' AQL Failures';
            window.aqlFailuresColumn = aqlFailuresColumn; // 전역 변수로 저장

            if (prevMonthHeader) {
                if (currentLanguage === 'ko') {
                    prevMonthHeader.textContent = '8월';
                } else if (currentLanguage === 'en') {
                    prevMonthHeader.textContent = prevMonthName.charAt(0).toUpperCase() + prevMonthName.slice(1);
                } else {
                    // Vietnamese
                    const monthNum = {'january': 1, 'february': 2, 'march': 3, 'april': 4, 'may': 5, 'june': 6, 'july': 7, 'august': 8, 'september': 9, 'october': 10, 'november': 11, 'december': 12}[prevMonthName.toLowerCase()];
                    prevMonthHeader.textContent = 'Tháng ' + monthNum;
                }
            }

            if (currentMonthHeader) {
                if (currentLanguage === 'ko') {
                    currentMonthHeader.textContent = '9월';
                } else if (currentLanguage === 'en') {
                    currentMonthHeader.textContent = currentMonthName.charAt(0).toUpperCase() + currentMonthName.slice(1);
                } else {
                    // Vietnamese
                    const monthNum = {'january': 1, 'february': 2, 'march': 3, 'april': 4, 'may': 5, 'june': 6, 'july': 7, 'august': 8, 'september': 9, 'october': 10, 'november': 11, 'december': 12}[currentMonthName.toLowerCase()];
                    currentMonthHeader.textContent = 'Tháng ' + monthNum;
                }
            }
            
            // 필터 업데이트
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.placeholder = getTranslation('individual.filters.search', currentLanguage);
            }
            
            // 필터 옵션 텍스트 업데이트
            const optAllTypes = document.getElementById('optAllTypes');
            if (optAllTypes) optAllTypes.textContent = getTranslation('individual.filters.allTypes', currentLanguage);
            
            const optPaymentAll = document.getElementById('optPaymentAll');
            if (optPaymentAll) optPaymentAll.textContent = getTranslation('individual.filters.allStatus', currentLanguage);
            
            const optPaymentPaid = document.getElementById('optPaymentPaid');
            if (optPaymentPaid) optPaymentPaid.textContent = getTranslation('status.paid', currentLanguage);
            
            const optPaymentUnpaid = document.getElementById('optPaymentUnpaid');
            if (optPaymentUnpaid) optPaymentUnpaid.textContent = getTranslation('status.unpaid', currentLanguage);
            
            // Report Type Banner 업데이트
            const reportTypeBanner = document.getElementById('reportTypeBanner');
            if (reportTypeBanner) {
                const isInterim = false;
                reportType = isInterim ? 'interim' : 'final'; // const 제거, 전역 변count use

                // Title 업데이트
                const reportTypeTitle = document.getElementById('reportTypeTitle');
                if (reportTypeTitle) {
                    reportTypeTitle.textContent = getTranslation('reportTypeBanner.' + reportType + '.title', currentLanguage);
                }

                // Description 업데이트
                const reportTypeDesc = document.getElementById('reportTypeDesc');
                if (reportTypeDesc) {
                    reportTypeDesc.textContent = getTranslation('reportTypeBanner.' + reportType + '.description', currentLanguage);
                }

                // Generated on date 업데이트
                const generatedText = getTranslation('reportTypeBanner.generatedOn', currentLanguage);
                const dayText = currentLanguage === 'ko' ? '14th' :
                               currentLanguage === 'en' ? 'Day 14' :
                               'Ngày 14';
                const dateSpan = reportTypeBanner.querySelector('span[style*="font-size: 0.85rem"]');
                if (dateSpan) {
                    dateSpan.textContent = generatedText + ': ' + dayText;
                }
            }

            // Summary 테이블의 "직원" 단위 업데이트
            const typeSummaryBody = document.getElementById('typeSummaryBody');
            if (typeSummaryBody) {
                const rows = typeSummaryBody.querySelectorAll('tr');
                rows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    // 2번째 칼럼 (Total)과 3번째 칼럼 (Eligible)에 "직원" 단위가 있음
                    if (cells.length > 2) {
                        // Total 칼럼 - 모든 available 단위를 체크
                        const totalText = cells[1].textContent;
                        if (totalText.includes('직원') || totalText.includes('people') || totalText.includes('người')) {
                            // 숫자만 추출
                            const number = totalText.replace(/[^\\d]/g, '');
                            cells[1].textContent = number + getTranslation('common.people', currentLanguage);
                        }
                        // Eligible 칼럼 - 모든 available 단위를 체크
                        const eligibleText = cells[2].textContent;
                        if (eligibleText.includes('직원') || eligibleText.includes('people') || eligibleText.includes('người')) {
                            // 숫자만 추출
                            const number = eligibleText.replace(/[^\d]/g, '');
                            cells[2].textContent = number + getTranslation('common.people', currentLanguage);
                        }
                    }
                });
            }
            
            // incentive 기준 탭 텍스트 업데이트
            updateCriteriaTabTexts();
            
            // Talent Program 섹션 텍스트 업데이트
            updateTalentProgramTexts();

            // Org Chart 텍스트 업데이트
            updateOrgChartUIText();

            // 차트 업데이트 (차트가 있는 경우)
            if (window.pieChart) {
                updateChartLabels();
            }
            
            // 직급별 테이블 및 개인별 테이블 재creation
            updateTabContents();
        }
        
        // 탭 콘텐츠 업데이트
        function updateTabContents() {
            // 개by 테이블 재creation
            generateEmployeeTable();
            generatePositionTables();
        }
        
        // incentive 기준 탭 텍스트 업데이트 - 완전한 동적 번역
        function updateCriteriaTabTexts() {
            // 메인 제목
            const criteriaTitle = document.getElementById('criteriaMainTitle');
            if (criteriaTitle) {
                criteriaTitle.textContent = getTranslation('criteria.mainTitle', currentLanguage);
            }
            
            // 핵심 principle 섹션
            const corePrinciplesTitle = document.getElementById('corePrinciplesTitle');
            if (corePrinciplesTitle) {
                corePrinciplesTitle.innerHTML = getTranslation('criteria.corePrinciples.title', currentLanguage);
            }
            
            const corePrinciplesDesc1 = document.getElementById('corePrinciplesDesc1');
            if (corePrinciplesDesc1) {
                corePrinciplesDesc1.innerHTML = getTranslation('criteria.corePrinciples.description1', currentLanguage);
            }
            
            const corePrinciplesDesc2 = document.getElementById('corePrinciplesDesc2');
            if (corePrinciplesDesc2) {
                corePrinciplesDesc2.innerHTML = getTranslation('criteria.corePrinciples.description2', currentLanguage);
            }
            
            // 10가지 평가 조건 제목
            const evaluationTitle = document.getElementById('evaluationConditionsTitle');
            if (evaluationTitle) {
                evaluationTitle.textContent = getTranslation('criteria.evaluationConditions.title', currentLanguage);
            }
            
            // 테이블 헤더 업데이트 - 더 정확한 선택자 use
            document.querySelectorAll('.cond-th-number').forEach(th => {
                th.textContent = '#';
            });
            document.querySelectorAll('.cond-th-name').forEach(th => {
                th.textContent = getTranslation('criteria.evaluationConditions.tableHeaders.conditionName', currentLanguage) || '조건직원';
            });
            document.querySelectorAll('.cond-th-criteria').forEach(th => {
                th.textContent = getTranslation('criteria.evaluationConditions.tableHeaders.criteria', currentLanguage) || '기준';
            });
            document.querySelectorAll('.cond-th-desc').forEach(th => {
                th.textContent = getTranslation('criteria.evaluationConditions.tableHeaders.description', currentLanguage) || '설직원';
            });

            // 조건직원과 설직원 updated
            const conditionTranslations = {
                1: {
                    name: getTranslation('criteria.conditions.1.name', currentLanguage) || '출근율',
                    desc: getTranslation('criteria.conditions.1.description', currentLanguage) || '월간 출근율이 88% 이상이어야 합니다'
                },
                2: {
                    name: getTranslation('criteria.conditions.2.name', currentLanguage) || '무단결근',
                    desc: getTranslation('criteria.conditions.2.description', currentLanguage) || '사전 승인 없는 결근이 month 2일 이하여야 합니다'
                },
                3: {
                    name: getTranslation('criteria.conditions.3.name', currentLanguage) || 'actual 근무일',
                    desc: getTranslation('criteria.conditions.3.description', currentLanguage) || 'actual 출근한 날이 1일 이상이어야 합니다'
                },
                4: {
                    name: getTranslation('criteria.conditions.4.name', currentLanguage) || '최소 근무일',
                    desc: getTranslation('criteria.conditions.4.description', currentLanguage) || '월간 최소 12일 이상 work해야 합니다'
                },
                5: {
                    name: getTranslation('criteria.conditions.5.name', currentLanguage) || '개인 AQL (당month)',
                    desc: getTranslation('criteria.conditions.5.description', currentLanguage) || '당month 개인 AQL 검사 failed가 없어야 합니다'
                },
                6: {
                    name: getTranslation('criteria.conditions.6.name', currentLanguage) || '개인 AQL (연속성)',
                    desc: getTranslation('criteria.conditions.6.description', currentLanguage) || '최근 3개월간 연속으로 AQL failed가 없어야 합니다'
                },
                7: {
                    name: getTranslation('criteria.conditions.7.name', currentLanguage) || '팀/구역 AQL',
                    desc: getTranslation('criteria.conditions.7.description', currentLanguage) || '관리하는 팀/구역에서 3연속 개월 실패자가 없어야 합니다'
                },
                8: {
                    name: getTranslation('criteria.conditions.8.name', currentLanguage) || '담당구역 AQL Reject율',
                    desc: getTranslation('criteria.conditions.8.description', currentLanguage) || '담당 구역의 AQL 리젝률이 3% 미만이어야 합니다'
                },
                9: {
                    name: getTranslation('criteria.conditions.9.name', currentLanguage) || '5PRS 통과율',
                    desc: getTranslation('criteria.conditions.9.description', currentLanguage) || '5족 평가 시스템에서 95% 이상 통과해야 합니다'
                },
                10: {
                    name: getTranslation('criteria.conditions.10.name', currentLanguage) || '5PRS 검사량',
                    desc: getTranslation('criteria.conditions.10.description', currentLanguage) || '월간 최소 100개 이상 검사를 count행해야 합니다'
                }
            };

            // 조건 테이블 내용 업데이트
            for (let i = 1; i <= 10; i++) {
                const nameEl = document.querySelector(`.cond-name-${i}`);
                const descEl = document.querySelector(`.cond-desc-${i}`);
                if (nameEl && conditionTranslations[i]) {
                    nameEl.textContent = conditionTranslations[i].name;
                }
                if (descEl && conditionTranslations[i]) {
                    descEl.textContent = conditionTranslations[i].desc;
                }
            }
            
            // 출근 조건 섹션
            const attendanceTitle = document.getElementById('attendanceConditionTitle');
            if (attendanceTitle) {
                attendanceTitle.textContent = getTranslation('criteria.conditions.attendance.title', currentLanguage);
            }
            
            // AQL 조건 섹션
            const aqlTitle = document.getElementById('aqlConditionTitle');
            if (aqlTitle) {
                aqlTitle.textContent = getTranslation('criteria.conditions.aql.title', currentLanguage);
            }
            
            // 5PRS 조건 섹션
            const prsTitle = document.getElementById('prsConditionTitle');
            if (prsTitle) {
                prsTitle.textContent = getTranslation('criteria.conditions.5prs.title', currentLanguage);
            }
            
            // 직급별 apply 조건 섹션
            const positionMatrixTitle = document.getElementById('positionMatrixTitle');
            if (positionMatrixTitle) {
                positionMatrixTitle.textContent = getTranslation('criteria.positionMatrix.title', currentLanguage);
            }

            // 직급별 테이블 헤더 번역
            document.querySelectorAll('.pos-header-position').forEach(th => {
                th.textContent = getTranslation('criteria.positionMatrix.tableHeaders.position', currentLanguage) || '직급';
            });
            document.querySelectorAll('.pos-header-conditions').forEach(th => {
                th.textContent = getTranslation('criteria.positionMatrix.tableHeaders.conditions', currentLanguage) || 'apply 조건';
            });
            document.querySelectorAll('.pos-header-count').forEach(th => {
                th.textContent = getTranslation('criteria.positionMatrix.tableHeaders.count', currentLanguage) || '조건 count';
            });
            document.querySelectorAll('.pos-header-notes').forEach(th => {
                th.textContent = getTranslation('criteria.positionMatrix.tableHeaders.notes', currentLanguage) || '비고';
            })
            
            // TYPE 헤더 업데이트
            const type1Header = document.getElementById('type1Header');
            if (type1Header) {
                type1Header.textContent = getTranslation('criteria.positionMatrix.typeHeaders.type1', currentLanguage);
            }
            
            // TYPE-2, TYPE-3 헤더 및 테이블 내용 업데이트
            const type2Header = document.getElementById('type2Header');
            if (type2Header) {
                type2Header.textContent = getTranslation('criteria.positionMatrix.typeHeaders.type2', currentLanguage);
            }
            
            const type3Header = document.getElementById('type3Header');
            if (type3Header) {
                type3Header.textContent = getTranslation('criteria.positionMatrix.typeHeaders.type3', currentLanguage);
            }
            
            // TYPE-2 테이블 내용
            const type2AllPositions = document.getElementById('type2AllPositions');
            if (type2AllPositions) {
                type2AllPositions.textContent = getTranslation('criteria.positionMatrix.type2Table.allType2', currentLanguage);
            }
            
            const type2FourConditions = document.getElementById('type2FourConditions');
            if (type2FourConditions) {
                type2FourConditions.textContent = getTranslation('criteria.positionMatrix.type2Table.fourConditions', currentLanguage);
            }
            
            const type2AttendanceOnly = document.getElementById('type2AttendanceOnly');
            if (type2AttendanceOnly) {
                type2AttendanceOnly.textContent = getTranslation('criteria.positionMatrix.type2Table.attendanceOnly', currentLanguage);
            }
            
            // TYPE-3 테이블 내용
            const type3NewMember = document.getElementById('type3NewMember');
            if (type3NewMember) {
                type3NewMember.textContent = getTranslation('criteria.positionMatrix.type3Table.newMember', currentLanguage);
            }
            
            const type3NoConditions = document.getElementById('type3NoConditions');
            if (type3NoConditions) {
                type3NoConditions.textContent = getTranslation('criteria.positionMatrix.type3Table.noConditions', currentLanguage);
            }
            
            const type3ZeroConditions = document.getElementById('type3ZeroConditions');
            if (type3ZeroConditions) {
                type3ZeroConditions.textContent = getTranslation('criteria.positionMatrix.type3Table.zeroConditions', currentLanguage);
            }
            
            const type3NewMemberNote = document.getElementById('type3NewMemberNote');
            if (type3NewMemberNote) {
                type3NewMemberNote.textContent = getTranslation('criteria.positionMatrix.type3Table.newMemberNote', currentLanguage);
            }
            
            // TYPE-2 테이블 헤더
            const type2Headers = document.querySelectorAll('.type2-header-position, .type2-header-conditions, .type2-header-count, .type2-header-notes');
            type2Headers.forEach(header => {
                if (header.classList.contains('type2-header-position')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.position', currentLanguage);
                } else if (header.classList.contains('type2-header-conditions')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.appliedConditions', currentLanguage);
                } else if (header.classList.contains('type2-header-count')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.conditionCount', currentLanguage);
                } else if (header.classList.contains('type2-header-notes')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.notes', currentLanguage);
                }
            });
            
            // TYPE-3 테이블 헤더
            const type3Headers = document.querySelectorAll('.type3-header-position, .type3-header-conditions, .type3-header-count, .type3-header-notes');
            type3Headers.forEach(header => {
                if (header.classList.contains('type3-header-position')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.position', currentLanguage);
                } else if (header.classList.contains('type3-header-conditions')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.appliedConditions', currentLanguage);
                } else if (header.classList.contains('type3-header-count')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.conditionCount', currentLanguage);
                } else if (header.classList.contains('type3-header-notes')) {
                    header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.notes', currentLanguage);
                }
            });
            
            // TYPE-2 calculation 방법 섹션 업데이트
            const type2CalculationTitle = document.getElementById('type2CalculationTitle');
            if (type2CalculationTitle) {
                type2CalculationTitle.textContent = getTranslation('incentiveCalculation.type2CalculationTitle', currentLanguage);
            }

            const type2PrincipleLabel = document.getElementById('type2PrincipleLabel');
            if (type2PrincipleLabel) {
                type2PrincipleLabel.textContent = getTranslation('incentiveCalculation.type2CalculationPrincipleLabel', currentLanguage);
            }

            const type2PrincipleText = document.getElementById('type2PrincipleText');
            if (type2PrincipleText) {
                type2PrincipleText.textContent = getTranslation('incentiveCalculation.type2CalculationPrincipleText', currentLanguage);
            }

            // TYPE-2 calculation 테이블 헤더
            document.querySelectorAll('.type2-calc-header-position').forEach(th => {
                th.textContent = getTranslation('incentiveCalculation.type2CalcHeaderPosition', currentLanguage);
            });
            document.querySelectorAll('.type2-calc-header-reference').forEach(th => {
                th.textContent = getTranslation('incentiveCalculation.type2CalcHeaderReference', currentLanguage);
            });
            document.querySelectorAll('.type2-calc-header-method').forEach(th => {
                th.textContent = getTranslation('incentiveCalculation.type2CalcHeaderMethod', currentLanguage);
            });
            document.querySelectorAll('.type2-calc-header-average').forEach(th => {
                // "2025년 9월 평균" → 동적 생성
                const monthText = getTranslation('common.september', currentLanguage);
                th.textContent = getTranslation('incentiveCalculation.type2CalcHeaderAverage', currentLanguage).replace('{{month}}', monthText).replace('{{year}}', '2025');
            });

            // "평균" 텍스트 업데이트
            document.querySelectorAll('.average-text').forEach(span => {
                span.textContent = getTranslation('incentiveCalculation.average', currentLanguage);
            });

            // TYPE-1 테이블 조건 count 업데이트
            const conditionCounts = document.querySelectorAll('.condition-count');
            conditionCounts.forEach(count => {
                const num = count.textContent.replace(/\D/g, '');
                if (currentLanguage === 'ko') {
                    count.textContent = num + '개';
                } else if (currentLanguage === 'en') {
                    count.textContent = num;
                } else if (currentLanguage === 'vi') {
                    count.textContent = num;
                }
            });
            
            // 직급 테이블 헤더
            const positionHeaders = document.querySelectorAll('.pos-header-position');
            positionHeaders.forEach(header => {
                header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.position', currentLanguage);
            });
            
            const conditionHeaders = document.querySelectorAll('.pos-header-conditions');
            conditionHeaders.forEach(header => {
                header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.appliedConditions', currentLanguage);
            });
            
            const countHeaders = document.querySelectorAll('.pos-header-count');
            countHeaders.forEach(header => {
                header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.conditionCount', currentLanguage);
            });
            
            const notesHeaders = document.querySelectorAll('.pos-header-notes');
            notesHeaders.forEach(header => {
                header.textContent = getTranslation('criteria.positionMatrix.tableHeaders.notes', currentLanguage);
            });
            
            // incentive 금액 calculation 섹션
            const incentiveAmountTitle = document.querySelectorAll('#criteria .card')[2]?.querySelector('.card-header h5');
            if (incentiveAmountTitle) {
                incentiveAmountTitle.textContent = getTranslation('criteria.incentiveAmount.title', currentLanguage);
            }
            
            // Incentive Amount Table Translations
            const assemblyIncentiveTitle = document.getElementById('assemblyInspectorIncentiveTitle');
            if (assemblyIncentiveTitle) {
                assemblyIncentiveTitle.textContent = getTranslation('incentiveCalculation.assemblyInspectorIncentiveTitle', currentLanguage);
            }
            
            document.querySelectorAll('.consecutive-achievement-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.consecutiveAchievementMonths', currentLanguage);
            });
            
            document.querySelectorAll('.incentive-amount-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.incentiveAmountVND', currentLanguage);
            });
            
            // Month texts in table
            document.querySelectorAll('.month-text-1').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month1', currentLanguage);
            });
            document.querySelectorAll('.month-text-2').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month2', currentLanguage);
            });
            document.querySelectorAll('.month-text-3').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month3', currentLanguage);
            });
            document.querySelectorAll('.month-text-4').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month4', currentLanguage);
            });
            document.querySelectorAll('.month-text-5').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month5', currentLanguage);
            });
            document.querySelectorAll('.month-text-6').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month6', currentLanguage);
            });
            document.querySelectorAll('.month-text-7').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month7', currentLanguage);
            });
            document.querySelectorAll('.month-text-8').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month8', currentLanguage);
            });
            document.querySelectorAll('.month-text-9').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month9', currentLanguage);
            });
            document.querySelectorAll('.month-text-10').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month10', currentLanguage);
            });
            document.querySelectorAll('.month-text-11').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month11', currentLanguage);
            });
            document.querySelectorAll('.month-text-12').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.simpleMonths.month12', currentLanguage);
            });
            document.querySelectorAll('.month-or-more').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.orMore', currentLanguage);
            });
            
            // TYPE-2 calculation section
            const type2CalcTitle = document.getElementById('type2CalculationTitle');
            if (type2CalcTitle) {
                type2CalcTitle.textContent = getTranslation('incentiveCalculation.type2CalculationTitle', currentLanguage);
            }
            
            document.querySelectorAll('.type2-principle-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type2CalculationPrincipleLabel', currentLanguage);
            });
            
            document.querySelectorAll('.type2-principle-text').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type2CalculationPrincipleText', currentLanguage);
            });
            
            document.querySelectorAll('.average-text').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.average', currentLanguage);
            })
            
            // TYPE-1 incentive calculation 테이블 번역
            // 타이틀
            const type1CalcTitle = document.getElementById('type1CalculationTitle');
            if (type1CalcTitle) {
                type1CalcTitle.textContent = getTranslation('incentiveCalculation.type1Title', currentLanguage);
            }
            
            // 테이블 헤더
            document.querySelectorAll('.calc-header-position').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.tableHeaders.position', currentLanguage);
            });
            document.querySelectorAll('.calc-header-method').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.tableHeaders.calculationMethod', currentLanguage);
            });
            document.querySelectorAll('.calc-header-example').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.tableHeaders.actualExample', currentLanguage);
            });
            
            // 직급직원
            document.querySelectorAll('.calc-position-manager').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.manager', currentLanguage);
            });
            document.querySelectorAll('.calc-position-amanager').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.aManager', currentLanguage);
            });
            document.querySelectorAll('.calc-position-vsupervisor').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.vSupervisor', currentLanguage);
            });
            document.querySelectorAll('.calc-position-groupleader').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.groupLeader', currentLanguage);
            });
            document.querySelectorAll('.calc-position-lineleader').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.lineLeader', currentLanguage);
            });
            document.querySelectorAll('.calc-position-aqlinspector').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.aqlInspector', currentLanguage);
            });
            document.querySelectorAll('.calc-position-assemblyinspector').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.assemblyInspector', currentLanguage);
            });
            document.querySelectorAll('.calc-position-audittraining').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.auditTraining', currentLanguage);
            });
            document.querySelectorAll('.calc-position-modelmaster').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.positions.modelMaster', currentLanguage);
            });
            
            // calculation 방법 관련 텍스트
            document.querySelectorAll('.calc-conditions-met').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.conditionsMet', currentLanguage);
            });
            document.querySelectorAll('.calc-incentive-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.incentive', currentLanguage);
            });
            document.querySelectorAll('.calc-line-leader-avg').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.lineLeaderAverage', currentLanguage);
            });
            document.querySelectorAll('.calc-calculation-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.calculation', currentLanguage);
            });
            document.querySelectorAll('.calc-condition-not-met-zero').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.conditionsNotMetZero', currentLanguage);
            });
            
            // apply 조건 텍스트
            document.querySelectorAll('.calc-apply-condition-attendance').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.applyConditionAttendance', currentLanguage);
            });
            document.querySelectorAll('.calc-apply-condition-lineleader').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.applyConditionLineLeader', currentLanguage);
            });
            document.querySelectorAll('.calc-apply-condition-assembly').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.applyConditionAssembly', currentLanguage);
            });
            document.querySelectorAll('.calc-apply-condition-audit').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.applyConditionAudit', currentLanguage);
            });
            document.querySelectorAll('.calc-apply-condition-model').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.applyConditionModel', currentLanguage);
            });
            
            // 특별 calculation 텍스트
            document.querySelectorAll('.calc-subordinate-incentive').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.subordinateIncentive', currentLanguage);
            });
            document.querySelectorAll('.calc-subordinate-total').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.subordinateTotal', currentLanguage);
            });
            document.querySelectorAll('.calc-receive-ratio').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.receivingRatio', currentLanguage);
            });
            document.querySelectorAll('.calc-special-calculation').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.specialCalculation', currentLanguage);
            });
            document.querySelectorAll('.calc-aql-evaluation').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.aqlEvaluation', currentLanguage);
            });
            document.querySelectorAll('.calc-cfa-certificate').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.cfaCertificate', currentLanguage);
            });
            document.querySelectorAll('.calc-cfa-holder-bonus').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.cfaHolderBonus', currentLanguage);
            });
            document.querySelectorAll('.calc-hwk-claim').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.hwkClaim', currentLanguage);
            });
            document.querySelectorAll('.calc-cfa-holder').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.cfaHolder', currentLanguage);
            });
            document.querySelectorAll('.calc-consecutive-month-incentive').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.consecutiveMonthIncentive', currentLanguage);
            });
            document.querySelectorAll('.calc-total-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.total', currentLanguage);
            });
            
            // 예시 관련 텍스트
            document.querySelectorAll('.calc-example-employee').forEach(el => {
                const employeeId = el.dataset.employee;
                el.textContent = getTranslation('incentiveCalculation.exampleEmployee', currentLanguage).replace('{{employeeId}}', employeeId);
            });
            document.querySelectorAll('.calc-condition-not-met-days').forEach(el => {
                const days = el.dataset.days;
                el.textContent = getTranslation('incentiveCalculation.conditionNotMetDays', currentLanguage).replace('{{days}}', days);
            });
            document.querySelectorAll('.calc-example-consecutive').forEach(el => {
                const months = el.dataset.months;
                el.textContent = getTranslation('incentiveCalculation.exampleConsecutiveFulfillment', currentLanguage).replace('{{months}}', months);
            });
            document.querySelectorAll('.calc-example-max-achieved').forEach(el => {
                const months = el.dataset.months;
                el.textContent = getTranslation('incentiveCalculation.exampleMaxAchieved', currentLanguage).replace('{{months}}', months);
            });
            document.querySelectorAll('.calc-example-not-met-reset').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.exampleConditionsNotMetReset', currentLanguage);
            });
            document.querySelectorAll('.calc-consecutive-months').forEach(el => {
                const months = el.dataset.months;
                el.textContent = getTranslation('incentiveCalculation.consecutiveMonths', currentLanguage).replace('{{months}}', months);
            });
            
            // 조건 평가 텍스트
            document.querySelectorAll('.calc-attendance-rate').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.attendanceRate', currentLanguage);
            });
            document.querySelectorAll('.calc-unauthorized-absence').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.unauthorizedAbsence', currentLanguage);
            });
            document.querySelectorAll('.calc-working-days').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.workingDays', currentLanguage);
            });
            document.querySelectorAll('.calc-previous-month').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.previousMonth', currentLanguage);
            });
            document.querySelectorAll('.calc-current-month-eval').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.currentMonthEvaluation', currentLanguage);
            });
            document.querySelectorAll('.calc-all-attendance-met').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.allAttendanceConditionsMet', currentLanguage);
            });
            document.querySelectorAll('.calc-team-aql-no-fail').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.teamAqlNoConsecutiveFail', currentLanguage);
            });
            document.querySelectorAll('.calc-reject-rate').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.rejectRate', currentLanguage);
            });
            document.querySelectorAll('.calc-reset-to-zero').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.resetToZeroMonths', currentLanguage);
            });
            document.querySelectorAll('.calc-personal-aql-failures').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.personalAqlFailures', currentLanguage);
            });
            document.querySelectorAll('.calc-pass-rate').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.passRate', currentLanguage);
            });
            document.querySelectorAll('.calc-inspection-quantity').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.inspectionQuantity', currentLanguage);
            });
            
            // th/개월/족/cases 단위 conversion
            document.querySelectorAll('.calc-days-text').forEach(el => {
                const days = el.dataset.days;
                const unit = parseInt(days) <= 1 ? getTranslation('common.day', currentLanguage) : getTranslation('common.days', currentLanguage);
                el.textContent = currentLanguage === 'ko' ? `${days}${unit}` : `${days} ${unit}`;
            });
            document.querySelectorAll('.calc-months-text').forEach(el => {
                const months = el.dataset.months;
                const unit = getTranslation('incentiveCalculation.months', currentLanguage);
                el.textContent = currentLanguage === 'ko' ? `${months}${unit}` : `${months} ${unit}`;
            });
            document.querySelectorAll('.calc-pieces-text').forEach(el => {
                const pieces = el.dataset.pieces;
                const unit = getTranslation('incentiveCalculation.pieces', currentLanguage);
                el.textContent = currentLanguage === 'ko' ? `${pieces}${unit}` : `${pieces} ${unit}`;
            });
            document.querySelectorAll('.calc-cases-text').forEach(el => {
                const cases = el.dataset.cases;
                const unit = getTranslation('incentiveCalculation.cases', currentLanguage);
                el.textContent = currentLanguage === 'ko' ? `${cases}${unit}` : `${cases} ${unit}`;
            });
            
            // Month range translations
            document.querySelectorAll('.calc-month-range-0to1').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month0to1', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-1').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month1', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-2').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month2', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-3').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month3', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-4').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month4', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-5').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month5', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-6').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month6', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-7').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month7', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-8').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month8', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-9').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month9', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-9plus').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month9plus', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-10').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month10', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-11').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month11', currentLanguage);
            });
            document.querySelectorAll('.calc-month-range-12plus').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.monthRanges.month12plus', currentLanguage);
            });
            document.querySelectorAll('.calc-level-a').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.levelA', currentLanguage);
            })
            
            // 특별 규칙 섹션
            const specialRulesTitle = document.querySelectorAll('#criteria .card')[3]?.querySelector('.card-header h5');
            if (specialRulesTitle) {
                specialRulesTitle.textContent = getTranslation('criteria.specialRules.title', currentLanguage);
            }
            
            // Good to Know 섹션
            const goodToKnowTitle = document.getElementById('goodToKnowTitle');
            if (goodToKnowTitle) {
                goodToKnowTitle.textContent = getTranslation('criteria.goodToKnow.title', currentLanguage);
            }
            
            const corePrinciplesSubtitle = document.getElementById('corePrinciplesSubtitle');
            if (corePrinciplesSubtitle) {
                corePrinciplesSubtitle.textContent = getTranslation('criteria.goodToKnow.corePrinciplesSubtitle', currentLanguage);
            }
            
            // FAQ 섹션
            const faqTitle = document.querySelectorAll('#criteria .card')[4]?.querySelector('.card-header h5');
            if (faqTitle) {
                faqTitle.textContent = getTranslation('criteria.faq.title', currentLanguage);
            }
            
            // FAQ calculation 예시 섹션 번역
            updateFAQExamples();
            
            // 출근율 calculation 방식 섹션 번역
            updateAttendanceSection();
            
            // FAQ Q&A 섹션 번역
            updateFAQQASection();
            
            // TYPE-3 섹션 번역
            const type3SectionTitle = document.getElementById('type3SectionTitle');
            if (type3SectionTitle) {
                type3SectionTitle.textContent = getTranslation('incentiveCalculation.type3Section.title', currentLanguage);
            }
            
            document.querySelectorAll('.type3-position-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type3Section.position', currentLanguage);
            });
            document.querySelectorAll('.type3-standard-incentive-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type3Section.standardIncentive', currentLanguage);
            });
            document.querySelectorAll('.type3-calculation-method-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type3Section.calculationMethod', currentLanguage);
            });
            document.querySelectorAll('.type3-new-qip-member').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type3Section.newQipMember', currentLanguage);
            });
            document.querySelectorAll('.type3-no-incentive').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type3Section.noIncentive', currentLanguage);
            });
            document.querySelectorAll('.type3-one-month-training').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type3Section.oneMonthTraining', currentLanguage);
            });
            document.querySelectorAll('.type3-type-reclassification').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.type3Section.typeReclassification', currentLanguage);
            });
            
            // Good to Know 섹션 번역
            const goodToKnowTitleElem = document.getElementById('goodToKnowTitle');
            if (goodToKnowTitleElem) {
                goodToKnowTitleElem.innerHTML = '💡 ' + getTranslation('incentiveCalculation.goodToKnow.title', currentLanguage);
            }
            
            const corePrinciplesTitleElem = document.getElementById('corePrinciplesSubtitle');
            if (corePrinciplesTitleElem) {
                corePrinciplesTitleElem.textContent = getTranslation('incentiveCalculation.goodToKnow.corePrinciples', currentLanguage);
            }
            
            document.querySelectorAll('.failure-principle-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.failurePrinciple', currentLanguage).split(':')[0] + ':';
            });
            document.querySelectorAll('.failure-principle-text').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.failurePrinciple', currentLanguage).split(':')[1] || getTranslation('incentiveCalculation.goodToKnow.failurePrinciple', currentLanguage);
            });
            
            document.querySelectorAll('.type2-principle-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.type2Principle', currentLanguage).split(':')[0] + ':';
            });
            document.querySelectorAll('.type2-principle-text').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.type2Principle', currentLanguage).split(':')[1] || getTranslation('incentiveCalculation.goodToKnow.type2Principle', currentLanguage);
            });
            
            document.querySelectorAll('.consecutive-bonus-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.consecutiveBonus', currentLanguage).split(':')[0] + ':';
            });
            document.querySelectorAll('.consecutive-bonus-text').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.consecutiveBonus', currentLanguage).split(':')[1] || getTranslation('incentiveCalculation.goodToKnow.consecutiveBonus', currentLanguage);
            });
            
            document.querySelectorAll('.special-calculation-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.specialCalculation', currentLanguage).split(':')[0] + ':';
            });
            document.querySelectorAll('.special-calculation-text').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.specialCalculation', currentLanguage).split(':')[1] || getTranslation('incentiveCalculation.goodToKnow.specialCalculation', currentLanguage);
            });
            
            document.querySelectorAll('.condition-failure-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.conditionFailure', currentLanguage).split(':')[0] + ':';
            });
            document.querySelectorAll('.condition-failure-text').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.conditionFailure', currentLanguage).split(':')[1] || getTranslation('incentiveCalculation.goodToKnow.conditionFailure', currentLanguage);
            });
            
            // monthby incentive 변동 요인 테이블
            const monthlyChangeTitle = document.getElementById('monthlyIncentiveChangeReasonsTitle');
            if (monthlyChangeTitle) {
                monthlyChangeTitle.textContent = getTranslation('incentiveCalculation.goodToKnow.monthlyIncentiveChangeReasons', currentLanguage);
            }
            
            document.querySelectorAll('.change-factors-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.changeFactors', currentLanguage);
            });
            document.querySelectorAll('.impact-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.impact', currentLanguage);
            });
            document.querySelectorAll('.example-header').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.example', currentLanguage);
            });
            
            document.querySelectorAll('.minimum-days-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.minimumDays', currentLanguage);
            });
            document.querySelectorAll('.less-than-12-days').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.lessThan12Days', currentLanguage);
            });
            document.querySelectorAll('.november-11-days').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.november11Days', currentLanguage);
            });
            
            document.querySelectorAll('.attendance-rate-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.attendanceRate', currentLanguage);
            });
            document.querySelectorAll('.less-than-88-percent').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.lessThan88Percent', currentLanguage);
            });
            document.querySelectorAll('.attendance-example').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.attendanceExample', currentLanguage);
            });
            
            document.querySelectorAll('.unauthorized-absence-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.unauthorizedAbsence', currentLanguage);
            });
            document.querySelectorAll('.more-than-3-days').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.moreThan3Days', currentLanguage);
            });
            document.querySelectorAll('.unauthorized-example').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.unauthorizedExample', currentLanguage);
            });
            
            document.querySelectorAll('.aql-failure-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.aqlFailure', currentLanguage);
            });
            document.querySelectorAll('.current-month-failure').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.currentMonthFailure', currentLanguage);
            });
            document.querySelectorAll('.aql-failure-example').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.aqlFailureExample', currentLanguage);
            });
            
            document.querySelectorAll('.fprs-pass-rate-label').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.fprsPassRate', currentLanguage);
            });
            document.querySelectorAll('.less-than-95-percent').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.lessThan95Percent', currentLanguage);
            });
            document.querySelectorAll('.fprs-example').forEach(el => {
                el.textContent = getTranslation('incentiveCalculation.goodToKnow.fprsExample', currentLanguage);
            });
            
            // 조건 테이블 내용 업데이트
            updateConditionTablesContent();
        }
        
        // 조건 테이블 내용 동적 업데이트 함count
        function updateConditionTablesContent() {
            // 출근 조건 테이블 업데이트
            const attendanceTable = document.getElementById('attendanceTable');
            if (attendanceTable) {
                const tbody = attendanceTable.querySelector('tbody');
                if (tbody) {
                    const rows = tbody.querySelectorAll('tr');
                    if (rows.length >= 4) {
                        // 조건 1: 출근율
                        rows[0].cells[1].textContent = getTranslation('criteria.conditions.attendance.items.attendanceRate.name', currentLanguage);
                        rows[0].cells[2].textContent = getTranslation('criteria.conditions.attendance.items.attendanceRate.criteria', currentLanguage);
                        rows[0].cells[3].textContent = getTranslation('criteria.conditions.attendance.items.attendanceRate.description', currentLanguage);
                        
                        // 조건 2: 무단결근
                        rows[1].cells[1].textContent = getTranslation('criteria.conditions.attendance.items.unapprovedAbsence.name', currentLanguage);
                        rows[1].cells[2].textContent = getTranslation('criteria.conditions.attendance.items.unapprovedAbsence.criteria', currentLanguage);
                        rows[1].cells[3].textContent = getTranslation('criteria.conditions.attendance.items.unapprovedAbsence.description', currentLanguage);
                        
                        // 조건 3: actual 근무일
                        rows[2].cells[1].textContent = getTranslation('criteria.conditions.attendance.items.actualWorkingDays.name', currentLanguage);
                        rows[2].cells[2].textContent = getTranslation('criteria.conditions.attendance.items.actualWorkingDays.criteria', currentLanguage);
                        rows[2].cells[3].textContent = getTranslation('criteria.conditions.attendance.items.actualWorkingDays.description', currentLanguage);
                        
                        // 조건 4: 최소 근무일
                        rows[3].cells[1].textContent = getTranslation('criteria.conditions.attendance.items.minimumWorkingDays.name', currentLanguage);
                        rows[3].cells[2].textContent = getTranslation('criteria.conditions.attendance.items.minimumWorkingDays.criteria', currentLanguage);
                        rows[3].cells[3].textContent = getTranslation('criteria.conditions.attendance.items.minimumWorkingDays.description', currentLanguage);
                    }
                }
            }
            
            // AQL 조건 테이블 업데이트
            const aqlTable = document.getElementById('aqlTable');
            if (aqlTable) {
                const tbody = aqlTable.querySelector('tbody');
                if (tbody) {
                    const rows = tbody.querySelectorAll('tr');
                    if (rows.length >= 4) {
                        // 조건 5: 개인 AQL (당month)
                        rows[0].cells[1].textContent = getTranslation('criteria.conditions.aql.items.personalFailure.name', currentLanguage);
                        rows[0].cells[2].textContent = getTranslation('criteria.conditions.aql.items.personalFailure.criteria', currentLanguage);
                        rows[0].cells[3].textContent = getTranslation('criteria.conditions.aql.items.personalFailure.description', currentLanguage);
                        
                        // 조건 6: 개인 AQL (연속성)
                        rows[1].cells[1].textContent = getTranslation('criteria.conditions.aql.items.personalContinuous.name', currentLanguage);
                        rows[1].cells[2].textContent = getTranslation('criteria.conditions.aql.items.personalContinuous.criteria', currentLanguage);
                        rows[1].cells[3].textContent = getTranslation('criteria.conditions.aql.items.personalContinuous.description', currentLanguage);
                        
                        // 조건 7: 팀/구역 AQL
                        rows[2].cells[1].textContent = getTranslation('criteria.conditions.aql.items.teamArea.name', currentLanguage);
                        rows[2].cells[2].textContent = getTranslation('criteria.conditions.aql.items.teamArea.criteria', currentLanguage);
                        rows[2].cells[3].textContent = getTranslation('criteria.conditions.aql.items.teamArea.description', currentLanguage);
                        
                        // 조건 8: 담당구역 reject
                        rows[3].cells[1].textContent = getTranslation('criteria.conditions.aql.items.areaReject.name', currentLanguage);
                        rows[3].cells[2].textContent = getTranslation('criteria.conditions.aql.items.areaReject.criteria', currentLanguage);
                        rows[3].cells[3].textContent = getTranslation('criteria.conditions.aql.items.areaReject.description', currentLanguage);
                    }
                }
            }
            
            // 5PRS 조건 테이블 업데이트
            const prsTable = document.getElementById('prsTable');
            if (prsTable) {
                const tbody = prsTable.querySelector('tbody');
                if (tbody) {
                    const rows = tbody.querySelectorAll('tr');
                    if (rows.length >= 2) {
                        // 조건 9: 5PRS 통과율
                        rows[0].cells[1].textContent = getTranslation('criteria.conditions.5prs.items.passRate.name', currentLanguage);
                        rows[0].cells[2].textContent = getTranslation('criteria.conditions.5prs.items.passRate.criteria', currentLanguage);
                        rows[0].cells[3].textContent = getTranslation('criteria.conditions.5prs.items.passRate.description', currentLanguage);
                        
                        // 조건 10: 5PRS 검사량
                        rows[1].cells[1].textContent = getTranslation('criteria.conditions.5prs.items.inspectionQty.name', currentLanguage);
                        rows[1].cells[2].textContent = getTranslation('criteria.conditions.5prs.items.inspectionQty.criteria', currentLanguage);
                        rows[1].cells[3].textContent = getTranslation('criteria.conditions.5prs.items.inspectionQty.description', currentLanguage);
                    }
                }
            }
            
            // 직급별 특이사항 업데이트
            updatePositionMatrixNotes();
        }
        
        // 직급별 특이사항 동적 업데이트
        function updatePositionMatrixNotes() {
            // TYPE-1 테이블의 특이사항 column 업데이트
            const type1Tables = document.querySelectorAll('#criteria table');
            type1Tables.forEach(table => {
                const tbody = table.querySelector('tbody');
                if (tbody) {
                    const rows = tbody.querySelectorAll('tr');
                    rows.forEach(row => {
                        const cells = row.querySelectorAll('td');
                        if (cells.length === 4) {
                            const noteText = cells[3].textContent.trim();
                            // 특이사항 매핑
                            if (noteText.includes('출근 조건만') || noteText.includes('Attendance only')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.attendanceOnly', currentLanguage);
                            } else if (noteText.includes('출근 + 팀/구역 AQL') && !noteText.includes('reject')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.attendanceTeamAql', currentLanguage);
                            } else if (noteText.includes('특별 calculation') || noteText.includes('Special calculation')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.attendanceMonthAql', currentLanguage);
                            } else if (noteText.includes('출근 + 개인 AQL + 5PRS')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.attendancePersonalAql5prs', currentLanguage);
                            } else if (noteText.includes('출근 + 팀/구역 AQL + 담당구역 reject')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.attendanceTeamAreaReject', currentLanguage);
                            } else if (noteText.includes('출근 + 담당구역 reject')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.attendanceAreaReject', currentLanguage);
                            } else if (noteText.includes('모든 조건') || noteText.includes('All conditions')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.allConditions', currentLanguage);
                            } else if (noteText.includes('조건 없음') || noteText.includes('No conditions')) {
                                cells[3].textContent = getTranslation('criteria.positionMatrix.notes.noConditions', currentLanguage);
                            }
                        }
                    });
                }
            });
        }
        
        
            // 탭 버튼 텍스트 업데이트 (data-translate-tab 속성 사용)
            document.querySelectorAll('[data-translate-tab]').forEach(elem => {
                const tabKey = elem.getAttribute('data-translate-tab');
                if (translations.tabs && translations.tabs[tabKey]) {
                    elem.textContent = translations.tabs[tabKey][lang] || elem.textContent;
                }
            });

            // 테이블 헤더 업데이트 (data-translate 속성 사용)
            document.querySelectorAll('[data-translate]').forEach(elem => {
                const key = elem.getAttribute('data-translate');
                if (translations.tableHeaders && translations.tableHeaders[key]) {
                    elem.textContent = translations.tableHeaders[key][lang] || elem.textContent;
                }
                if (translations.sectionTitles && translations.sectionTitles[key]) {
                    elem.textContent = translations.sectionTitles[key][lang] || elem.textContent;
                }
                if (translations.modalTitles && translations.modalTitles[key]) {
                    elem.textContent = translations.modalTitles[key][lang] || elem.textContent;
                }
            });
            
            // 차트 라벨 업데이트
        function updateChartLabels() {
            // 예제 차트 업데이트 코드
        }
        
        // Typeby 요약 테이블 업데이트 함count
        function updateTypeSummaryTable() {
            try {
                // employeeData가 없으면 window.employeeData use
                const dataSource = window.employeeData || employeeData || [];

                if (!dataSource || dataSource.length === 0) {
                    console.warn('No employee data available for Type summary');
                    return;
                }

            // Typeby data 집계
            const typeData = {
                'TYPE-1': { total: 0, paid: 0, totalAmount: 0 },
                'TYPE-2': { total: 0, paid: 0, totalAmount: 0 },
                'TYPE-3': { total: 0, paid: 0, totalAmount: 0 }
            };

            // total data 집계
            let grandTotal = 0;
            let grandPaid = 0;
            let grandAmount = 0;

            // 직원 data 순회하며 집계
            dataSource.forEach(emp => {
                // type 필드를 여러 available 이름에서 찾기
                const type = emp.type || emp['ROLE TYPE STD'] || emp['Type'] || 'UNKNOWN';
                if (typeData[type]) {
                    typeData[type].total++;
                    grandTotal++;

                    // 여러 available incentive 필드직원 확인
                    const amount = parseInt(
                        emp['september_incentive'] ||
                        emp['September_Incentive'] ||
                        emp['Final Incentive amount'] ||
                        0
                    );

                    console.log('Type 확인:', type, '직원:', emp.name || emp['Full Name'], '금액:', amount);
                    if (amount > 0) {
                        typeData[type].paid++;
                        typeData[type].totalAmount += amount;
                        grandPaid++;
                        grandAmount += amount;
                    }
                }
            });

            // 테이블 tbody 업데이트
            const tbody = document.getElementById('typeSummaryBody');
            if (tbody) {
                let html = '';
                const personUnit = getUnit('people');  // 언어별 단위 가져오기

                // 각 Type별 행 생성
                ['TYPE-1', 'TYPE-2', 'TYPE-3'].forEach(type => {
                    const data = typeData[type];
                    const paymentRate = data.total > 0 ? (data.paid / data.total * 100).toFixed(1) : '0.0';
                    const avgPaid = data.paid > 0 ? Math.round(data.totalAmount / data.paid) : 0;
                    const avgTotal = data.total > 0 ? Math.round(data.totalAmount / data.total) : 0;
                    const typeClass = type.toLowerCase().replace('type-', '');

                    html += '<tr>';
                    html += '<td><span class="type-badge type-' + typeClass + '">' + type + '</span></td>';
                    html += '<td>' + data.total + personUnit + '</td>';
                    html += '<td>' + data.paid + personUnit + '</td>';
                    html += '<td>' + paymentRate + '%</td>';
                    html += '<td>' + data.totalAmount.toLocaleString() + ' VND</td>';
                    html += '<td>' + avgPaid.toLocaleString() + ' VND</td>';
                    html += '<td>' + avgTotal.toLocaleString() + ' VND</td>';
                    html += '</tr>';
                });

                // 합계 행 생성
                const totalPaymentRate = grandTotal > 0 ? (grandPaid / grandTotal * 100).toFixed(1) : '0.0';
                const totalAvgPaid = grandPaid > 0 ? Math.round(grandAmount / grandPaid) : 0;
                const totalAvgTotal = grandTotal > 0 ? Math.round(grandAmount / grandTotal) : 0;

                html += '<tr style="font-weight: bold; background-color: #f3f4f6;">';
                html += '<td>Total</td>';
                html += '<td>' + grandTotal + personUnit + '</td>';
                html += '<td>' + grandPaid + personUnit + '</td>';
                html += '<td>' + totalPaymentRate + '%</td>';
                html += '<td>' + grandAmount.toLocaleString() + ' VND</td>';
                html += '<td>' + totalAvgPaid.toLocaleString() + ' VND</td>';
                html += '<td>' + totalAvgTotal.toLocaleString() + ' VND</td>';
                html += '</tr>';

                tbody.innerHTML = html;
                console.log('Type별 요약 테이블 업데이트 완료');
            }
            } catch (e) {
                console.error('updateTypeSummaryTable 오류:', e);
                // 오류 발생 시에도 기본 동작 시도
                if (window.employeeData && window.employeeData.length > 0) {
                    console.log('오류 복구 시도 중...');
                }
            }
        }
        
        // 초기화
        // 조직도 관련 함count들
        let orgChartData = null;
        let orgChartRoot = null;

        // 검증 탭 관련 함count들
        function initValidationTab() {
            console.log('Initializing validation tab...');

            // interim report 여부 확인 (data 기간의 last 날 기준)
            const incentiveDataPeriod = document.getElementById('incentiveDataPeriod');
            const dataEndDay = incentiveDataPeriod ? parseInt(incentiveDataPeriod.getAttribute('data-endday')) : 0;
            const isInterimReport = dataEndDay < 20;

            // interim report 알림 표시
            if (isInterimReport) {
                const notice = document.getElementById('interimReportNotice');
                if (notice) {
                    notice.style.display = 'block';
                }
            }

            // KPI 카드 값 calculation 및 표시
            updateValidationKPIs(isInterimReport);

            // 탭 제목과 라벨 번역 업데이트
            updateValidationTexts();
        }

        // 단위 번역 함수
        function getUnit(unitKey) {
            const units = {
                'people': {
                    'ko': '명',
                    'en': ' people',
                    'vi': ' người'
                },
                'days': {
                    'ko': '일',
                    'en': ' days',
                    'vi': ' ngày'
                }
            };

            if (units[unitKey] && units[unitKey][currentLanguage]) {
                return units[unitKey][currentLanguage];
            }
            return unitKey; // 번역이 없으면 원본 반환
        }

        function updateValidationKPIs(isInterimReport) {
            // existing employeeData에서 directly 값을 가져옴 (새로운 calculation 없음)

            // 단위 fetch
            const peopleUnit = getUnit('people');
            const daysUnit = getUnit('days');

            // 1. total 근무일count - config에서 가져온 값 use (employeeby data가 아님)
            const totalWorkingDays = 13; // Python에서 주입된 값
            document.getElementById('kpiTotalWorkingDays').textContent = totalWorkingDays + daysUnit;

            // 2. 무단결근 현황
            // 3일 이상 무단결근 (인센티브 자동 제외)
            const absent3Plus = employeeData.filter(emp =>
                parseFloat(emp['unapproved_absences'] || emp['Unapproved Absences'] || 0) >= 3
            ).length;
            document.getElementById('kpiAbsentWithoutInform').textContent = absent3Plus + peopleUnit;

            // 3. actual 근무일 0일 (9month 현재 재직자만, TYPE-3 제외)
            const zeroWorkingDays = employeeData.filter(emp => {
                // TYPE-3 제외 (incentive 대상 아님)
                if (emp['type'] === 'TYPE-3' || emp['ROLE TYPE STD'] === 'TYPE-3') {
                    return false;
                }
                const actualDays = parseFloat(emp['Actual Working Days'] || emp['actual_working_days'] || 0);
                // employeeData는 이미 9month 기준 필터링된 401employees
                return actualDays === 0;
            }).length;
            document.getElementById('kpiZeroWorkingDays').textContent = zeroWorkingDays + peopleUnit;

            // 4. 최소 근무일 미충족 (interim report면 N/A)
            if (isInterimReport) {
                document.getElementById('kpiMinimumDaysNotMet').textContent = 'N/A';
                document.getElementById('kpiMinimumDaysNotMet').parentElement.style.opacity = '0.5';
            } else {
                const minimumDaysNotMet = employeeData.filter(emp => {
                    // TYPE-3 제외 (incentive 대상 아님)
                    if (emp['type'] === 'TYPE-3' || emp['ROLE TYPE STD'] === 'TYPE-3') {
                        return false;
                    }
                    // C4 조건 사용 (Single Source of Truth)
                    return emp['cond_4_minimum_days'] === 'FAIL';
                }).length;
                document.getElementById('kpiMinimumDaysNotMet').textContent = minimumDaysNotMet + peopleUnit;
            }

            
            
            // 5. 출근율 88% 미만 (TYPE-3 제외)
            const attendanceBelow88 = employeeData.filter(emp => {
                // TYPE-3 제외 (incentive 대상 아님)
                if (emp['type'] === 'TYPE-3' || emp['ROLE TYPE STD'] === 'TYPE-3') {
                    return false;
                }
                return parseFloat(emp['출근율_Attendance_Rate_Percent'] || emp['Attendance Rate'] || 0) < 88;
            }).length;
            document.getElementById('kpiAttendanceBelow88').textContent = attendanceBelow88 + peopleUnit;

            // 6. AQL FAIL 보유자 (모든 직원 대상)
            const aqlFailEmployees = employeeData.filter(emp => {
                // September AQL Failures column 확인 (Excel data에서 directly 가져옴)
                const aqlFailures = parseFloat(emp[window.aqlFailuresColumn] || emp['aql_failures'] || 0);
                return aqlFailures > 0;
            }).length;
            document.getElementById('kpiAqlFail').textContent = aqlFailEmployees + peopleUnit;

            // 7. 3개월 연속 AQL FAIL (Excel의 Continuous_FAIL column use)
            const consecutiveFail = employeeData.filter(emp => {
                const continuous_fail = emp['Continuous_FAIL'] || emp['continuous_fail'] || 'NO';
                return continuous_fail === 'YES_3MONTHS';
            }).length;
            document.getElementById('kpiConsecutiveAqlFail').textContent = consecutiveFail + peopleUnit;

            // 8. 구역 AQL Reject Rate 3% 초과 직원 count (조건 8번만 카운트)
            const highRejectRate = employeeData.filter(emp => {
                // 조건 8번: 구역 reject rate > 3%만 체크 (조건 7번 제외)
                const cond8 = emp['cond_8_area_reject'] || 'PASS';
                const areaRejectRate = parseFloat(emp['Area_Reject_Rate'] || emp['area_reject_rate'] || 0);
                return cond8 === 'FAIL' || areaRejectRate > 3;
            }).length;
            document.getElementById('kpiAreaRejectRate').textContent = highRejectRate + peopleUnit;

            // 9. 5PRS 통과율 < 95% (TYPE-1 ASSEMBLY INSPECTOR만)
            const lowPassRate = employeeData.filter(emp => {
                const isType1 = emp['type'] === 'TYPE-1';
                const position = (emp['position'] || '').toUpperCase();
                const isAssemblyInspector = position.includes('ASSEMBLY') && position.includes('INSPECTOR');
                const passRate = parseFloat(emp['pass_rate'] || 100);
                return isType1 && isAssemblyInspector && passRate < 95 && passRate > 0;
            }).length;
            document.getElementById('kpiLowPassRate').textContent = lowPassRate + peopleUnit;

            // 10. 5PRS 검사량 < 100족 (TYPE-1 ASSEMBLY INSPECTOR만)
            // CRITICAL FIX: 5PRS data file에 actual로 있는 직원만 카운트
            // NaN(data 없음)은 제외, actual 검사량이 있고 < 100인 경우만 포함
            const lowInspectionQty = employeeData.filter(emp => {
                const isType1 = emp['type'] === 'TYPE-1';
                const positionCode = (emp['position_code'] || '').toUpperCase().trim();
                const isAssemblyInspector = ['A1A', 'A1B', 'A1C'].includes(positionCode);

                // CRITICAL: validation_qty가 actual로 존재하고(NaN 아님) 100 미만인 경우만
                const hasValidationData = emp['validation_qty'] !== null &&
                                         emp['validation_qty'] !== undefined &&
                                         emp['validation_qty'] !== '' &&
                                         !isNaN(parseFloat(emp['validation_qty']));
                const inspectionQty = hasValidationData ? parseFloat(emp['validation_qty']) : 999999;

                return isType1 && isAssemblyInspector && hasValidationData && inspectionQty < 100;
            }).length;
            document.getElementById('kpiLowInspectionQty').textContent = lowInspectionQty + peopleUnit;
        }

        function updateValidationTexts() {
            // 검증 탭 텍스트 번역 업데이트
            const tabTitle = document.getElementById('validationTabTitle');
            if (tabTitle) {
                tabTitle.textContent = getTranslation('validationTab.title', currentLanguage);
            }

            const interimText = document.getElementById('interimReportText');
            if (interimText) {
                interimText.textContent = getTranslation('validationTab.interimNotice', currentLanguage);
            }

            // KPI 카드 라벨 업데이트
            document.querySelectorAll('.kpi-label').forEach((label, index) => {
                const kpiKeys = [
                    'totalWorkingDays', 'absentWithoutInform', 'zeroWorkingDays',
                    'minimumDaysNotMet', 'attendanceBelow88', 'aqlFail', 'consecutiveAqlFail',
                    'areaRejectRate', 'lowPassRate', 'lowInspectionQty'
                ];
                if (kpiKeys[index]) {
                    label.textContent = getTranslation(`validationTab.kpiCards.${kpiKeys[index]}.title`, currentLanguage);
                }
            });

            // KPI 카드 부제목 업데이트
            document.querySelectorAll('.kpi-subtitle').forEach(subtitle => {
                const i18nKey = subtitle.getAttribute('data-i18n');
                if (i18nKey) {
                    subtitle.textContent = getTranslation(i18nKey, currentLanguage);
                }
            });

            // KPI 카드 툴팁 업데이트
            document.querySelectorAll('[data-i18n-title]').forEach(element => {
                const i18nKey = element.getAttribute('data-i18n-title');
                if (i18nKey) {
                    element.setAttribute('title', getTranslation(i18nKey, currentLanguage));
                }
            });

            // KPI 값 업데이트하여 단위 번역 apply
            const isInterimReport = reportType === 'interim';
            updateValidationKPIs(isInterimReport);
        }

        // 개선된 모달 함count들 추가
        
    function showTotalWorkingDaysDetails() {
        /* Excel data에서 actual 근무일 정보 fetch (Single Source of Truth) */
        let workDays = [];
        let holidays = [];
        let totalWorkingDays = 13; /* Config에서 가져온 actual 값 */
        const daysInMonth = 30; /* Python에서 계산된 실제 월 일수 */

        if (window.excelDashboardData && window.excelDashboardData.attendance) {
            /* actual 출근 data에서 근무일과 휴th 추출 */
            const dailyData = window.excelDashboardData.attendance.daily_data;
            totalWorkingDays = window.excelDashboardData.attendance.total_working_days;

            /* thby data 분석 - total month range 확인 */
            for (let day = 1; day <= daysInMonth; day++) {
                if (dailyData && dailyData[day]) {
                    if (dailyData[day].is_working_day) {
                        workDays.push(day);
                    } else {
                        holidays.push(day);
                    }
                } else {
                    /* data가 없는 날은 휴th로 처리 */
                    holidays.push(day);
                }
            }
            console.log('actual 근무일:', workDays);
            console.log('휴th/data없음:', holidays);
            console.log('total 근무일count:', totalWorkingDays);
        } else {
            /* Fallback: 기본 근무일 data use */
            console.warn('Excel dashboard data가 not found. default value use.');
            workDays = [2,3,4,5,6,9,10,11,12,13,16,17,18,19,20,23,24,25,26,27,30];
            holidays = [1,7,8,14,15,21,22,28,29];
        }

        /* 요th 번역 fetch */
        const weekdaysArray = getTranslation('workingDaysModal.weekdays', currentLanguage);
        const weekdaySuffix = getTranslation('workingDaysModal.weekdaySuffix', currentLanguage);
        const dayLabel = getTranslation('workingDaysModal.dayLabel', currentLanguage);
        const employeeCountLabel = getTranslation('workingDaysModal.employeeCount', currentLanguage);
        const noDataText = getTranslation('workingDaysModal.noData', currentLanguage);

        /* Python에서 계산된 실제 요일 배열 (각 날짜의 요일 index) */
        const weekdaysIndices = [1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2];

        const getWeekday = (day) => {
            /* Python에서 전달받은 실제 요일 index 사용 (day는 1부터 시작) */
            const dayIndex = weekdaysIndices[day - 1];
            return weekdaysArray[dayIndex];
        };

        let calendarHTML = '<div class="calendar-grid">';
        for (let day = 1; day <= daysInMonth; day++) {
            const isWorkDay = workDays.includes(day);
            const hasNoData = !isWorkDay;
            const dayClass = isWorkDay ? 'work-day' : 'no-data';
            const icon = isWorkDay ? '💼' : '';
            const weekday = getWeekday(day);

            /* Excel data에서 corresponding 날짜의 출근 인원 count fetch */
            let attendanceCount = '';
            if (isWorkDay && window.excelDashboardData && window.excelDashboardData.attendance && window.excelDashboardData.attendance.daily_data && window.excelDashboardData.attendance.daily_data[day]) {
                const count = window.excelDashboardData.attendance.daily_data[day].count;
                if (count > 0) {
                    attendanceCount = `<div class="attendance-count">${count}${employeeCountLabel}</div>`;
                }
            } else if (hasNoData) {
                attendanceCount = `<div class="attendance-count no-data-text">
                    <i class="fas fa-times-circle"></i>
                    <span>${noDataText}</span>
                </div>`;
            }

            calendarHTML += `
                <div class="calendar-day ${dayClass}">
                    <div class="day-number">${day}</div>
                    <div class="day-weekday">${weekday}${weekdaySuffix}</div>
                    ${icon ? `<div class="day-icon">${icon}</div>` : ''}
                    ${attendanceCount}
                </div>
            `;
        }
        calendarHTML += '</div>';

        /* 모달 번역 텍스트 */
        const modalTitle = getTranslation('workingDaysModal.title', currentLanguage);
        const totalWorkingDaysLabel = getTranslation('workingDaysModal.totalWorkingDays', currentLanguage);
        const totalDaysLabel = getTranslation('workingDaysModal.totalDays', currentLanguage);
        const noDataLabel = getTranslation('workingDaysModal.noData', currentLanguage);
        const legendWorkDay = getTranslation('workingDaysModal.legendWorkDay', currentLanguage);
        const legendNoDataText = getTranslation('workingDaysModal.legendNoData', currentLanguage);

        /* month 이름 fetch */
        const yearText = 2025;
        const monthNames = {
            'ko': '9월',
            'en': 'September',
            'vi': 'Tháng 9'
        };
        const monthText = monthNames[currentLanguage] || monthNames['en'];

        const modalContent = `
            <div class="unified-modal-header">
                <h5 class="unified-modal-title">
                    <i class="fas fa-calendar-alt me-2"></i> ${yearText} ${monthText} ${modalTitle}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row mb-4">
                    <div class="col-md-4">
                        <div class="stat-card text-center p-3 border rounded">
                            <div class="stat-icon">💼</div>
                            <div class="stat-label">${totalWorkingDaysLabel}</div>
                            <div class="stat-value text-primary h3">${totalWorkingDays}${dayLabel}</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card text-center p-3 border rounded">
                            <div class="stat-icon">📅</div>
                            <div class="stat-label">${totalDaysLabel}</div>
                            <div class="stat-value text-info h3">${daysInMonth}${dayLabel}</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card text-center p-3 border rounded">
                            <div class="stat-icon">❌</div>
                            <div class="stat-label">${noDataLabel}</div>
                            <div class="stat-value text-secondary h3">${holidays.length}${dayLabel}</div>
                        </div>
                    </div>
                </div>
                ${calendarHTML}
                <div class="mt-3">
                    <span class="legend-badge legend-workday">💼 ${legendWorkDay}</span>
                    <span class="legend-badge legend-nodata">❌ ${legendNoDataText}</span>
                </div>
            </div>
        `;

        let modal = document.getElementById('detailModal');
        if (!modal) {
            const modalHTML = `
                <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true" data-bs-backdrop="true" data-bs-keyboard="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content" id="detailModalContent"></div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            modal = document.getElementById('detailModal');
        }

        document.getElementById('detailModalContent').innerHTML = modalContent;

        /* Bootstrap 5 Modal 처리 */
        const modalElement = document.getElementById('detailModal');

        // existing 모달 인스턴스 정리
        const existingModal = bootstrap.Modal.getInstance(modalElement);
        if (existingModal) {
            existingModal.dispose();
        }

        // 새 모달 인스턴스 creation with proper options
        const bsModal = new bootstrap.Modal(modalElement, {
            backdrop: 'static',  // 모달 내부 클릭시 닫히지 않도록 설정
            keyboard: true,      // ESC 키로 닫기
            focus: true
        });

        bsModal.show();

        // 모달 닫기 이벤트 리스너 추가 (once: true로 중복 방지)
        modalElement.addEventListener('hidden.bs.modal', function () {
            // 모달이 닫힌 후 정리 작업
            setTimeout(() => {
                const backdrop = document.querySelector('.modal-backdrop');
                if (backdrop) {
                    backdrop.remove();
                }
                document.body.classList.remove('modal-open');
                document.body.style.removeProperty('overflow');
                document.body.style.removeProperty('padding-right');
                document.body.style.overflow = '';  // 명시적으로 빈 문자열 설정
            }, 50);
        }, { once: true });
    }

    function showZeroWorkingDaysDetails() {
        // Excel data use (Single Source of Truth)
        let zeroWorkingEmployees = [];

        if (window.excelDashboardData && window.excelDashboardData.modal_data && window.excelDashboardData.modal_data.zero_working_days_직원) {
            // Excel에서 이미 필터링된 data use
            zeroWorkingEmployees = window.excelDashboardData.modal_data.zero_working_days_직원;
        } else if (window.employeeData) {
            // Fallback to employeeData (TYPE-3 제외)
            zeroWorkingEmployees = window.employeeData.filter(emp => {
                // TYPE-3 제외 (incentive 대상 아님)
                if (emp['type'] === 'TYPE-3' || emp['ROLE TYPE STD'] === 'TYPE-3') {
                    return false;
                }
                const actualDays = parseFloat(emp['Actual Working Days'] || emp['actual_working_days'] || 0);
                return actualDays === 0;
            });
        }

        // 0일 근무자 분류 함수 (Option 1 + Option 3)
        function classifyZeroWorkingEmployee(emp, lang) {
            const remark = (emp['RE MARK'] || '').toLowerCase();
            const pregnant = (emp['pregnant vacation-yes or no'] || '').toLowerCase();

            // 출산휴가 (파란색 - 정당한 사유)
            if (pregnant === 'yes' || remark.includes('maternity') || remark.includes('출산')) {
                return {
                    category: 'maternity',
                    badge: getTranslation('zeroWorkingDaysModal.categories.maternity', lang),
                    color: 'info',
                    priority: 3
                };
            }

            // 퇴사 (회색 - 정당한 사유)
            if (remark.includes('stop working') || remark.includes('퇴사') || remark.includes('resign')) {
                return {
                    category: 'resigned',
                    badge: getTranslation('zeroWorkingDaysModal.categories.resigned', lang),
                    color: 'secondary',
                    priority: 3
                };
            }

            // 직무변경 (노란색 - 확인 필요)
            if (remark.includes('change') || remark.includes('변경') || remark.includes('transfer')) {
                return {
                    category: 'jobChange',
                    badge: getTranslation('zeroWorkingDaysModal.categories.jobChange', lang),
                    color: 'warning',
                    priority: 2
                };
            }

            // 사유 없음 (빨간색 - 관리 필요)
            return {
                category: 'noReason',
                badge: getTranslation('zeroWorkingDaysModal.categories.noReason', lang),
                color: 'danger',
                priority: 1
            };
        }

        // 정렬 상태 관리 (기본값: priority로 정렬하여 관리 필요 케이스를 상단에 표시)
        let sortColumn = 'priority';
        let sortOrder = 'asc';

        function sortData(column) {
            if (sortColumn === column) {
                sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortOrder = 'asc';
            }

            zeroWorkingEmployees.sort((a, b) => {
                let aVal, bVal;

                switch(column) {
                    case 'empNo':
                        aVal = a['Employee No'] || '';
                        bVal = b['Employee No'] || '';
                        break;
                    case 'name':
                        aVal = a['Full Name'] || '';
                        bVal = b['Full Name'] || '';
                        break;
                    case 'position':
                        aVal = a['QIP POSITION 1ST NAME'] || '';  // Fixed: single space (normalized)
                        bVal = b['QIP POSITION 1ST NAME'] || '';  // Fixed: single space (normalized)
                        break;
                    case 'totalDays':
                        aVal = a['Total Working Days'] || {working_days};
                        bVal = b['Total Working Days'] || {working_days};
                        break;
                    case 'actualDays':
                        aVal = a['Actual Working Days'] || 0;
                        bVal = b['Actual Working Days'] || 0;
                        break;
                    case 'stopDate':
                        aVal = a['Stop working Date'] || '';
                        bVal = b['Stop working Date'] || '';
                        break;
                    case 'pregnant':
                        aVal = a['pregnant vacation-yes or no'] || '';
                        bVal = b['pregnant vacation-yes or no'] || '';
                        break;
                    case 'remark':
                        aVal = a['RE MARK'] || '';  // Fixed: no trailing space (normalized)
                        bVal = b['RE MARK'] || '';  // Fixed: no trailing space (normalized)
                        break;
                    case 'status':
                        // 새로운 분류 시스템 사용 (Option 1 + Option 3)
                        const langStatus = currentLanguage || 'ko';
                        const aClassificationStatus = classifyZeroWorkingEmployee(a, langStatus);
                        const bClassificationStatus = classifyZeroWorkingEmployee(b, langStatus);
                        aVal = aClassificationStatus.category; // 'maternity', 'resigned', 'jobChange', 'noReason'
                        bVal = bClassificationStatus.category;
                        break;
                    case 'priority':
                        // Priority 정렬 추가 (1=관리필요, 2=확인필요, 3=정당한사유)
                        const lang = currentLanguage || 'ko';
                        const aClassification = classifyZeroWorkingEmployee(a, lang);
                        const bClassification = classifyZeroWorkingEmployee(b, lang);
                        aVal = aClassification.priority;
                        bVal = bClassification.priority;
                        break;
                }

                if (typeof aVal === 'string') {
                    return sortOrder === 'asc' ? aVal.localeCompare(bVal, 'ko') : bVal.localeCompare(aVal, 'ko');
                } else {
                    return sortOrder === 'asc' ? (aVal - bVal) : (bVal - aVal);
                }
            });

            renderTable();
        }

        function renderTable() {
            const lang = currentLanguage || 'ko';
            let tableRows = '';

            // 요약 통계 계산 (Option 3)
            const total = zeroWorkingEmployees.length;
            const maternity = zeroWorkingEmployees.filter(emp => {
                const classification = classifyZeroWorkingEmployee(emp, lang);
                return classification.category === 'maternity';
            }).length;
            const resigned = zeroWorkingEmployees.filter(emp => {
                const classification = classifyZeroWorkingEmployee(emp, lang);
                return classification.category === 'resigned';
            }).length;
            const jobChange = zeroWorkingEmployees.filter(emp => {
                const classification = classifyZeroWorkingEmployee(emp, lang);
                return classification.category === 'jobChange';
            }).length;
            const noReason = zeroWorkingEmployees.filter(emp => {
                const classification = classifyZeroWorkingEmployee(emp, lang);
                return classification.category === 'noReason';
            }).length;

            const legitimateReasons = maternity + resigned;

            if (zeroWorkingEmployees.length === 0) {
                tableRows = `<tr><td colspan="9" class="text-center py-4"><i class="fas fa-check-circle text-success fa-2x mb-2 d-block"></i>${getTranslation('zeroWorkingDaysModal.description', lang)}</td></tr>`;
            } else {
                tableRows = zeroWorkingEmployees.map(emp => {
                    // Excel에서 가져온 필드 use (Single Source of Truth)
                    const actualDays = emp['Actual Working Days'] || 0;

                    // 출결 data file 기준 Total Days calculation
                    const empNo = String(emp['Employee No'] || '').padStart(9, '0');
                    let totalDays = 0;  // default value: 출결 data 없음

                    // attendance raw data에서 corresponding 직원의 unique 날짜 count calculation
                    if (window.attendanceRawData && window.attendanceRawData[empNo]) {
                        totalDays = window.attendanceRawData[empNo].uniqueDates || 0;
                    }
                    // 출결 data가 없으면 0으로 표시 (fact 반영)

                    const stopDate = emp['Stop working Date'] || '-';
                    const position = emp['QIP POSITION 1ST NAME'] || '-';  // Fixed: single space (normalized)
                    const pregnant = emp['pregnant vacation-yes or no'] || '';
                    const remark = emp['RE MARK'] || '-';  // Fixed: no trailing space (normalized)

                    // 새로운 분류 로직 사용 (Option 1)
                    const classification = classifyZeroWorkingEmployee(emp, lang);
                    const statusLabel = classification.badge;
                    const statusClass = `bg-${classification.color}`;

                    // 임신 휴가 번역
                    const pregnantLabel = pregnant === 'yes'
                        ? getTranslation('zeroWorkingDaysModal.statusLabels.yes', lang)
                        : pregnant === 'no'
                        ? getTranslation('zeroWorkingDaysModal.statusLabels.no', lang)
                        : '-';

                    return `
                        <tr class="unified-table-row">
                            <td class="unified-table-cell">${emp['Employee No'] || ''}</td>
                            <td class="unified-table-cell">${emp['Full Name'] || ''}</td>
                            <td class="unified-table-cell">${position}</td>
                            <td class="unified-table-cell text-center">${totalDays}</td>
                            <td class="unified-table-cell text-center">
                                <span class="badge bg-danger">${actualDays}</span>
                            </td>
                            <td class="unified-table-cell text-center">
                                <span class="badge ${statusClass}">${statusLabel}</span>
                            </td>
                            <td class="unified-table-cell text-center">${stopDate}</td>
                            <td class="unified-table-cell text-center">${pregnantLabel}</td>
                            <td class="unified-table-cell">${remark}</td>
                        </tr>
                    `;
                }).join('');
            }

            const modalContent = `
                <div class="unified-modal-header">
                    <h5 class="unified-modal-title">
                        <i class="fas fa-exclamation-triangle me-2"></i><span data-i18n="zeroWorkingDaysModal.title">${getTranslation('zeroWorkingDaysModal.title', lang)}</span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-light border-start border-4 border-danger mb-3">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-info-circle text-danger me-2"></i>
                            <span data-i18n="zeroWorkingDaysModal.description">${getTranslation('zeroWorkingDaysModal.description', lang)}</span>
                        </div>
                    </div>
                    ${total > 0 ? `
                    <div class="row mb-3">
                        <div class="col-12">
                            <div class="card border-0 shadow-sm">
                                <div class="card-body">
                                    <h6 class="card-title mb-3">
                                        <i class="fas fa-chart-pie me-2"></i>
                                        <span data-i18n="zeroWorkingDaysModal.summary.title">${getTranslation('zeroWorkingDaysModal.summary.title', lang)}</span>
                                    </h6>
                                    <div class="row g-2">
                                        <div class="col-md-3 col-6">
                                            <div class="p-2 bg-light rounded text-center">
                                                <div class="fs-4 fw-bold text-primary">${total}</div>
                                                <small class="text-muted" data-i18n="zeroWorkingDaysModal.summary.total">${getTranslation('zeroWorkingDaysModal.summary.total', lang)}</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3 col-6">
                                            <div class="p-2 bg-danger bg-opacity-10 rounded text-center border border-danger">
                                                <div class="fs-4 fw-bold text-danger">${noReason}</div>
                                                <small class="text-danger" data-i18n="zeroWorkingDaysModal.summary.managementNeeded">${getTranslation('zeroWorkingDaysModal.summary.managementNeeded', lang)}</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3 col-6">
                                            <div class="p-2 bg-warning bg-opacity-10 rounded text-center border border-warning">
                                                <div class="fs-4 fw-bold text-warning">${jobChange}</div>
                                                <small class="text-warning" data-i18n="zeroWorkingDaysModal.summary.reviewNeeded">${getTranslation('zeroWorkingDaysModal.summary.reviewNeeded', lang)}</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3 col-6">
                                            <div class="p-2 bg-info bg-opacity-10 rounded text-center border border-info">
                                                <div class="fs-4 fw-bold text-info">${legitimateReasons}</div>
                                                <small class="text-info" data-i18n="zeroWorkingDaysModal.summary.legitimateReasons">${getTranslation('zeroWorkingDaysModal.summary.legitimateReasons', lang)}</small>
                                                <div class="mt-1 small text-muted">
                                                    <span data-i18n="zeroWorkingDaysModal.categories.maternity">${getTranslation('zeroWorkingDaysModal.categories.maternity', lang)}</span>: ${maternity} |
                                                    <span data-i18n="zeroWorkingDaysModal.categories.resigned">${getTranslation('zeroWorkingDaysModal.categories.resigned', lang)}</span>: ${resigned}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    ` : ''}
                    <div class="table-responsive">
                        <table class="table table-hover table-sm">
                            <thead class="unified-table-header">
                                <tr>
                                    <th class="sortable-header ${sortColumn === 'empNo' ? sortOrder : ''}" onclick="window.zeroModalSort('empNo')" data-i18n="zeroWorkingDaysModal.headers.empNo">${getTranslation('zeroWorkingDaysModal.headers.empNo', lang)}</th>
                                    <th class="sortable-header ${sortColumn === 'name' ? sortOrder : ''}" onclick="window.zeroModalSort('name')" data-i18n="zeroWorkingDaysModal.headers.name">${getTranslation('zeroWorkingDaysModal.headers.name', lang)}</th>
                                    <th class="sortable-header ${sortColumn === 'position' ? sortOrder : ''}" onclick="window.zeroModalSort('position')" data-i18n="zeroWorkingDaysModal.headers.position">${getTranslation('zeroWorkingDaysModal.headers.position', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'totalDays' ? sortOrder : ''}" onclick="window.zeroModalSort('totalDays')" data-i18n="zeroWorkingDaysModal.headers.totalDays">${getTranslation('zeroWorkingDaysModal.headers.totalDays', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'actualDays' ? sortOrder : ''}" onclick="window.zeroModalSort('actualDays')" data-i18n="zeroWorkingDaysModal.headers.actualDays">${getTranslation('zeroWorkingDaysModal.headers.actualDays', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'status' ? sortOrder : ''}" onclick="window.zeroModalSort('status')" data-i18n="zeroWorkingDaysModal.headers.status">${getTranslation('zeroWorkingDaysModal.headers.status', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'stopDate' ? sortOrder : ''}" onclick="window.zeroModalSort('stopDate')" data-i18n="zeroWorkingDaysModal.headers.stopDate">${getTranslation('zeroWorkingDaysModal.headers.stopDate', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'pregnant' ? sortOrder : ''}" onclick="window.zeroModalSort('pregnant')" data-i18n="zeroWorkingDaysModal.headers.pregnantVacation">${getTranslation('zeroWorkingDaysModal.headers.pregnantVacation', lang)}</th>
                                    <th class="sortable-header ${sortColumn === 'remark' ? sortOrder : ''}" onclick="window.zeroModalSort('remark')" data-i18n="zeroWorkingDaysModal.headers.remark">${getTranslation('zeroWorkingDaysModal.headers.remark', lang)}</th>
                                </tr>
                            </thead>
                            <tbody>${tableRows}</tbody>
                        </table>
                    </div>
                </div>
            `;

            // 모달이 없으면 creation
            let modal = document.getElementById('detailModal');
            if (!modal) {
                const modalHTML = `
                    <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="true" style="z-index: 1055;">
                        <div class="modal-dialog modal-fullscreen" style="margin: 0; width: 100vw; height: 100vh;">
                            <div class="modal-content" id="detailModalContent" style="height: 100%; border: none; border-radius: 0; display: flex; flex-direction: column;"></div>
                        </div>
                    </div>
                `;
                document.body.insertAdjacentHTML('beforeend', modalHTML);
                modal = document.getElementById('detailModal');
            }

            document.getElementById('detailModalContent').innerHTML = modalContent;
        }

        // 전역 정렬 함count 등록
        window.zeroModalSort = sortData;

        // 초기 렌더링
        renderTable();

        // Bootstrap 5 Modal 처리
        const modalElement = document.getElementById('detailModal');

        // existing 모달 인스턴스 정리
        const existingModal = bootstrap.Modal.getInstance(modalElement);
        if (existingModal) {
            existingModal.dispose();
        }

        // 새 모달 인스턴스 creation with proper options
        const bsModal = new bootstrap.Modal(modalElement, {
            backdrop: 'static',  // 모달 내부 클릭시 닫히지 않도록 설정
            keyboard: true,      // ESC 키로 닫기
            focus: true
        });

        bsModal.show();

        // 모달 닫기 이벤트 리스너 추가 (once: true로 중복 방지)
        modalElement.addEventListener('hidden.bs.modal', function () {
            // 모달이 닫힌 후 정리 작업
            setTimeout(() => {
                const backdrop = document.querySelector('.modal-backdrop');
                if (backdrop) {
                    backdrop.remove();
                }
                document.body.classList.remove('modal-open');
                document.body.style.removeProperty('overflow');
                document.body.style.removeProperty('padding-right');
                document.body.style.overflow = '';  // 명시적으로 빈 문자열 설정
            }, 50);
        }, { once: true });
    }

    function showAbsentWithoutInformDetails() {
        let absentEmployees = window.employeeData.filter(emp => {
            const unapproved = parseFloat(emp.unapproved_absences || emp['Unapproved Absences'] || 0);
            // Filter >= 1 day to show all unapproved absences
            return unapproved >= 1;
        });

        // 정렬 상태 관리
        let sortColumn = 'days';
        let sortOrder = 'desc';

        function sortData(column) {
            if (sortColumn === column) {
                sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortOrder = 'asc';
            }

            absentEmployees.sort((a, b) => {
                let aVal, bVal;

                switch(column) {
                    case 'empNo':
                        aVal = a['Employee No'] || '';
                        bVal = b['Employee No'] || '';
                        break;
                    case 'name':
                        aVal = a['Full Name'] || '';
                        bVal = b['Full Name'] || '';
                        break;
                    case 'position':
                        aVal = a['QIP POSITION 1ST NAME'] || '';  // Fixed: single space (normalized)
                        bVal = b['QIP POSITION 1ST NAME'] || '';  // Fixed: single space (normalized)
                        break;
                    case 'days':
                        aVal = parseFloat(a['Unapproved Absences'] || 0);
                        bVal = parseFloat(b['Unapproved Absences'] || 0);
                        break;
                    case 'stopDate':
                        aVal = a['Stop working Date'] || '';
                        bVal = b['Stop working Date'] || '';
                        break;
                    case 'pregnant':
                        aVal = a['pregnant vacation-yes or no'] || '';
                        bVal = b['pregnant vacation-yes or no'] || '';
                        break;
                    case 'remark':
                        aVal = a['RE MARK'] || '';  // Fixed: no trailing space (normalized)
                        bVal = b['RE MARK'] || '';  // Fixed: no trailing space (normalized)
                        break;
                    case 'status':
                        const aDays = parseFloat(a['Unapproved Absences'] || 0);
                        const bDays = parseFloat(b['Unapproved Absences'] || 0);
                        aVal = aDays > 2 ? 3 : (aDays === 2 ? 2 : 1);
                        bVal = bDays > 2 ? 3 : (bDays === 2 ? 2 : 1);
                        break;
                }

                if (typeof aVal === 'string') {
                    return sortOrder === 'asc' ? aVal.localeCompare(bVal, 'ko') : bVal.localeCompare(aVal, 'ko');
                } else {
                    return sortOrder === 'asc' ? (aVal - bVal) : (bVal - aVal);
                }
            });

            renderTable();
        }

        function renderTable() {
            const lang = currentLanguage || 'ko';

            // Calculate statistics before rendering
            const total = absentEmployees.length;
            const excluded = absentEmployees.filter(emp => {
                const days = parseFloat(emp['Unapproved Absences'] || 0);
                return days >= 3;
            }).length;
            const warning = absentEmployees.filter(emp => {
                const days = parseFloat(emp['Unapproved Absences'] || 0);
                return days === 2;
            }).length;
            const caution = total - excluded - warning;

            let tableRows = absentEmployees.map(emp => {
                const days = parseFloat(emp['Unapproved Absences'] || 0);
                const position = emp['QIP POSITION 1ST NAME'] || '-';  // Fixed: single space (normalized)
                const stopDate = emp['Stop working Date'] || '-';
                const pregnant = emp['pregnant vacation-yes or no'] || '';
                const remark = emp['RE MARK'] || '-';  // Fixed: no trailing space (normalized)

                // 상태 및 스타th
                let statusLabel, statusClass, daysBadgeClass;
                if (days >= 3) {
                    statusLabel = getTranslation('validationTab.status.excluded', lang);
                    statusClass = 'bg-danger';
                    daysBadgeClass = 'bg-danger';
                } else if (days === 2) {
                    statusLabel = getTranslation('validationTab.status.warning', lang);
                    statusClass = 'bg-warning text-dark';
                    daysBadgeClass = 'bg-warning text-dark';
                } else {
                    statusLabel = getTranslation('validationTab.status.caution', lang);
                    statusClass = 'bg-info';
                    daysBadgeClass = 'bg-info';
                }

                // 임신 휴가 번역
                const pregnantLabel = pregnant === 'yes'
                    ? getTranslation('zeroWorkingDaysModal.statusLabels.yes', lang)
                    : pregnant === 'no'
                    ? getTranslation('zeroWorkingDaysModal.statusLabels.no', lang)
                    : '-';

                return `
                    <tr class="unified-table-row">
                        <td class="unified-table-cell">${emp['Employee No'] || ''}</td>
                        <td class="unified-table-cell">${emp['Full Name'] || ''}</td>
                        <td class="unified-table-cell">${position}</td>
                        <td class="unified-table-cell text-center">
                            <span class="badge ${daysBadgeClass}">${days}</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge ${statusClass}">${statusLabel}</span>
                        </td>
                        <td class="unified-table-cell text-center">${stopDate}</td>
                        <td class="unified-table-cell text-center">${pregnantLabel}</td>
                        <td class="unified-table-cell">${remark}</td>
                    </tr>
                `;
            }).join('');

            // Add Total row if there are employees
            if (total > 0) {
                tableRows += `
                    <tr class="table-active fw-bold" style="border-top: 2px solid #dee2e6;">
                        <td colspan="3" class="unified-table-cell text-end">Total</td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-secondary">${total}</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-danger me-1">${excluded}</span>
                            <span class="badge bg-warning text-dark me-1">${warning}</span>
                            <span class="badge bg-info">${caution}</span>
                        </td>
                        <td colspan="3" class="unified-table-cell"></td>
                    </tr>
                `;
            } else {
                tableRows = `
                    <tr>
                        <td colspan="8" class="text-center py-5">
                            <i class="fas fa-check-circle text-success fa-3x mb-3"></i>
                            <div class="text-muted">무단결근자가 not found</div>
                        </td>
                    </tr>`;
            }

        // 통계 섹션 추가
        const statsSection = total > 0 ? `
            <div class="alert alert-light border-start border-4 border-warning mb-4">
                <div class="row text-center">
                    <div class="col-md-3">
                        <div class="d-flex flex-column">
                            <span class="text-muted small">${getTranslation('validationTab.stats.total', currentLanguage) || 'Total'}</span>
                            <span class="fs-4 fw-bold text-dark">${total}</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="d-flex flex-column">
                            <span class="text-muted small">${getTranslation('validationTab.stats.caution', currentLanguage) || 'Caution'} (1${getTranslation('validationTab.units.day', currentLanguage) || ' day'})</span>
                            <span class="fs-4 fw-bold text-info">${caution}</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="d-flex flex-column">
                            <span class="text-muted small">${getTranslation('validationTab.stats.warning', currentLanguage) || 'Warning'} (2${getTranslation('validationTab.units.days', currentLanguage) || ' days'})</span>
                            <span class="fs-4 fw-bold text-warning">${warning}</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="d-flex flex-column">
                            <span class="text-muted small">${getTranslation('validationTab.stats.excluded', currentLanguage) || 'Excluded'} (3${getTranslation('validationTab.units.days', currentLanguage) || ' days'}+)</span>
                            <span class="fs-4 fw-bold text-danger">${excluded}</span>
                        </div>
                    </div>
                </div>
            </div>
        ` : '';

            const modalContent = `
                <div class="unified-modal-header" style="flex-shrink: 0;">
                    <h5 class="unified-modal-title">
                        <i class="fas fa-user-times me-2"></i><span data-i18n="validationTab.modals.absentWithoutInform.title">${getTranslation('validationTab.modals.absentWithoutInform.title', lang)}</span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="flex: 1; overflow-y: auto; overflow-x: hidden;">
                    <div class="alert alert-light border-start border-4 border-danger mb-3">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-info-circle text-danger me-2"></i>
                            <span data-i18n="validationTab.warnings.absentExclusion">${getTranslation('validationTab.warnings.absentExclusion', lang)}</span>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover table-sm">
                            <thead class="unified-table-header">
                                <tr>
                                    <th class="sortable-header ${sortColumn === 'empNo' ? sortOrder : ''}" onclick="window.absentModalSort('empNo')" data-i18n="validationTab.tableHeaders.empNo">${getTranslation('validationTab.tableHeaders.empNo', lang)}</th>
                                    <th class="sortable-header ${sortColumn === 'name' ? sortOrder : ''}" onclick="window.absentModalSort('name')" data-i18n="validationTab.tableHeaders.name">${getTranslation('validationTab.tableHeaders.name', lang)}</th>
                                    <th class="sortable-header ${sortColumn === 'position' ? sortOrder : ''}" onclick="window.absentModalSort('position')" data-i18n="validationTab.tableHeaders.position">${getTranslation('validationTab.tableHeaders.position', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'days' ? sortOrder : ''}" onclick="window.absentModalSort('days')" data-i18n="validationTab.tableHeaders.absentDays">${getTranslation('validationTab.tableHeaders.absentDays', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'status' ? sortOrder : ''}" onclick="window.absentModalSort('status')" data-i18n="validationTab.tableHeaders.status">${getTranslation('validationTab.tableHeaders.status', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'stopDate' ? sortOrder : ''}" onclick="window.absentModalSort('stopDate')" data-i18n="zeroWorkingDaysModal.headers.stopDate">${getTranslation('zeroWorkingDaysModal.headers.stopDate', lang)}</th>
                                    <th class="text-center sortable-header ${sortColumn === 'pregnant' ? sortOrder : ''}" onclick="window.absentModalSort('pregnant')" data-i18n="zeroWorkingDaysModal.headers.pregnantVacation">${getTranslation('zeroWorkingDaysModal.headers.pregnantVacation', lang)}</th>
                                    <th class="sortable-header ${sortColumn === 'remark' ? sortOrder : ''}" onclick="window.absentModalSort('remark')" data-i18n="zeroWorkingDaysModal.headers.remark">${getTranslation('zeroWorkingDaysModal.headers.remark', lang)}</th>
                                </tr>
                            </thead>
                            <tbody>${tableRows}</tbody>
                        </table>
                    </div>
                </div>
            `;

            document.getElementById('detailModalContent').innerHTML = modalContent;
        }

        // 모달 표시 처리 (sortData 호출 전에 creation)
        let modal = document.getElementById('detailModal');
        if (!modal) {
            const modalHTML = `
                <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true" data-bs-backdrop="true" data-bs-keyboard="true">
                    <div class="modal-dialog modal-fullscreen">
                        <div class="modal-content" id="detailModalContent"></div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            modal = document.getElementById('detailModal');
        }

        // 전역 정렬 함count 등록
        window.absentModalSort = sortData;

        // 초기 정렬 상태로 렌더링
        sortData('days');

        /* Bootstrap 5 Modal 처리 */
        const modalElement = document.getElementById('detailModal');

        // existing 모달 인스턴스 정리
        const existingModal = bootstrap.Modal.getInstance(modalElement);
        if (existingModal) {
            existingModal.dispose();
        }

        // 새 모달 인스턴스 creation with proper options
        const bsModal = new bootstrap.Modal(modalElement, {
            backdrop: 'static',  // 모달 내부 클릭시 닫히지 않도록 설정
            keyboard: true,      // ESC 키로 닫기
            focus: true
        });

        bsModal.show();

        // 모달 닫기 이벤트 리스너 추가 (once: true로 중복 방지)
        modalElement.addEventListener('hidden.bs.modal', function () {
            // 모달이 닫힌 후 정리 작업
            setTimeout(() => {
                const backdrop = document.querySelector('.modal-backdrop');
                if (backdrop) {
                    backdrop.remove();
                }
                document.body.classList.remove('modal-open');
                document.body.style.removeProperty('overflow');
                document.body.style.removeProperty('padding-right');
                document.body.style.overflow = '';  // 명시적으로 빈 문자열 설정
            }, 50);
        }, { once: true });
    }

    function showMinimumDaysNotMetDetails() {
        // Excel의 Minimum_Working_Days_Required use (Single Source of Truth)
        const firstEmp = window.employeeData[0] || {};
        const minimumRequired = firstEmp['Minimum_Working_Days_Required'] || 12;

        // C4 조건 사용 (Single Source of Truth)
        let notMetEmployees = window.employeeData.filter(emp => {
            // TYPE-3 제외 (incentive 대상 아님)
            if (emp['type'] === 'TYPE-3' || emp['ROLE TYPE STD'] === 'TYPE-3') {
                return false;
            }
            // C4 조건: cond_4_minimum_days = 'FAIL'
            return emp['cond_4_minimum_days'] === 'FAIL';
        });

        // 정렬 상태 관리
        let sortColumn = 'actualDays';
        let sortOrder = 'asc';

        function renderTable() {
            const lang = currentLanguage || 'ko';
            const daysUnit = getTranslation('validationTab.units.days', lang);

            // 정렬 apply
            const sorted = [...notMetEmployees].sort((a, b) => {
                let aVal, bVal;

                switch(sortColumn) {
                    case 'empNo':
                        aVal = a.employee_no || a['Employee No'] || '';
                        bVal = b.employee_no || b['Employee No'] || '';
                        break;
                    case 'name':
                        aVal = a.full_name || a['Full Name'] || '';
                        bVal = b.full_name || b['Full Name'] || '';
                        break;
                    case 'position':
                        aVal = a['QIP POSITION 1ST NAME'] || '';  // Fixed: single space (normalized)
                        bVal = b['QIP POSITION 1ST NAME'] || '';  // Fixed: single space (normalized)
                        break;
                    case 'type':
                        aVal = a['type'] || a['ROLE TYPE STD'] || '';
                        bVal = b['type'] || b['ROLE TYPE STD'] || '';
                        break;
                    case 'actualDays':
                        aVal = parseFloat(a.actual_working_days || a['Actual Working Days'] || 0);
                        bVal = parseFloat(b.actual_working_days || b['Actual Working Days'] || 0);
                        break;
                    case 'shortage':
                        aVal = minimumRequired - parseFloat(a.actual_working_days || a['Actual Working Days'] || 0);
                        bVal = minimumRequired - parseFloat(b.actual_working_days || b['Actual Working Days'] || 0);
                        break;
                    case 'status':
                        aVal = parseFloat(a.actual_working_days || a['Actual Working Days'] || 0) >= minimumRequired ? 1 : 0;
                        bVal = parseFloat(b.actual_working_days || b['Actual Working Days'] || 0) >= minimumRequired ? 1 : 0;
                        break;
                    default:
                        aVal = 0;
                        bVal = 0;
                }

                if (typeof aVal === 'string') {
                    return sortOrder === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
                } else {
                    return sortOrder === 'asc' ? aVal - bVal : bVal - aVal;
                }
            });

            let tableRows = sorted.map(emp => {
                const actualDays = parseFloat(emp.actual_working_days || emp['Actual Working Days'] || 0);
                const shortage = minimumRequired - actualDays;
                const percentage = (actualDays / minimumRequired * 100).toFixed(1);

                // 더 직원확한 색상 구분
                let progressColor = 'danger';
                let textColor = 'text-white';
                if (percentage >= 75) {
                    progressColor = 'info';
                    textColor = 'text-dark';  // 하늘색 배경에 검은색 텍스트
                } else if (percentage >= 50) {
                    progressColor = 'warning';
                    textColor = 'text-dark';  // 노란색 배경에 검은색 텍스트
                }
                // percentage < 50은 danger (빨간색) 유지

                const isMet = actualDays >= minimumRequired;

                const empType = emp['type'] || emp['ROLE TYPE STD'] || '-';
                const typeColor = empType === 'TYPE-3' ? 'bg-secondary' : (empType === 'TYPE-1' ? 'bg-primary' : 'bg-success');

                return `
                    <tr class="unified-table-row">
                        <td style="padding: 12px 8px; font-weight: 500;">${emp['Employee No'] || ''}</td>
                        <td style="padding: 12px 8px; font-weight: 500;">${emp['Full Name'] || ''}</td>
                        <td style="padding: 12px 8px; font-size: 13px;">${emp['QIP POSITION 1ST NAME'] || '-'}</td>
                        <td class="text-center" style="padding: 10px 8px;">
                            <span class="badge ${typeColor}" style="font-size: 12px;">${empType}</span>
                        </td>
                        <td class="text-center" style="padding: 10px 8px;">
                            <div class="d-flex align-items-center justify-content-center">
                                <span class="badge bg-${progressColor} ${textColor}" style="font-size: 14px; padding: 8px 12px;">
                                    ${actualDays}${daysUnit}
                                </span>
                            </div>
                        </td>
                        <td class="text-center" style="padding: 10px 8px;">
                            <span class="badge bg-primary" style="font-size: 14px; padding: 8px 12px;">${minimumRequired}${daysUnit}</span>
                        </td>
                        <td class="text-center" style="padding: 10px 8px;">
                            <span class="badge bg-danger" style="font-size: 14px; padding: 8px 12px;">-${shortage}${daysUnit}</span>
                        </td>
                        <td class="text-center" style="padding: 10px 8px;">
                            <span class="badge ${isMet ? 'bg-success' : 'bg-danger'}" style="font-size: 13px; padding: 6px 10px;" data-i18n="validationTab.modals.minimumDaysNotMet.statusLabels.${isMet ? 'met' : 'notMet'}">
                                ${isMet ? getTranslation('validationTab.modals.minimumDaysNotMet.statusLabels.met', lang) : getTranslation('validationTab.modals.minimumDaysNotMet.statusLabels.notMet', lang)}
                            </span>
                        </td>
                    </tr>
                `;
            }).join('') || (() => {
                // 리포트 타입에 따라 다른 메시지 표시
                const isInterim = reportType === 'interim';
                const messageKey = isInterim ? 'interimMessage' : 'emptyMessage';
                const iconClass = isInterim ? 'fa-info-circle text-info' : 'fa-check-circle text-success';
                return `<tr><td colspan="7" class="text-center py-4"><i class="fas ${iconClass} fa-2x mb-2 d-block"></i><div data-i18n="validationTab.modals.minimumDaysNotMet.${messageKey}">${getTranslation('validationTab.modals.minimumDaysNotMet.' + messageKey, lang)}</div></td></tr>`;
            })();

            return tableRows;
        }

        function setSorting(column) {
            if (sortColumn === column) {
                sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortOrder = 'asc';
            }

            const tbody = document.querySelector('#detailModal tbody');
            if (tbody) {
                tbody.innerHTML = renderTable();
            }

            // 헤더 클래스 업데이트
            document.querySelectorAll('#detailModal .sortable-header').forEach(th => {
                th.classList.remove('asc', 'desc');
            });
            const currentHeader = document.querySelector(`#detailModal .sortable-header[data-sort="${column}"]`);
            if (currentHeader) {
                currentHeader.classList.add(sortOrder);
            }
        }

        const lang = currentLanguage || 'ko';

        const modalContent = `
            <div class="unified-modal-header" style="flex-shrink: 0;">
                <h5 class="unified-modal-title">
                    <i class="fas fa-clock me-2"></i><span data-i18n="validationTab.modals.minimumDaysNotMet.title">${getTranslation('validationTab.modals.minimumDaysNotMet.title', lang)}</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="flex: 1; overflow-y: auto; overflow-x: hidden;">
                <div class="alert alert-light border-start border-4 border-warning mb-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-info-circle text-warning me-2"></i>
                        <div>
                            <div>
                                <span data-i18n="validationTab.modals.minimumDaysNotMet.alertMessage">${getTranslation('validationTab.modals.minimumDaysNotMet.alertMessage', lang)}</span> ${minimumRequired}<span data-i18n="validationTab.units.days">${getTranslation('validationTab.units.days', lang)}</span>
                            </div>
                            <div class="text-muted small mt-1">
                                <span data-i18n="validationTab.modals.minimumDaysNotMet.excludeNote">${getTranslation('validationTab.modals.minimumDaysNotMet.excludeNote', lang)}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-hover" id="minimumDaysTable" style="font-size: 14px;">
                        <thead class="unified-table-header">
                            <tr>
                                <th class="sortable-header" data-sort="empNo" onclick="window.minDaysSort('empNo')" style="min-width: 100px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.empNo">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.empNo', lang)}</th>
                                <th class="sortable-header" data-sort="name" onclick="window.minDaysSort('name')" style="min-width: 130px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.name">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.name', lang)}</th>
                                <th class="sortable-header" data-sort="position" onclick="window.minDaysSort('position')" style="min-width: 150px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.position">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.position', lang)}</th>
                                <th class="sortable-header" data-sort="type" onclick="window.minDaysSort('type')" style="min-width: 80px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.type">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.type', lang)}</th>
                                <th class="text-center sortable-header asc" data-sort="actualDays" onclick="window.minDaysSort('actualDays')" style="min-width: 110px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.actualDays">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.actualDays', lang)}</th>
                                <th class="text-center" style="min-width: 80px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.minimumRequired">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.minimumRequired', lang)}</th>
                                <th class="text-center sortable-header" data-sort="shortage" onclick="window.minDaysSort('shortage')" style="min-width: 70px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.shortage">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.shortage', lang)}</th>
                                <th class="text-center sortable-header" data-sort="status" onclick="window.minDaysSort('status')" style="min-width: 80px;" data-i18n="validationTab.modals.minimumDaysNotMet.headers.status">${getTranslation('validationTab.modals.minimumDaysNotMet.headers.status', lang)}</th>
                            </tr>
                        </thead>
                        <tbody>${renderTable()}</tbody>
                    </table>
                </div>
            </div>
        `;

        // 전역 정렬 함count 설정
        window.minDaysSort = setSorting;

        let modal = document.getElementById('detailModal');
        if (!modal) {
            const modalHTML = `
                <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true" data-bs-backdrop="true" data-bs-keyboard="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content" id="detailModalContent"></div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            modal = document.getElementById('detailModal');
        }

        document.getElementById('detailModalContent').innerHTML = modalContent;

        /* Bootstrap 5 Modal 처리 */
        const modalElement = document.getElementById('detailModal');

        // existing 모달 인스턴스 정리
        const existingModal = bootstrap.Modal.getInstance(modalElement);
        if (existingModal) {
            existingModal.dispose();
        }

        // 새 모달 인스턴스 creation with proper options
        const bsModal = new bootstrap.Modal(modalElement, {
            backdrop: 'static',  // 모달 내부 클릭시 닫히지 않도록 설정
            keyboard: true,      // ESC 키로 닫기
            focus: true
        });

        bsModal.show();

        // 모달 닫기 이벤트 리스너 추가 (once: true로 중복 방지)
        modalElement.addEventListener('hidden.bs.modal', function () {
            // 모달이 닫힌 후 정리 작업
            setTimeout(() => {
                const backdrop = document.querySelector('.modal-backdrop');
                if (backdrop) {
                    backdrop.remove();
                }
                document.body.classList.remove('modal-open');
                document.body.style.removeProperty('overflow');
                document.body.style.removeProperty('padding-right');
                document.body.style.overflow = '';  // 명시적으로 빈 문자열 설정
            }, 50);
        }, { once: true });
    }

    function showAttendanceBelow88Details() {
        // 출근율 88% 미만 직원 필터링 (TYPE-3 제외)
        let below88Employees = window.employeeData.filter(emp => {
            // TYPE-3 제외 (incentive 대상 아님)
            if (emp['type'] === 'TYPE-3' || emp['ROLE TYPE STD'] === 'TYPE-3') {
                return false;
            }
            const attendanceRate = parseFloat(emp['출근율_Attendance_Rate_Percent'] || emp['Attendance Rate'] || 0);
            return attendanceRate < 88;
        });

        let sortColumn = 'attendanceRate';
        let sortOrder = 'asc';

        function sortData(column) {
            if (sortColumn === column) {
                sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortOrder = column === 'attendanceRate' ? 'asc' : 'desc';
            }
            updateTableBody();
        }

        function updateTableBody() {
            const tbody = document.querySelector('#attendanceModal tbody');
            if (!tbody) return;

            // 정렬
            below88Employees.sort((a, b) => {
                let aVal, bVal;
                switch (sortColumn) {
                    case 'empNo':
                        aVal = a['Employee No'] || a['emp_no'];
                        bVal = b['Employee No'] || b['emp_no'];
                        break;
                    case 'name':
                        aVal = a['Full Name'] || a['name'];
                        bVal = b['Full Name'] || b['name'];
                        break;
                    case 'position':
                        aVal = a['QIP POSITION 1ST NAME'] || '';
                        bVal = b['QIP POSITION 1ST NAME'] || '';
                        break;
                    case 'type':
                        aVal = a['type'] || a['ROLE TYPE STD'] || '';
                        bVal = b['type'] || b['ROLE TYPE STD'] || '';
                        break;
                    case 'attendanceRate':
                        aVal = parseFloat(a['출근율_Attendance_Rate_Percent'] || 0);
                        bVal = parseFloat(b['출근율_Attendance_Rate_Percent'] || 0);
                        break;
                    case 'actualDays':
                        aVal = parseFloat(a['Actual Working Days'] || a['actual_working_days'] || 0);
                        bVal = parseFloat(b['Actual Working Days'] || b['actual_working_days'] || 0);
                        break;
                    case 'totalDays':
                        aVal = parseFloat(a['Total Working Days'] || {working_days});
                        bVal = parseFloat(b['Total Working Days'] || {working_days});
                        break;
                    case 'resignDate':
                        aVal = a['Stop working Date'] || '9999-12-31';
                        bVal = b['Stop working Date'] || '9999-12-31';
                        break;
                }

                if (typeof aVal === 'string') {
                    return sortOrder === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
                }
                return sortOrder === 'asc' ? aVal - bVal : bVal - aVal;
            });

            // 테이블 업데이트 (다국어 지원)
            const lang = currentLanguage || 'ko';
            const dayText = getTranslation('validationTab.units.day', lang);
            const metText = getTranslation('validationTab.modals.attendanceBelow88.statusLabels.met', lang);
            const notMetText = getTranslation('validationTab.modals.attendanceBelow88.statusLabels.notMet', lang);

            tbody.innerHTML = '';
            below88Employees.forEach(emp => {
                const empNo = emp['Employee No'] || emp['emp_no'];
                let name = emp['Full Name'] || emp['name'];
                const attendanceRate = parseFloat(emp['Attendance Rate'] || emp['출근율_Attendance_Rate_Percent'] || 0).toFixed(1);
                const actualDays = parseFloat(emp['Actual Working Days'] || emp['actual_working_days'] || 0);
                const totalDays = parseFloat(emp['Total Working Days'] || {working_days});

                // 조기 퇴사 확인 (해당 월 10일 이내 퇴사)
                let earlyResignBadge = '';
                let resignDateDisplay = '-';
                const stopDate = emp['Stop working Date'];
                if (stopDate) {
                    resignDateDisplay = stopDate;
                    try {
                        // Parse date (MM/DD/YYYY or YYYY-MM-DD format)
                        let resignDate;
                        if (stopDate.includes('/')) {
                            const parts = stopDate.split('/');
                            resignDate = new Date(parts[2], parts[0] - 1, parts[1]); // MM/DD/YYYY
                        } else {
                            resignDate = new Date(stopDate); // YYYY-MM-DD
                        }

                        const resignDay = resignDate.getDate();
                        const resignMonth = resignDate.getMonth() + 1;
                        // Check if resigned in current month within first 10 days
                        if (resignMonth === 9 && resignDay <= 10) {
                            const badgeText = getTranslation('validationTab.modals.attendanceBelow88.earlyResignBadge', lang);
                            const resignLabel = getTranslation('validationTab.modals.attendanceBelow88.resignationDate', lang);
                            earlyResignBadge = `<span class="badge bg-warning text-dark ms-2" style="font-size: 11px;" title="${resignLabel}: ${stopDate}">⚠️ ${badgeText}</span>`;
                        }
                    } catch (e) {
                        // Date parsing failed, ignore
                    }
                }

                // 출근율에 따른 색상과 텍스트 색상 - 더 직원확한 구분
                let badgeClass = 'bg-danger';
                let textColor = 'text-white';
                let customStyle = '';

                if (attendanceRate >= 70) {
                    badgeClass = 'bg-info';  // 70% 이상은 하늘색
                    textColor = 'text-dark';
                } else if (attendanceRate >= 50) {
                    badgeClass = 'bg-warning';  // 50-70%는 노란색
                    textColor = 'text-dark';
                } else if (attendanceRate >= 30) {
                    // 30-50%는 주황색 (커스텀 스타th)
                    badgeClass = '';
                    customStyle = 'background-color: #ff6b35 !important; color: white !important;';
                }
                // attendanceRate < 30은 bg-danger (빨간색) 유지

                const conditionMet = attendanceRate >= 88;
                const statusText = conditionMet ? metText : notMetText;
                const statusBadge = conditionMet ? 'bg-success' : 'bg-danger';

                const empType = emp['type'] || emp['ROLE TYPE STD'] || '-';
                const typeColor = empType === 'TYPE-3' ? 'bg-secondary' : (empType === 'TYPE-1' ? 'bg-primary' : 'bg-success');
                const position = emp['QIP POSITION 1ST NAME'] || '-';

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td style="padding: 10px; font-weight: 500;">${empNo}</td>
                    <td style="padding: 10px; font-weight: 500;">${name}${earlyResignBadge}</td>
                    <td style="padding: 10px; font-size: 13px;">${position}</td>
                    <td style="padding: 10px;"><span class="badge ${typeColor}" style="font-size: 12px;">${empType}</span></td>
                    <td style="padding: 10px;"><span class="badge ${badgeClass} ${textColor}" style="font-size: 14px; padding: 6px 10px; ${customStyle}">${attendanceRate}%</span></td>
                    <td style="padding: 10px;">${actualDays}${dayText}</td>
                    <td style="padding: 10px;">${totalDays}${dayText}</td>
                    <td style="padding: 10px; font-size: 13px;">${resignDateDisplay}</td>
                    <td style="padding: 10px;"><span class="badge ${statusBadge}" style="font-size: 13px; padding: 4px 8px;" data-i18n="validationTab.modals.attendanceBelow88.statusLabels.${conditionMet ? 'met' : 'notMet'}">${statusText}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function getSortIcon(column) {
            if (sortColumn !== column) return '';
            return sortOrder === 'asc' ? '▲' : '▼';
        }

        // Bootstrap 모달 HTML creation (다국어 지원)
        const lang = currentLanguage || 'ko';

        const modalHTML = `
            <div class="modal fade" id="attendanceModal" tabindex="-1" role="dialog" aria-labelledby="attendanceModalLabel" aria-hidden="true" style="z-index: 1055;">
                <div class="modal-dialog modal-fullscreen" role="document" style="margin: 0; width: 100vw; height: 100vh;">
                    <div class="modal-content" style="height: 100%; border: none; border-radius: 0;">
                        <div class="modal-header unified-modal-header" style="flex-shrink: 0;">
                            <h5 class="modal-title unified-modal-title" id="attendanceModalLabel">
                                <i class="fas fa-percentage me-2"></i><span data-i18n="validationTab.modals.attendanceBelow88.title">${getTranslation('validationTab.modals.attendanceBelow88.title', lang)}</span>
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" style="flex: 1; overflow-y: auto; overflow-x: hidden;">
                            <div class="mb-3">
                                <div class="alert alert-light border-start border-4 border-warning">
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-info-circle text-warning me-2"></i>
                                        <div>
                                            <div>
                                                <span data-i18n="validationTab.modals.attendanceBelow88.alertMessage">${getTranslation('validationTab.modals.attendanceBelow88.alertMessage', lang)}</span>
                                            </div>
                                            <div class="text-muted small mt-1">
                                                <span data-i18n="validationTab.modals.attendanceBelow88.excludeNote">${getTranslation('validationTab.modals.attendanceBelow88.excludeNote', lang)}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <p class="text-muted"><i class="fas fa-users me-2"></i><span data-i18n="common.total">${getTranslation('common.total', lang)}</span> ${below88Employees.length} <span data-i18n="common.people">${getTranslation('common.people', lang)}</span></p>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover" style="font-size: 14px;">
                                    <thead class="unified-table-header">
                                        <tr>
                                            <th class="sortable-header" data-sort="empNo" style="min-width: 100px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.headers.empNo">${getTranslation('validationTab.modals.attendanceBelow88.headers.empNo', lang)} ${getSortIcon('empNo')}</th>
                                            <th class="sortable-header" data-sort="name" style="min-width: 130px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.headers.name">${getTranslation('validationTab.modals.attendanceBelow88.headers.name', lang)} ${getSortIcon('name')}</th>
                                            <th class="sortable-header" data-sort="position" style="min-width: 150px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.headers.position">${getTranslation('validationTab.modals.attendanceBelow88.headers.position', lang)} ${getSortIcon('position')}</th>
                                            <th class="sortable-header" data-sort="type" style="min-width: 80px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.headers.type">${getTranslation('validationTab.modals.attendanceBelow88.headers.type', lang)} ${getSortIcon('type')}</th>
                                            <th class="sortable-header" data-sort="attendanceRate" style="min-width: 100px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.headers.attendanceRate">${getTranslation('validationTab.modals.attendanceBelow88.headers.attendanceRate', lang)} ${getSortIcon('attendanceRate')}</th>
                                            <th class="sortable-header" data-sort="actualDays" style="min-width: 110px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.headers.actualDays">${getTranslation('validationTab.modals.attendanceBelow88.headers.actualDays', lang)} ${getSortIcon('actualDays')}</th>
                                            <th class="sortable-header" data-sort="totalDays" style="min-width: 100px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.headers.totalDays">${getTranslation('validationTab.modals.attendanceBelow88.headers.totalDays', lang)} ${getSortIcon('totalDays')}</th>
                                            <th class="sortable-header" data-sort="resignDate" style="min-width: 100px; padding: 12px; cursor: pointer;" data-i18n="validationTab.modals.attendanceBelow88.resignationDate">${getTranslation('validationTab.modals.attendanceBelow88.resignationDate', lang)} ${getSortIcon('resignDate')}</th>
                                            <th style="min-width: 90px; padding: 12px;" data-i18n="validationTab.modals.attendanceBelow88.headers.conditionMet">${getTranslation('validationTab.modals.attendanceBelow88.headers.conditionMet', lang)}</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;

        // existing 모달이 있으면 제거
        const existingModal = document.getElementById('attendanceModal');
        if (existingModal) {
            const existingBsModal = bootstrap.Modal.getInstance(existingModal);
            if (existingBsModal) {
                existingBsModal.dispose();
            }
            existingModal.remove();
        }

        // 모달을 body에 추가
        document.body.insertAdjacentHTML('beforeend', modalHTML);

        // 모달 엘리먼트 참조
        const modalElement = document.getElementById('attendanceModal');

        // Bootstrap 모달 인스턴스 creation 및 표시
        const bsModal = new bootstrap.Modal(modalElement, {
            backdrop: 'static',  // 모달 내부 클릭시 닫히지 않도록 설정
            keyboard: true,      // ESC 키로 닫기 활성화
            focus: true
        });

        // 정렬 이벤트 추가
        modalElement.querySelectorAll('.sortable-header').forEach(header => {
            header.addEventListener('click', function() {
                const column = this.getAttribute('data-sort');
                sortData(column);

                // 헤더 업데이트
                modalElement.querySelectorAll('.sortable-header').forEach(h => {
                    const col = h.getAttribute('data-sort');
                    const icon = getSortIcon(col);
                    h.innerHTML = h.textContent.replace(/[▲▼]/g, '').trim() + ' ' + icon;
                });
            });
        });

        // 초기 data load
        updateTableBody();

        // 모달 표시
        bsModal.show();

        // 백드롭 클릭 이벤트 직원시적 처리 (출근율 모달)
        setTimeout(() => {
            const backdrop = document.querySelector('.modal-backdrop');
            if (backdrop) {
                backdrop.style.cursor = 'pointer';
                backdrop.addEventListener('click', function(e) {
                    if (e.target === backdrop) {
                        bsModal.hide();
                    }
                });
            }
        }, 100);

        // 모달이 닫힐 때 DOM에서 제거
        modalElement.addEventListener('hidden.bs.modal', function () {
            modalElement.remove();
        });
    }


    function showConsecutiveAqlFailDetails() {
        // 전역 언어와 synchronization
        let currentLang = (typeof window.currentLanguage !== 'undefined' ? window.currentLanguage : null) ||
                         (typeof currentLanguage !== 'undefined' ? currentLanguage : null) ||
                         'ko';

        // 현재 보고서 월 가져오기 (from HTML data attributes)
        const reportMonthNum = parseInt(document.getElementById('incentiveDataPeriod').getAttribute('data-month'));

        // 월 약어 매핑 (1=Jan, 2=Feb, ..., 12=Dec)
        const monthAbbr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        const monthKorean = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];

        // N-1, N-2, N-3 월 계산
        const month_N = reportMonthNum;  // 현재 월
        const month_N1 = month_N - 1 > 0 ? month_N - 1 : 12;  // 1개월 전
        const month_N2 = month_N - 2 > 0 ? month_N - 2 : month_N - 2 + 12;  // 2개월 전
        const month_N3 = month_N - 3 > 0 ? month_N - 3 : month_N - 3 + 12;  // 3개월 전

        // 동적 월 패턴 생성
        const pattern3Months = `${monthAbbr[month_N2-1]}-${monthAbbr[month_N1-1]}-${monthAbbr[month_N-1]}`;  // 예: Aug-Sep-Oct

        // 언어별 월 패턴
        const getMonthPattern = (lang, monthIdx1, monthIdx2) => {
            if (lang === 'ko') {
                return `${monthKorean[monthIdx1-1].replace('월','')}-${monthKorean[monthIdx2-1]}`;
            } else if (lang === 'en') {
                return `${monthAbbr[monthIdx1-1]}-${monthAbbr[monthIdx2-1]}`;
            } else if (lang === 'vi') {
                return `Tháng ${monthIdx1}-${monthIdx2}`;
            }
            return `${monthAbbr[monthIdx1-1]}-${monthAbbr[monthIdx2-1]}`;
        };

        const pattern2MonthsHigh = getMonthPattern(currentLang, month_N1, month_N);  // 최근 2개월
        const pattern2MonthsMedium = getMonthPattern(currentLang, month_N2, month_N1);  // 중간 2개월

        // Continuous_FAIL 필터링용 대문자 패턴
        const filterPatternHigh = `${monthAbbr[month_N1-1].toUpperCase()}_${monthAbbr[month_N-1].toUpperCase()}`;  // 예: SEP_OCT
        const filterPatternMedium = `${monthAbbr[month_N2-1].toUpperCase()}_${monthAbbr[month_N1-1].toUpperCase()}`;  // 예: AUG_SEP

        // 3연속 개월 실패자와 2연속 개월 실패자 분리
        const threeMonthFails = window.employeeData.filter(emp =>
            emp['Continuous_FAIL'] === 'YES_3MONTHS'
        );

        const twoMonthFails = window.employeeData.filter(emp =>
            emp['Continuous_FAIL'] && emp['Continuous_FAIL'].includes('2MONTHS')
        );

        // 번역 함count
        const t = (key) => getTranslation(key, currentLang);

        // Custom HTML for this specific modal
        const existingModal = document.getElementById('consecutiveAqlFailModal');
        if (existingModal) {
            existingModal.remove();
        }

        let modalHTML = '<div id="consecutiveAqlFailModal" class="modal" style="display: block; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">';
        modalHTML += '<div class="modal-content" style="background-color: #fefefe; margin: 5% auto; padding: 0; border: 1px solid #888; width: 80%; max-width: 1200px; border-radius: 10px;">';
        modalHTML += '<div class="modal-header unified-modal-header">';
        modalHTML += '<h5 class="modal-title unified-modal-title"><i class="fas fa-exclamation-triangle me-2"></i>' + t('validationTab.modals.aqlFail.consecutiveAqlFail.title') + '</h5>';
        modalHTML += '<button type="button" class="btn-close" onclick="document.getElementById(&apos;consecutiveAqlFailModal&apos;).remove()"></button>';
        modalHTML += '</div>';
        modalHTML += '<div class="modal-body" style="padding: 20px;">';

        // 3연속 개월 실패 섹션
        modalHTML += '<div class="section-container" style="margin-bottom: 30px;">';
        modalHTML += '<h3 style="color: #c0392b; margin-bottom: 15px;">🔴 ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.threeMonthSection') + '</h3>';

        if (threeMonthFails.length === 0) {
            modalHTML += '<div class="alert alert-success" style="padding: 15px; background: #d4edda; color: #155724; border-radius: 5px;">';
            modalHTML += '✅ ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.noThreeMonth');
            modalHTML += '</div>';
        } else {
            modalHTML += '<table style="width: 100%; border-collapse: collapse;">';
            modalHTML += '<thead><tr style="background: #f8f9fa;">';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.empNo') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.name') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.position') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.supervisor') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.failPattern') + '</th>';
            modalHTML += '</tr></thead><tbody>';

            threeMonthFails.forEach(emp => {
                modalHTML += '<tr>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['Employee No'] || emp['emp_no']) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['Full Name'] || emp['name']) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['QIP POSITION 1ST  NAME'] || emp['position'] || '-') + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['direct boss name'] || emp['MST direct boss name'] || emp['boss_name'] || '-') + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['AQL_Fail_Pattern'] || pattern3Months) + '</td>';
                modalHTML += '</tr>';
            });

            modalHTML += '</tbody></table>';
        }
        modalHTML += '</div>';

        // 2연속 개월 실패 섹션
        modalHTML += '<div class="section-container">';
        modalHTML += '<h3 style="color: #e67e22; margin-bottom: 15px;">⚠️ ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.twoMonthSection') + '</h3>';

        // 동적 월 패턴으로 필터링
        const augSepFailsList = twoMonthFails.filter(emp => emp['Continuous_FAIL'].includes(filterPatternHigh));
        const julAugFailsList = twoMonthFails.filter(emp => emp['Continuous_FAIL'].includes(filterPatternMedium));

        if (twoMonthFails.length === 0) {
            modalHTML += '<div class="alert alert-info" style="padding: 15px; background: #d1ecf1; color: #0c5460; border-radius: 5px;">';
            modalHTML += t('validationTab.modals.aqlFail.consecutiveAqlFail.noTwoMonth');
            modalHTML += '<br><br>';
            modalHTML += '<strong>📊 상세 현황:</strong><br>';
            modalHTML += '• ' + pattern2MonthsHigh + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.consecutiveFailure') + '<span style="color: #dc3545; font-weight: bold;">0</span>' + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.people') + '<br>';
            modalHTML += '• ' + pattern2MonthsMedium + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.consecutiveFailure') + '<span style="color: #ffc107; font-weight: bold;">0</span>' + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.people');
            modalHTML += '</div>';
        } else {
            modalHTML += '<table style="width: 100%; border-collapse: collapse;">';
            modalHTML += '<thead><tr style="background: #f8f9fa;">';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.empNo') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.name') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.position') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.supervisor') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.failPattern') + '</th>';
            modalHTML += '<th style="border: 1px solid #dee2e6; padding: 8px;">' + t('validationTab.modals.aqlFail.consecutiveAqlFail.headers.risk') + '</th>';
            modalHTML += '</tr></thead><tbody>';

            // 최근 2개월 연속 failed자를 먼저 표시 (높은 위험)
            const augSepFails = twoMonthFails.filter(emp => emp['Continuous_FAIL'].includes(filterPatternHigh));
            const julAugFails = twoMonthFails.filter(emp => emp['Continuous_FAIL'].includes(filterPatternMedium));

            augSepFails.forEach(emp => {
                modalHTML += '<tr style="background: #fff5f5;">';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['Employee No'] || emp['emp_no']) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['Full Name'] || emp['name']) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['QIP POSITION 1ST  NAME'] || emp['position'] || '-') + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['direct boss name'] || emp['MST direct boss name'] || emp['boss_name'] || '-') + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['AQL_Fail_Pattern'] || pattern2MonthsHigh) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;"><span style="background: #dc3545; color: white; padding: 2px 8px; border-radius: 3px;">🔴 ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.riskLevels.high') + '</span></td>';
                modalHTML += '</tr>';
            });

            julAugFails.forEach(emp => {
                modalHTML += '<tr>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['Employee No'] || emp['emp_no']) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['Full Name'] || emp['name']) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['QIP POSITION 1ST  NAME'] || emp['position'] || '-') + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['direct boss name'] || emp['MST direct boss name'] || emp['boss_name'] || '-') + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;">' + (emp['AQL_Fail_Pattern'] || pattern2MonthsMedium) + '</td>';
                modalHTML += '<td style="border: 1px solid #dee2e6; padding: 8px;"><span style="background: #ffc107; color: #212529; padding: 2px 8px; border-radius: 3px;">🟡 ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.riskLevels.medium') + '</span></td>';
                modalHTML += '</tr>';
            });

            modalHTML += '</tbody></table>';

            // 범례 추가
            modalHTML += '<div style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;">';
            modalHTML += '<strong>' + t('validationTab.modals.aqlFail.consecutiveAqlFail.riskExplanation.title') + '</strong><br>';
            modalHTML += '🔴 <strong>' + t('validationTab.modals.aqlFail.consecutiveAqlFail.riskLevels.high') + ' (' + pattern2MonthsHigh + '):</strong> ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.riskExplanation.highDesc') + '<br>';
            modalHTML += '🟡 <strong>' + t('validationTab.modals.aqlFail.consecutiveAqlFail.riskLevels.medium') + ' (' + pattern2MonthsMedium + '):</strong> ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.riskExplanation.mediumDesc');
            modalHTML += '</div>';
        }
        modalHTML += '</div>';

        // 요약 통계
        modalHTML += '<div style="margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 5px;">';
        modalHTML += '<strong>📊 ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.title') + '</strong><br>';
        modalHTML += '• ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.threeMonthFails') + ' <strong>' + threeMonthFails.length + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.people') + '</strong><br>';
        modalHTML += '• ' + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.twoMonthFails') + ' <strong>' + twoMonthFails.length + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.people') + '</strong><br>';
        modalHTML += '&nbsp;&nbsp;- <span style="color: #dc3545; font-weight: bold;">🔴 ' + pattern2MonthsHigh + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.consecutiveFailure') + augSepFailsList.length + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.people') + '</span><br>';
        modalHTML += '&nbsp;&nbsp;- <span style="color: #ffc107; font-weight: bold;">🟡 ' + pattern2MonthsMedium + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.consecutiveFailure') + julAugFailsList.length + t('validationTab.modals.aqlFail.consecutiveAqlFail.summary.people') + '</span>';
        modalHTML += '</div>';

        // Close modal HTML
        modalHTML += '</div>';
        modalHTML += '</div>';
        modalHTML += '</div>';

        // Add modal to body
        document.body.insertAdjacentHTML('beforeend', modalHTML);

        // 언어 전환 함count 등록
        window.switchConsecutiveLang = function(lang) {
            // 전역 언어 상태 업데이트
            if (typeof window.currentLanguage !== 'undefined') {
                window.currentLanguage = lang;
            }
            if (typeof currentLanguage !== 'undefined') {
                currentLanguage = lang;
            }
            // 모달 재creation
            document.getElementById('consecutiveAqlFailModal').remove();
            showConsecutiveAqlFailDetails();
        };

        // Add click outside to close functionality
        const modal = document.getElementById('consecutiveAqlFailModal');
        modal.onclick = function(event) {
            if (event.대상 === modal) {
                modal.remove();
                delete window.switchConsecutiveLang;
            }
        };
    }

    function showAqlFailDetails() {
        // AQL FAIL이 있는 직원 필터링
        let aqlFailEmployees = window.employeeData.filter(emp => {
            const aqlFailures = parseFloat(emp[window.aqlFailuresColumn] || emp['aql_failures'] || 0);
            return aqlFailures > 0;
        });

        // 정렬 상태 관리
        let sortColumn = 'failPercent';
        let sortOrder = 'desc';
        let modalDiv = null;
        let backdrop = null;

        // 현재 언어 상태 - 전역 언어와 synchronization
        let currentLang = (typeof window.currentLanguage !== 'undefined' ? window.currentLanguage : null) ||
                         (typeof currentLanguage !== 'undefined' ? currentLanguage : null) ||
                         'ko';

        function sortData(column) {
            if (sortColumn === column) {
                sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortOrder = 'asc';
            }

            aqlFailEmployees.sort((a, b) => {
                let aVal, bVal;

                switch(column) {
                    case 'empNo':
                        aVal = a['Employee No'] || a.employee_no || '';
                        bVal = b['Employee No'] || b.employee_no || '';
                        break;
                    case 'name':
                        aVal = a['Full Name'] || a.full_name || '';
                        bVal = b['Full Name'] || b.full_name || '';
                        break;
                    case 'supervisor':
                        aVal = a['direct boss name'] || '';
                        bVal = b['direct boss name'] || '';
                        break;
                    case 'inspectorId':
                        aVal = a['MST direct boss name'] || '';
                        bVal = b['MST direct boss name'] || '';
                        break;
                    case 'passCount':
                        aVal = parseFloat(a['AQL_Pass_Count'] || 0);
                        bVal = parseFloat(b['AQL_Pass_Count'] || 0);
                        break;
                    case 'failures':
                        aVal = parseFloat(a[window.aqlFailuresColumn] || 0);
                        bVal = parseFloat(b[window.aqlFailuresColumn] || 0);
                        break;
                    case 'failPercent':
                        aVal = parseFloat(a['AQL_Fail_Percent'] || 0);
                        bVal = parseFloat(b['AQL_Fail_Percent'] || 0);
                        break;
                    default:
                        aVal = '';
                        bVal = '';
                }

                if (typeof aVal === 'string') {
                    return sortOrder === 'asc' ? aVal.localeCompare(bVal, 'ko') : bVal.localeCompare(aVal, 'ko');
                } else {
                    return sortOrder === 'asc' ? (aVal - bVal) : (bVal - aVal);
                }
            });

            updateTableBody();
        }

        function switchLanguage(lang) {
            currentLang = lang;
            // 전역 언어 상태도 synchronization
            if (typeof window.currentLanguage !== 'undefined') {
                window.currentLanguage = lang;
            }
            if (typeof currentLanguage !== 'undefined') {
                currentLanguage = lang;
            }
            updateAllModalContent();
            // 언어 버튼 상태 업데이트
            updateLanguageButtons();
        }

        function updateLanguageButtons() {
            const buttons = document.querySelectorAll('#aqlFailModal .btn-group button');
            buttons.forEach(btn => {
                const btnLang = btn.getAttribute('onclick').match(/'(\w+)'/)[1];
                if (btnLang === currentLang) {
                    btn.classList.remove('btn-outline-primary');
                    btn.classList.add('btn-primary');
                } else {
                    btn.classList.remove('btn-primary');
                    btn.classList.add('btn-outline-primary');
                }
            });
        }

        function updateAllModalContent() {
            // 모달 제목 업데이트
            const titleEl = document.querySelector('#aqlFailModal .modal-title span[data-i18n]');
            if (titleEl) {
                titleEl.textContent = getTranslation('validationTab.modals.aqlFail.title', currentLang);
            }

            // Alert 메시지 업데이트
            const alertEl = document.querySelector('#aqlFailModal .alert span[data-i18n="aqlFailAlert"]');
            if (alertEl) {
                alertEl.textContent = getTranslation('validationTab.modals.aqlFail.alertMessage', currentLang);
            }

            // 카운트 메시지 업데이트
            const countEl = document.querySelector('#aqlFailModal .alert span[data-i18n="aqlFailCount"]');
            if (countEl) {
                // 현재 월 이름을 언어별로 생성
                const monthNamesMap = {
                    'ko': '9월',
                    'en': 'September',
                    'vi': 'Tháng 9'
                };
                const localizedMonth = monthNamesMap[currentLang] || monthNamesMap['en'];

                const countMsg = getTranslation('validationTab.modals.aqlFail.totalCount', currentLang);
                countEl.textContent = countMsg.replace('{' + '{count}' + '}', aqlFailEmployees.length).replace('{' + '{month}' + '}', localizedMonth);
            }

            // 테이블 헤더 업데이트
            const headers = {
                'empNo': 'validationTab.modals.aqlFail.headers.empNo',
                'name': 'validationTab.modals.aqlFail.headers.name',
                'supervisor': 'validationTab.modals.aqlFail.headers.supervisor',
                'inspectorId': 'validationTab.modals.aqlFail.headers.inspectorId',
                'aqlPass': 'validationTab.modals.aqlFail.headers.aqlPass',
                'aqlFail': 'validationTab.modals.aqlFail.headers.aqlFail',
                'failPercent': 'validationTab.modals.aqlFail.headers.failPercent'
            };

            Object.keys(headers).forEach(key => {
                const headerEl = document.querySelector(`#aqlFailModal th[data-i18n="${key}"]`);
                if (headerEl) {
                    const iconSpan = headerEl.querySelector('.sort-icon');
                    const icon = iconSpan ? iconSpan.textContent : '';
                    headerEl.innerHTML = `<span data-i18n="${key}">${getTranslation(headers[key], currentLang)}</span><span class="sort-icon">${icon}</span>`;
                }
            });

            // 라인리더 집계 섹션 헤더 업데이트
            const lineLeaderTitleEl = document.querySelector('#aqlFailModal h6[data-i18n="lineLeaderTitle"]');
            if (lineLeaderTitleEl) {
                lineLeaderTitleEl.innerHTML = `<i class="fas fa-users me-2"></i><span data-i18n="lineLeaderTitle">${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.title', currentLang)}</span>`;
            }

            const lineLeaderDescEl = document.querySelector('#aqlFailModal p[data-i18n="lineLeaderDesc"]');
            if (lineLeaderDescEl) {
                lineLeaderDescEl.textContent = getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.description', currentLang);
            }

            // 라인리더 테이블 헤더 업데이트
            const lineLeaderHeaders = {
                'leaderName': 'validationTab.modals.aqlFail.lineLeaderSummary.headers.leaderName',
                'leaderSupervisor': 'validationTab.modals.aqlFail.lineLeaderSummary.headers.leaderSupervisor',
                'subordinatePass': 'validationTab.modals.aqlFail.lineLeaderSummary.headers.subordinatePass',
                'subordinateFail': 'validationTab.modals.aqlFail.lineLeaderSummary.headers.subordinateFail',
                'failPercent': 'validationTab.modals.aqlFail.lineLeaderSummary.headers.failPercent'
            };

            Object.keys(lineLeaderHeaders).forEach(key => {
                const headerEl = document.querySelector(`#lineLeaderTable th[data-i18n="${key}"]`);
                if (headerEl) {
                    headerEl.textContent = getTranslation(lineLeaderHeaders[key], currentLang);
                }
            });
        }

        function updateTableBody() {
            const tbody = document.querySelector('#aqlFailModal tbody');
            if (!tbody) return;

            let tableRows = aqlFailEmployees.map(emp => {
                const failures = parseFloat(emp[window.aqlFailuresColumn] || 0);
                const supervisorName = emp['direct boss name'] || '-';
                const supervisorId = emp['MST direct boss name'] || '-';

                const totalTests = emp['AQL_Total_Tests'] || 10;
                const passCount = emp['AQL_Pass_Count'] || Math.max(0, totalTests - failures);
                const failPercent = emp['AQL_Fail_Percent'] ? emp['AQL_Fail_Percent'].toFixed(1) : ((failures / totalTests * 100).toFixed(1));

                // failed율에 따른 색상 구분
                let failBadgeClass = '';
                let failBadgeText = '';
                if (failPercent >= 30) {
                    failBadgeClass = 'bg-danger';
                    failBadgeText = currentLang === 'ko' ? `${failPercent}% (심각)` : currentLang === 'en' ? `${failPercent}% (Critical)` : `${failPercent}% (Nghiêm trọng)`;
                } else if (failPercent >= 20) {
                    failBadgeClass = 'bg-warning text-dark';
                    failBadgeText = currentLang === 'ko' ? `${failPercent}% (경고)` : currentLang === 'en' ? `${failPercent}% (Warning)` : `${failPercent}% (Cảnh báo)`;
                } else {
                    failBadgeClass = 'bg-info';
                    failBadgeText = `${failPercent}%`;
                }

                return `
                    <tr class="unified-table-row">
                        <td class="unified-table-cell">${emp['Employee No'] || ''}</td>
                        <td class="unified-table-cell">${emp['Full Name'] || ''}</td>
                        <td class="unified-table-cell">${supervisorName}</td>
                        <td class="unified-table-cell text-center">${supervisorId}</td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-success">${passCount}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-danger">${failures}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge ${failBadgeClass}">${failBadgeText}</span>
                        </td>
                    </tr>
                `;
            }).join('');

            const emptyMessage = currentLang === 'ko' ? 'AQL FAIL이 not found' : currentLang === 'en' ? 'No AQL FAIL records' : 'Không có bản ghi AQL FAIL';
            tbody.innerHTML = tableRows || `<tr><td colspan="7" class="text-center text-muted">${emptyMessage}</td></tr>`;

            // 정렬 아이콘 업데이트
            document.querySelectorAll('#aqlFailModal th[data-sort]').forEach(th => {
                const column = th.getAttribute('data-sort');
                const sortIcon = th.querySelector('.sort-icon');
                if (sortIcon) {
                    if (sortColumn === column) {
                        sortIcon.textContent = sortOrder === 'asc' ? ' ▲' : ' ▼';
                    } else {
                        sortIcon.textContent = ' ⇅';
                    }
                }
            });
        }

        function aggregateLineLeaderStats() {
            const lineLeaderStats = {};

            // 라인리더by 집계
            aqlFailEmployees.forEach(emp => {
                const supervisorId = emp['MST direct boss name'];
                const supervisorName = emp['direct boss name'];

                if (!supervisorId || !supervisorName) return;

                if (!lineLeaderStats[supervisorId]) {
                    // 라인리더의 상사 정보 찾기
                    const supervisorData = window.employeeData.find(e => e['Employee No'] === supervisorId);
                    const supervisorOfSupervisor = supervisorData ? (supervisorData['direct boss name'] || '-') : '-';

                    lineLeaderStats[supervisorId] = {
                        name: supervisorName,
                        supervisor: supervisorOfSupervisor,
                        totalPass: 0,
                        totalFail: 0
                    };
                }

                const passCount = parseFloat(emp['AQL_Pass_Count'] || 0);
                const failCount = parseFloat(emp[window.aqlFailuresColumn] || 0);

                lineLeaderStats[supervisorId].totalPass += passCount;
                lineLeaderStats[supervisorId].totalFail += failCount;
            });

            // 배열로 conversion 및 FAIL % calculation
            return Object.values(lineLeaderStats).map(stat => {
                const total = stat.totalPass + stat.totalFail;
                const failPercent = total > 0 ? ((stat.totalFail / total) * 100).toFixed(1) : '0.0';
                return { ...stat, failPercent: parseFloat(failPercent) };
            }).sort((a, b) => b.failPercent - a.failPercent); // FAIL % 내림차순
        }

        function renderLineLeaderTable() {
            const lineLeaderStats = aggregateLineLeaderStats();
            const tbody = document.querySelector('#lineLeaderTable tbody');
            if (!tbody) return;

            const rows = lineLeaderStats.map(stat => {
                let failBadgeClass = '';
                if (stat.failPercent >= 30) {
                    failBadgeClass = 'bg-danger';
                } else if (stat.failPercent >= 20) {
                    failBadgeClass = 'bg-warning text-dark';
                } else {
                    failBadgeClass = 'bg-info';
                }

                return `
                    <tr>
                        <td class="unified-table-cell">${stat.name}</td>
                        <td class="unified-table-cell">${stat.supervisor}</td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-success">${stat.totalPass}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-danger">${stat.totalFail}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge ${failBadgeClass}">${stat.failPercent}%</span>
                        </td>
                    </tr>
                `;
            }).join('');

            const emptyMessage = currentLang === 'ko' ? '라인리더 data가 not found' : currentLang === 'en' ? 'No Line Leader data' : 'Không có dữ liệu Line Leader';
            tbody.innerHTML = rows || `<tr><td colspan="5" class="text-center text-muted">${emptyMessage}</td></tr>`;
        }

        function createAqlFailModal() {
            const lang = currentLang;

            function getSortIcon(column) {
                if (sortColumn === column) {
                    return sortOrder === 'asc' ? ' ▲' : ' ▼';
                }
                return ' ⇅';
            }

            let tableRows = aqlFailEmployees.map(emp => {
                const failures = parseFloat(emp[window.aqlFailuresColumn] || 0);
                const supervisorName = emp['direct boss name'] || '-';
                const supervisorId = emp['MST direct boss name'] || '-';

                const totalTests = emp['AQL_Total_Tests'] || 10;
                const passCount = emp['AQL_Pass_Count'] || Math.max(0, totalTests - failures);
                const failPercent = emp['AQL_Fail_Percent'] ? emp['AQL_Fail_Percent'].toFixed(1) : ((failures / totalTests * 100).toFixed(1));

                let failBadgeClass = '';
                let failBadgeText = '';
                if (failPercent >= 30) {
                    failBadgeClass = 'bg-danger';
                    failBadgeText = lang === 'ko' ? `${failPercent}% (심각)` : lang === 'en' ? `${failPercent}% (Critical)` : `${failPercent}% (Nghiêm trọng)`;
                } else if (failPercent >= 20) {
                    failBadgeClass = 'bg-warning text-dark';
                    failBadgeText = lang === 'ko' ? `${failPercent}% (경고)` : lang === 'en' ? `${failPercent}% (Warning)` : `${failPercent}% (Cảnh báo)`;
                } else {
                    failBadgeClass = 'bg-info';
                    failBadgeText = `${failPercent}%`;
                }

                return `
                    <tr class="unified-table-row">
                        <td class="unified-table-cell">${emp['Employee No'] || ''}</td>
                        <td class="unified-table-cell">${emp['Full Name'] || ''}</td>
                        <td class="unified-table-cell">${supervisorName}</td>
                        <td class="unified-table-cell text-center">${supervisorId}</td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-success">${passCount}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-danger">${failures}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge ${failBadgeClass}">${failBadgeText}</span>
                        </td>
                    </tr>
                `;
            }).join('');

            // 라인리더 집계 테이블
            const lineLeaderStats = aggregateLineLeaderStats();
            const lineLeaderRows = lineLeaderStats.map(stat => {
                let failBadgeClass = '';
                if (stat.failPercent >= 30) {
                    failBadgeClass = 'bg-danger';
                } else if (stat.failPercent >= 20) {
                    failBadgeClass = 'bg-warning text-dark';
                } else {
                    failBadgeClass = 'bg-info';
                }

                return `
                    <tr>
                        <td class="unified-table-cell">${stat.name}</td>
                        <td class="unified-table-cell">${stat.supervisor}</td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-success">${stat.totalPass}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge bg-danger">${stat.totalFail}cases</span>
                        </td>
                        <td class="unified-table-cell text-center">
                            <span class="badge ${failBadgeClass}">${stat.failPercent}%</span>
                        </td>
                    </tr>
                `;
            }).join('');

            // 현재 월 이름을 언어별로 생성
            const monthNamesMap = {
                'ko': '9월',
                'en': 'September',
                'vi': 'Tháng 9'
            };
            const localizedMonth = monthNamesMap[lang] || monthNamesMap['en'];

            const countMsg = getTranslation('validationTab.modals.aqlFail.totalCount', lang).replace('{' + '{count}' + '}', aqlFailEmployees.length).replace('{' + '{month}' + '}', localizedMonth);

            let modalContent = `
                <div class="modal-dialog modal-xl" style="max-width: 95%; margin: 20px auto;">
                    <div class="modal-content">
                        <div class="modal-header unified-modal-header">
                            <h5 class="modal-title unified-modal-title">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <span data-i18n="validationTab.modals.aqlFail.title">${getTranslation('validationTab.modals.aqlFail.title', lang)}</span>
                            </h5>
                            <div class="d-flex align-items-center">
                                <div class="btn-group btn-group-sm me-2">
                                    <button type="button" class="btn btn-sm ${lang === 'ko' ? 'btn-primary' : 'btn-outline-primary'}" onclick="window.switchAqlLang('ko')">한국어</button>
                                    <button type="button" class="btn btn-sm ${lang === 'en' ? 'btn-primary' : 'btn-outline-primary'}" onclick="window.switchAqlLang('en')">English</button>
                                    <button type="button" class="btn btn-sm ${lang === 'vi' ? 'btn-primary' : 'btn-outline-primary'}" onclick="window.switchAqlLang('vi')">Tiếng Việt</button>
                                </div>
                                <button type="button" class="btn-close" onclick="window.closeAqlModal()"></button>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-warning d-flex align-items-center mb-3">
                                <i class="fas fa-info-circle me-2"></i>
                                <div>
                                    <strong><span data-i18n="aqlFailAlert">${getTranslation('validationTab.modals.aqlFail.alertMessage', lang)}</span></strong><br>
                                    <span data-i18n="aqlFailCount">${countMsg}</span>
                                </div>
                            </div>

                            <h6 class="mb-3" data-i18n="validationTab.modals.aqlFail.title"><i class="fas fa-list me-2"></i>${getTranslation('validationTab.modals.aqlFail.title', lang)}</h6>

                            <table class="table table-hover" id="aqlFailEmployeeTable">
                                <thead class="unified-table-header">
                                    <tr>
                                        <th style="cursor: pointer;" data-sort="empNo" onclick="window.sortAqlData('empNo')">
                                            <span data-i18n="empNo">${getTranslation('validationTab.modals.aqlFail.headers.empNo', lang)}</span><span class="sort-icon">${getSortIcon('empNo')}</span>
                                        </th>
                                        <th style="cursor: pointer;" data-sort="name" onclick="window.sortAqlData('name')">
                                            <span data-i18n="name">${getTranslation('validationTab.modals.aqlFail.headers.name', lang)}</span><span class="sort-icon">${getSortIcon('name')}</span>
                                        </th>
                                        <th style="cursor: pointer;" data-sort="supervisor" onclick="window.sortAqlData('supervisor')">
                                            <span data-i18n="supervisor">${getTranslation('validationTab.modals.aqlFail.headers.supervisor', lang)}</span><span class="sort-icon">${getSortIcon('supervisor')}</span>
                                        </th>
                                        <th class="text-center" style="cursor: pointer;" data-sort="inspectorId" onclick="window.sortAqlData('inspectorId')">
                                            <span data-i18n="inspectorId">${getTranslation('validationTab.modals.aqlFail.headers.inspectorId', lang)}</span><span class="sort-icon">${getSortIcon('inspectorId')}</span>
                                        </th>
                                        <th class="text-center" style="cursor: pointer;" data-sort="passCount" onclick="window.sortAqlData('passCount')">
                                            <span data-i18n="aqlPass">${getTranslation('validationTab.modals.aqlFail.headers.aqlPass', lang)}</span><span class="sort-icon">${getSortIcon('passCount')}</span>
                                        </th>
                                        <th class="text-center" style="cursor: pointer;" data-sort="failures" onclick="window.sortAqlData('failures')">
                                            <span data-i18n="aqlFail">${getTranslation('validationTab.modals.aqlFail.headers.aqlFail', lang)}</span><span class="sort-icon">${getSortIcon('failures')}</span>
                                        </th>
                                        <th class="text-center" style="cursor: pointer;" data-sort="failPercent" onclick="window.sortAqlData('failPercent')">
                                            <span data-i18n="failPercent">${getTranslation('validationTab.modals.aqlFail.headers.failPercent', lang)}</span><span class="sort-icon">${getSortIcon('failPercent')}</span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${tableRows || '<tr><td colspan="7" class="text-center text-muted">AQL FAIL이 not found</td></tr>'}
                                </tbody>
                            </table>

                            <hr class="my-4">

                            <h6 class="mb-3" data-i18n="lineLeaderTitle"><i class="fas fa-users me-2"></i>${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.title', lang)}</h6>
                            <p class="text-muted small" data-i18n="lineLeaderDesc">${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.description', lang)}</p>

                            <table class="table table-hover" id="lineLeaderTable">
                                <thead class="unified-table-header">
                                    <tr>
                                        <th data-i18n="leaderName">${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.headers.leaderName', lang)}</th>
                                        <th data-i18n="leaderSupervisor">${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.headers.leaderSupervisor', lang)}</th>
                                        <th class="text-center" data-i18n="subordinatePass">${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.headers.subordinatePass', lang)}</th>
                                        <th class="text-center" data-i18n="subordinateFail">${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.headers.subordinateFail', lang)}</th>
                                        <th class="text-center" data-i18n="failPercent">${getTranslation('validationTab.modals.aqlFail.lineLeaderSummary.headers.failPercent', lang)}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${lineLeaderRows || '<tr><td colspan="5" class="text-center text-muted">라인리더 data가 not found</td></tr>'}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;

            // existing 모달 제거
            const existingModal = document.getElementById('aqlFailModal');
            if (existingModal) {
                existingModal.remove();
            }

            // 백드롭 제거
            const existingBackdrop = document.querySelector('.modal-backdrop');
            if (existingBackdrop) {
                existingBackdrop.remove();
            }

            // 새 모달 creation
            modalDiv = document.createElement('div');
            modalDiv.id = 'aqlFailModal';
            modalDiv.className = 'modal fade show';
            modalDiv.style.display = 'block';
            modalDiv.style.zIndex = '1055';
            modalDiv.innerHTML = modalContent;

            // 백드롭 creation
            backdrop = document.createElement('div');
            backdrop.className = 'modal-backdrop fade show';
            backdrop.style.zIndex = '1050';

            document.body.appendChild(backdrop);
            document.body.appendChild(modalDiv);
            document.body.style.overflow = 'hidden';

            // 전역 함count 등록
            window.sortAqlData = sortData;
            window.switchAqlLang = switchLanguage;

            // 초기 언어 버튼 상태 설정
            updateLanguageButtons();
        }

        // 모달 닫기 함count
        window.closeAqlModal = function() {
            if (modalDiv) {
                modalDiv.remove();
                modalDiv = null;
            }
            if (backdrop) {
                backdrop.remove();
                backdrop = null;
            }
            document.body.style.overflow = '';
        };

        // 초기 렌더링
        sortData('failPercent');  // FAIL %로 정렬
        createAqlFailModal();
    }

    // Area AQL Reject Rate 상세 모달 (조건 7번, 8번 구분 표시)
    function showAreaRejectRateDetails() {
        // ========================================================================
        // Buildingby AQL 검사 성과 분석 - 3개 테이블 구조
        // 테이블 1: Buildingby AQL 검사 실적 (AQL file 기준)
        // 테이블 2: Assembly Inspector 인력 기준 검사 실적 (Employee CSV 기준)
        // 테이블 3: Auditor/Trainer incentive 현황 (책임 range)
        // ========================================================================

        // 현재 보고서 연도/월 가져오기
        const reportYear = parseInt(document.getElementById('incentiveDataPeriod').getAttribute('data-year'));
        const reportMonthNum = parseInt(document.getElementById('incentiveDataPeriod').getAttribute('data-month'));
        const monthAbbr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        const monthKorean = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
        const reportMonthName = monthAbbr[reportMonthNum - 1];
        const reportMonthKorean = monthKorean[reportMonthNum - 1];

        // AQL file data (Python에서 calculation된 actual data use)
        // Buildingby actual 검사 통계 (검사 casescount 기준 Reject Rate)
        const aqlFileStats = window.aqlFileStats || {
            // Fallback: window.aqlFileStats가 없는 경우 빈 객체 use
            'Building B': { total: 0, pass: 0, fail: 0, rejectRate: 0.0 },
            'Building D': { total: 0, pass: 0, fail: 0, rejectRate: 0.0 },
            'Building A': { total: 0, pass: 0, fail: 0, rejectRate: 0.0 },
            'Building C': { total: 0, pass: 0, fail: 0, rejectRate: 0.0 },
            'total': { total: 0, pass: 0, fail: 0, rejectRate: 0.0 }
        };

        console.log('[AQL Modal] Using AQL File Stats:', aqlFileStats);

        // Total AQL tests count 계산 (window.aqlFileStats의 total에서)
        const totalAqlTests = aqlFileStats['total'] ? aqlFileStats['total'].total : 0;

        // AQL 관련 직원 필터링 함count
        function isAqlRelevantEmployee(emp) {
            const aqlTests = parseFloat(emp['AQL_Total_Tests'] || 0);
            const areaRate = parseFloat(emp['Area_Reject_Rate'] || 0);

            // 조건 1: actual AQL 검사 count행 (28employees)
            if (aqlTests > 0) return true;

            // 조건 2: Auditor/Trainer (Area_Reject_Rate > 0인 10명)
            if (areaRate > 0) return true;

            // 나머지는 Non-AQL Staff로 제외
            return false;
        }

        // Building 매핑 함수 (JSON 기반 동적 매핑)
        function getEmployeeArea(emp) {
            const building = emp['BUILDING'];
            const aqlTests = parseFloat(emp['AQL_Total_Tests'] || 0);
            const empNo = String(emp['Employee No'] || emp['emp_no'] || '');

            // 1순위: BUILDING column (actual 검사 수행 Assembly Inspectors)
            if (building && aqlTests > 0) {
                return 'Building ' + building;
            }

            // 2순위: JSON 매핑 데이터로 Auditor/Trainer/Model Master 분류
            if (window.auditorAreaMapping && empNo) {
                // Model Master 체크 (All Buildings 담당)
                const modelMasters = window.auditorAreaMapping.model_master?.employees || {};
                if (modelMasters[empNo]) {
                    return 'All Buildings';
                }

                // Auditor/Trainer 체크 (Building별 담당)
                const auditorAreas = window.auditorAreaMapping.auditor_trainer_areas || {};
                if (auditorAreas[empNo]) {
                    const config = auditorAreas[empNo];
                    // conditions에서 BUILDING 값 추출
                    for (const condition of (config.conditions || [])) {
                        if (condition.type === 'AND') {
                            for (const filter of (condition.filters || [])) {
                                if (filter.column === 'BUILDING') {
                                    return 'Building ' + filter.value;
                                }
                            }
                        }
                    }
                }
            }

            // Fallback (발생하면 안 됨)
            return 'Unknown';
        }

        // AQL 관련 직원만 필터링 (38employees: 검사자 28employees + Auditor 10명)
        const aqlRelevantEmployees = window.employeeData.filter(isAqlRelevantEmployee);

        // 조건 7번: 팀/구역 AQL 3연속 개월 실패 (AQL 관련 직원 중)
        let cond7FailEmployees = aqlRelevantEmployees.filter(emp => {
            const cond7 = emp['cond_7_aql_team_area'] || 'PASS';
            return cond7 === 'FAIL';
        });

        // 조건 8번: 구역 reject rate > 3% (AQL 관련 직원 중)
        let cond8FailEmployees = aqlRelevantEmployees.filter(emp => {
            const cond8 = emp['cond_8_area_reject'] || 'PASS';
            const areaRejectRate = parseFloat(emp['Area_Reject_Rate'] || 0);
            return cond8 === 'FAIL' || areaRejectRate > 3;
        });

        // 조건별 실패 인원 수 계산
        const cond7FailCount = cond7FailEmployees.length;
        const cond8FailCount = cond8FailEmployees.length;

        // 테이블 2: Assembly Inspector 인원 기준 검사 실적 calculation
        function calculateInspectorStats() {
            // Python에서 AQL file 기준으로 calculation한 data use
            if (window.aqlInspectorStats) {
                return window.aqlInspectorStats;
            }

            // Fallback: Employee CSV 기준 calculation (AQL file data가 없는 경우)
            const inspectorStats = {};

            // Assembly Inspector만 필터 (AQL_Total_Tests > 0)
            const inspectors = window.employeeData.filter(emp =>
                parseFloat(emp['AQL_Total_Tests'] || 0) > 0
            );

            inspectors.forEach(emp => {
                const building = emp['BUILDING'];
                if (!building) return;

                const area = 'Building ' + building;
                const totalTests = parseFloat(emp['AQL_Total_Tests'] || 0);
                const passCount = parseFloat(emp['AQL_Pass_Count'] || 0);
                const failCount = totalTests - passCount;

                if (!inspectorStats[area]) {
                    inspectorStats[area] = {
                        totalInspectors: 0,      // total inspectors count
                        rejectInspectors: 0,     // with Rejects시킨 inspectors count
                        passOnlyInspectors: 0    // Pass만 발생시킨 inspectors count
                    };
                }

                // inspectors count 카운트
                inspectorStats[area].totalInspectors += 1;

                // with Rejects 여부
                if (failCount > 0) {
                    inspectorStats[area].rejectInspectors += 1;
                } else {
                    inspectorStats[area].passOnlyInspectors += 1;
                }
            });

            // 인원 기준 Reject Rate calculation
            Object.keys(inspectorStats).forEach(area => {
                const stats = inspectorStats[area];
                stats.rejectRate = stats.totalInspectors > 0 ?
                    ((stats.rejectInspectors / stats.totalInspectors) * 100).toFixed(1) : '0.0';
            });

            // total 통계
            const totalAll = Object.values(inspectorStats).reduce((sum, s) => sum + s.totalInspectors, 0);
            const rejectAll = Object.values(inspectorStats).reduce((sum, s) => sum + s.rejectInspectors, 0);
            const passAll = Object.values(inspectorStats).reduce((sum, s) => sum + s.passOnlyInspectors, 0);

            inspectorStats['total'] = {
                totalInspectors: totalAll,
                rejectInspectors: rejectAll,
                passOnlyInspectors: passAll,
                rejectRate: totalAll > 0 ? ((rejectAll / totalAll) * 100).toFixed(1) : '0.0'
            };

            return inspectorStats;
        }

        // 테이블 3: Auditor/Trainer incentive 현황 calculation (JSON + CSV 동적 조합)
        function calculateAuditorStats() {
            const auditorStats = [];

            if (!window.auditorAreaMapping) {
                console.warn('Auditor Area Mapping not loaded');
                return auditorStats;
            }

            // Building 순서 정의 (표시 순서: B → D → A → C → All Buildings)
            const buildingOrder = { 'B': 1, 'D': 2, 'A': 3, 'C': 4, 'All': 5 };

            // Auditor/Trainer 수집 (JSON에서)
            const auditorAreas = window.auditorAreaMapping.auditor_trainer_areas || {};
            Object.keys(auditorAreas).forEach(empNo => {
                const config = auditorAreas[empNo];
                const emp = window.employeeData.find(e =>
                    String(e['Employee No']) === empNo ||
                    String(e['emp_no']) === empNo
                );

                if (emp) {
                    // Building 추출
                    let building = 'Unknown';
                    for (const condition of (config.conditions || [])) {
                        if (condition.type === 'AND') {
                            for (const filter of (condition.filters || [])) {
                                if (filter.column === 'BUILDING') {
                                    building = 'Building ' + filter.value;
                                    break;
                                }
                            }
                        }
                    }

                    const areaRate = parseFloat(emp['Area_Reject_Rate'] || 0);
                    const cond7 = emp['cond_7_aql_team_area'] !== 'FAIL';
                    const cond8 = emp['cond_8_area_reject'] !== 'FAIL';

                    auditorStats.push({
                        empNo: empNo,
                        name: config.name || emp['Full Name'],
                        building: building,
                        jobTitle: 'Auditor/Trainer',
                        count: 1,
                        rejectRate: areaRate.toFixed(1),
                        consecutive: 0,
                        cond7: cond7,
                        cond8: cond8,
                        incentiveStatus: cond7 && cond8 ? '지급' : '미지급',
                        sortOrder: buildingOrder[building.replace('Building ', '')] || 99
                    });
                }
            });

            // Model Master 수집 (JSON에서)
            const modelMasters = window.auditorAreaMapping.model_master?.employees || {};
            Object.keys(modelMasters).forEach(empNo => {
                const config = modelMasters[empNo];
                const emp = window.employeeData.find(e =>
                    String(e['Employee No']) === empNo ||
                    String(e['emp_no']) === empNo
                );

                if (emp) {
                    const areaRate = parseFloat(emp['Area_Reject_Rate'] || 0);
                    const cond7 = emp['cond_7_aql_team_area'] !== 'FAIL';
                    const cond8 = emp['cond_8_area_reject'] !== 'FAIL';

                    // Position에서 Job Title 추출
                    const position = String(emp['QIP POSITION 1ST  NAME'] || '').toUpperCase();
                    let jobTitle = 'Model Master';
                    if (position.includes('TEAM LEADER')) {
                        jobTitle = 'Team Leader';
                    }

                    auditorStats.push({
                        empNo: empNo,
                        name: config.name || emp['Full Name'],
                        building: 'All Buildings',
                        jobTitle: jobTitle,
                        count: 1,
                        rejectRate: areaRate.toFixed(1),
                        consecutive: 0,
                        cond7: cond7,
                        cond8: cond8,
                        incentiveStatus: cond7 && cond8 ? '지급' : '미지급',
                        sortOrder: 5  // All Buildings는 마지막
                    });
                }
            });

            // Building 순서대로 정렬
            auditorStats.sort((a, b) => a.sortOrder - b.sortOrder);

            return auditorStats;
        }

        const inspectorStats = calculateInspectorStats();
        const auditorStats = calculateAuditorStats();

        // 번역 텍스트 미리 fetch
        const t = {
            title: getTranslation('aqlModal.title'),
            summaryTitle: getTranslation('aqlModal.summaryTitle'),
            condition7: getTranslation('aqlModal.condition7'),
            condition7Detail: getTranslation('aqlModal.condition7Detail').replace(/0명|0 people|0 người/, cond7FailCount + (currentLanguage === 'ko' ? '명' : currentLanguage === 'en' ? ' people' : ' người')),
            condition8: getTranslation('aqlModal.condition8'),
            condition8Detail: getTranslation('aqlModal.condition8Detail'),
            auditorTrainer: getTranslation('aqlModal.auditorTrainer'),
            tableNote: getTranslation('aqlModal.tableNote'),
            tableNoteDetail: getTranslation('aqlModal.tableNoteDetail'),
            table1Title: getTranslation('aqlModal.table1Title'),
            table2Title: getTranslation('aqlModal.table2Title'),
            table2InspectorTitle: getTranslation('aqlModal.table2InspectorTitle'),
            table3Title: getTranslation('aqlModal.table3Title'),
            table3AuditorTitle: getTranslation('aqlModal.table3AuditorTitle'),
            dataSource: getTranslation('aqlModal.dataSource'),
            aqlFile: getTranslation('aqlModal.aqlFile'),
            building: getTranslation('aqlModal.building'),
            totalTests: getTranslation('aqlModal.totalTests'),
            pass: getTranslation('aqlModal.pass'),
            fail: getTranslation('aqlModal.fail'),
            rejectRate: getTranslation('aqlModal.rejectRate'),
            performanceGrade: getTranslation('aqlModal.performanceGrade'),
            totalInspectors: getTranslation('aqlModal.totalInspectors'),
            rejectInspectors: getTranslation('aqlModal.rejectInspectors'),
            passOnlyInspectors: getTranslation('aqlModal.passOnlyInspectors'),
            personnelRejectRate: getTranslation('aqlModal.personnelRejectRate'),
            jobTitle: getTranslation('aqlModal.jobTitle'),
            responsibleArea: getTranslation('aqlModal.responsibleArea'),
            personnel: getTranslation('aqlModal.personnel'),
            consecutiveMonths: getTranslation('aqlModal.consecutiveMonths'),
            incentiveStatus: getTranslation('aqlModal.incentiveStatus'),
            performanceExcellent: getTranslation('aqlModal.performanceExcellent'),
            performanceGood: getTranslation('aqlModal.performanceGood'),
            performanceWarning: getTranslation('aqlModal.performanceWarning'),
            performanceImprovement: getTranslation('aqlModal.performanceImprovement'),
            paid: getTranslation('aqlModal.paid'),
            notPaid: getTranslation('aqlModal.notPaid'),
            noteTitle: getTranslation('aqlModal.noteTitle'),
            condition7Description: getTranslation('aqlModal.condition7Description'),
            condition8Description: getTranslation('aqlModal.condition8Description'),
            incentiveNote: getTranslation('aqlModal.incentiveNote'),
            unitTests: getTranslation('aqlModal.unitTests'),
            unitPeople: getTranslation('aqlModal.unitPeople'),
            unitYear: getTranslation('aqlModal.unitYear'),
            total: getTranslation('aqlModal.total'),
            allBuildings: getTranslation('aqlModal.allBuildings')
        };

        // Bootstrap 모달 creation 및 표시
        const modalContent = `
            <div class="modal-header unified-modal-header">
                <h5 class="modal-title unified-modal-title">
                    <i class="bi bi-graph-up-arrow"></i>
                    ${t.title}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <div class="alert alert-info">
                        <strong>📊 ${t.summaryTitle}:</strong> ${totalAqlTests}${t.unitTests} (NORMAL PO)<br>
                        <strong>${t.condition7}:</strong> ${t.condition7Detail}<br>
                        <strong>${t.condition8}:</strong> ${t.condition8Detail} ${cond8FailCount}${t.unitPeople} ${t.auditorTrainer}
                    </div>
                    <p><strong>${t.tableNote}:</strong><br><br>${t.tableNoteDetail}</p>
                </div>

                <!-- 테이블 1: Buildingby AQL 검사 실적 (AQL file 기준) -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-chart-bar me-2"></i>📊 ${t.table1Title}</h6>
                    <p class="text-muted small mb-2">${t.dataSource}: ${reportYear}${t.unitYear} ${reportMonthNum}month ${t.aqlFile} ${totalAqlTests}${t.unitTests} (NORMAL PO)</p>
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size: 13px;">
                            <thead class="table-light">
                                <tr>
                                    <th style="padding: 10px;">${t.building}</th>
                                    <th style="padding: 10px; text-align: center;">${t.totalTests}</th>
                                    <th style="padding: 10px; text-align: center;">${t.pass}</th>
                                    <th style="padding: 10px; text-align: center;">${t.fail}</th>
                                    <th style="padding: 10px; text-align: center;">${t.rejectRate}</th>
                                    <th style="padding: 10px; text-align: center;">${t.performanceGrade}</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${['Building B', 'Building D', 'Building A', 'Building C', 'All Buildings', t.total].map(building => {
                                    const stats = aqlFileStats[building];
                                    if (!stats) return '';

                                    const isTotal = building === t.total;
                                    const rejectRate = stats.rejectRate;
                                    let badgeClass = 'bg-success';
                                    let statusText = t.performanceExcellent;

                                    if (rejectRate > 3) {
                                        badgeClass = 'bg-danger';
                                        statusText = t.performanceImprovement;
                                    } else if (rejectRate > 2.5) {
                                        badgeClass = 'bg-warning';
                                        statusText = t.performanceWarning;
                                    } else if (rejectRate > 1.5) {
                                        badgeClass = 'bg-info';
                                        statusText = t.performanceGood;
                                    }

                                    return `
                                        <tr class="${isTotal ? 'table-primary fw-bold' : ''}">
                                            <td style="padding: 8px;">${building}</td>
                                            <td style="padding: 8px; text-align: center;"><strong>${stats.total}${t.unitTests}</strong></td>
                                            <td style="padding: 8px; text-align: center;">${stats.pass}${t.unitTests}</td>
                                            <td style="padding: 8px; text-align: center;">${stats.fail}${t.unitTests}</td>
                                            <td style="padding: 8px; text-align: center;">
                                                <span class="badge ${badgeClass}" style="font-size: 13px; padding: 5px 10px;">
                                                    ${stats.rejectRate}%
                                                </span>
                                            </td>
                                            <td style="padding: 8px; text-align: center;">
                                                <span class="badge ${badgeClass}" style="font-size: 12px; padding: 4px 8px;">
                                                    ${statusText}
                                                </span>
                                            </td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 테이블 2: Assembly Inspector 인력 기준 검사 실적 -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-users me-2"></i>👥 ${t.table2Title}</h6>
                    <p class="text-muted small mb-2">${t.dataSource}: ${t.aqlFile} (${t.total} PO TYPE) - ${t.table2InspectorTitle}</p>
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size: 13px;">
                            <thead class="table-light">
                                <tr>
                                    <th style="padding: 10px;">${t.building}</th>
                                    <th style="padding: 10px; text-align: center;">${t.totalInspectors}</th>
                                    <th style="padding: 10px; text-align: center;">${t.rejectInspectors}</th>
                                    <th style="padding: 10px; text-align: center;">${t.passOnlyInspectors}</th>
                                    <th style="padding: 10px; text-align: center;">${t.personnelRejectRate}</th>
                                    <th style="padding: 10px; text-align: center;">${t.performanceGrade}</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${['Building B', 'Building D', 'Building A', 'Building C', t.total].map(building => {
                                    const stats = inspectorStats[building];
                                    if (!stats) return '';

                                    const isTotal = building === t.total;
                                    const rejectRate = parseFloat(stats.rejectRate);
                                    let badgeClass = 'bg-success';
                                    let statusText = t.performanceExcellent;

                                    if (rejectRate > 3) {
                                        badgeClass = 'bg-danger';
                                        statusText = t.performanceImprovement;
                                    } else if (rejectRate > 2.5) {
                                        badgeClass = 'bg-warning';
                                        statusText = t.performanceWarning;
                                    } else if (rejectRate > 1.5) {
                                        badgeClass = 'bg-info';
                                        statusText = t.performanceGood;
                                    }

                                    return `
                                        <tr class="${isTotal ? 'table-primary fw-bold' : ''}">
                                            <td style="padding: 8px;">${building}</td>
                                            <td style="padding: 8px; text-align: center;"><strong>${stats.totalInspectors}${t.unitPeople}</strong></td>
                                            <td style="padding: 8px; text-align: center;">${stats.rejectInspectors}${t.unitPeople}</td>
                                            <td style="padding: 8px; text-align: center;">${stats.passOnlyInspectors}${t.unitPeople}</td>
                                            <td style="padding: 8px; text-align: center;">
                                                <span class="badge ${badgeClass}" style="font-size: 13px; padding: 5px 10px;">
                                                    ${stats.rejectRate}%
                                                </span>
                                            </td>
                                            <td style="padding: 8px; text-align: center;">
                                                <span class="badge ${badgeClass}" style="font-size: 12px; padding: 4px 8px;">
                                                    ${statusText}
                                                </span>
                                            </td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 테이블 3: Auditor/Trainer incentive 현황 -->
                <div class="mb-4">
                    <h6 class="mb-3">🎯 ${t.table3Title}</h6>
                    <p class="text-muted small mb-2">${t.table3AuditorTitle}</p>
                    <div class="table-responsive">
                        <table class="table table-bordered" style="font-size: 13px;">
                            <thead class="table-light">
                                <tr>
                                    <th style="padding: 10px;">${t.jobTitle}</th>
                                    <th style="padding: 10px;">${t.responsibleArea}</th>
                                    <th style="padding: 10px;">${t.personnel}</th>
                                    <th style="padding: 10px; text-align: center;">${t.rejectRate}</th>
                                    <th style="padding: 10px; text-align: center;">${t.consecutiveMonths}</th>
                                    <th style="padding: 10px; text-align: center;">${t.condition7}</th>
                                    <th style="padding: 10px; text-align: center;">${t.condition8}</th>
                                    <th style="padding: 10px; text-align: center;">${t.incentiveStatus}</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${auditorStats.map(stats => {
                                    const isPayment = stats.incentiveStatus === t.paid || stats.incentiveStatus === '지급';
                                    const badgeClass = isPayment ? 'bg-success' : 'bg-danger';
                                    const cond7Badge = stats.cond7 ? '<span class="badge bg-success">✅</span>' : '<span class="badge bg-danger">❌</span>';
                                    const cond8Badge = stats.cond8 ? '<span class="badge bg-success">✅</span>' : '<span class="badge bg-danger">❌</span>';
                                    const statusText = isPayment ? t.paid : t.notPaid;

                                    return `
                                        <tr>
                                            <td style="padding: 8px;">${stats.jobTitle}</td>
                                            <td style="padding: 8px;"><strong>${stats.building}</strong></td>
                                            <td style="padding: 8px;">${stats.name}</td>
                                            <td style="padding: 8px; text-align: center;">
                                                <span class="badge ${parseFloat(stats.rejectRate) > 3 ? 'bg-danger' : 'bg-success'}" style="font-size: 13px;">
                                                    ${stats.rejectRate}%
                                                </span>
                                            </td>
                                            <td style="padding: 8px; text-align: center;">${stats.consecutive}${t.unitPeople}</td>
                                            <td style="padding: 8px; text-align: center;">${cond7Badge}</td>
                                            <td style="padding: 8px; text-align: center;">${cond8Badge}</td>
                                            <td style="padding: 8px; text-align: center;">
                                                <span class="badge ${badgeClass}" style="font-size: 12px; padding: 4px 8px;">
                                                    ${isPayment ? '🟢' : '🔴'} ${statusText}
                                                </span>
                                            </td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                    <p class="small text-muted mt-2">
                        <strong>${t.noteTitle}:</strong><br>
                        • ${t.condition7Description}<br>
                        • ${t.condition8Description}<br>
                        • ${t.incentiveNote}
                    </p>
                </div>
            </div>
        </div>
    </div>
            `;

        // Bootstrap 모달 처리
        let modal = document.getElementById('detailModal');
        if (!modal) {
            const modalHTML = `
                <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true" data-bs-backdrop="true" data-bs-keyboard="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content" id="detailModalContent"></div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            modal = document.getElementById('detailModal');
        }

        document.getElementById('detailModalContent').innerHTML = modalContent;

        // Bootstrap 5 Modal 처리
        const modalElement = document.getElementById('detailModal');

        // existing 모달 인스턴스 정리
        const existingModal = bootstrap.Modal.getInstance(modalElement);
        if (existingModal) {
            existingModal.dispose();
        }

        // 새 모달 인스턴스 creation with proper options
        const bsModal = new bootstrap.Modal(modalElement, {
            backdrop: 'static',  // 모달 내부 클릭시 닫히지 않도록 설정
            keyboard: true,      // ESC 키로 닫기
            focus: true
        });

        bsModal.show();

        // 백드롭 클릭 이벤트 직원시적 처리 (구역 AQL 모달)
        setTimeout(() => {
            const backdrop = document.querySelector('.modal-backdrop');
            if (backdrop) {
                backdrop.style.cursor = 'pointer';
                backdrop.addEventListener('click', function(e) {
                    if (e.target === backdrop) {
                        bsModal.hide();
                    }
                });
            }
        }, 100);

        // 모달 닫기 이벤트 리스너 추가
        modalElement.addEventListener('hidden.bs.modal', function () {
            // 모달이 닫힌 후 정리 작업
            const backdrop = document.querySelector('.modal-backdrop');
            if (backdrop) {
                backdrop.remove();
            }
            document.body.classList.remove('modal-open');
            document.body.style.removeProperty('overflow');
            document.body.style.removeProperty('padding-right');
        });
    }

    // 5PRS 통과율 < 95% 상세 모달
    function showLowPassRateDetails() {
        // Load translations
        const t = {
            title: getTranslation('fivePrsModal.title'),
            description: getTranslation('fivePrsModal.description'),
            totalCount: getTranslation('fivePrsModal.totalCount'),
            table1Title: getTranslation('fivePrsModal.table1Title'),
            table2Title: getTranslation('fivePrsModal.table2Title'),
            employeeId: getTranslation('fivePrsModal.employeeId'),
            name: getTranslation('fivePrsModal.name'),
            position: getTranslation('fivePrsModal.position'),
            type: getTranslation('fivePrsModal.type'),
            totalQuantity: getTranslation('fivePrsModal.totalQuantity'),
            passQuantity: getTranslation('fivePrsModal.passQuantity'),
            passRate: getTranslation('fivePrsModal.passRate'),
            conditionStatus: getTranslation('fivePrsModal.conditionStatus'),
            rank: getTranslation('fivePrsModal.rank'),
            unitPcs: getTranslation('fivePrsModal.unitPcs')
        };

        // Move these variables outside so they can be accessed by nested functions
        let allType1Inspectors = [];
        let lowPassEmployees = [];
        let sortColumn = 'passRate';
        let sortOrder = 'asc';
        let sortColumn2 = 'passRate';
        let sortOrder2 = 'asc';
        let modalDiv = null;
        let backdrop = null;

        function sortData(column) {
            if (sortColumn === column) {
                sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortOrder = column === 'passRate' ? 'asc' : 'desc';
            }
            updateTableBody();
        }

        function sortData2(column) {
            if (sortColumn2 === column) {
                sortOrder2 = sortOrder2 === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn2 = column;
                sortOrder2 = column === 'passRate' ? 'asc' : 'desc';
            }
            updateTableBody2();
        }

        function updateTableBody() {
            const tbody = document.querySelector('#lowPassRateModal tbody');
            if (!tbody) return;

            // 정렬
            lowPassEmployees.sort((a, b) => {
                let aVal, bVal;
                switch (sortColumn) {
                    case 'empNo':
                        aVal = a['Employee No'] || a['emp_no'];
                        bVal = b['Employee No'] || b['emp_no'];
                        break;
                    case 'name':
                        aVal = a['Full Name'] || a['name'];
                        bVal = b['Full Name'] || b['name'];
                        break;
                    case 'position':
                        aVal = a['position'] || a['FINAL QIP POSITION NAME CODE'] || '';
                        bVal = b['position'] || b['FINAL QIP POSITION NAME CODE'] || '';
                        break;
                    case 'totalQty':
                        aVal = parseFloat(a['validation_qty'] || a['5PRS_Inspection_Qty'] || a['5PRS Inspection Quantity'] || 0);
                        bVal = parseFloat(b['validation_qty'] || b['5PRS_Inspection_Qty'] || b['5PRS Inspection Quantity'] || 0);
                        break;
                    case 'passQty':
                        const aPassRate = parseFloat(a['pass_rate'] || a['5PRS_Pass_Rate'] || a['5PRS Pass Rate'] || 0);
                        const aTotalQty = parseFloat(a['validation_qty'] || a['5PRS_Inspection_Qty'] || a['5PRS Inspection Quantity'] || 0);
                        aVal = Math.round(aTotalQty * aPassRate / 100);
                        const bPassRate = parseFloat(b['pass_rate'] || b['5PRS_Pass_Rate'] || b['5PRS Pass Rate'] || 0);
                        const bTotalQty = parseFloat(b['validation_qty'] || b['5PRS_Inspection_Qty'] || b['5PRS Inspection Quantity'] || 0);
                        bVal = Math.round(bTotalQty * bPassRate / 100);
                        break;
                    case 'passRate':
                        aVal = parseFloat(a['pass_rate'] || a['5PRS_Pass_Rate'] || a['5PRS Pass Rate'] || 100);
                        bVal = parseFloat(b['pass_rate'] || b['5PRS_Pass_Rate'] || b['5PRS Pass Rate'] || 100);
                        break;
                }

                if (typeof aVal === 'string') {
                    return sortOrder === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
                }
                return sortOrder === 'asc' ? aVal - bVal : bVal - aVal;
            });

            // 테이블 업데이트
            tbody.innerHTML = '';
            lowPassEmployees.forEach(emp => {
                const empNo = emp['Employee No'] || emp['emp_no'];
                const name = emp['Full Name'] || emp['name'];
                const position = emp['position'] || emp['FINAL QIP POSITION NAME CODE'] || '-';
                const totalQty = parseFloat(emp['validation_qty'] || emp['5PRS_Inspection_Qty'] || emp['5PRS Inspection Quantity'] || 0);
                const passRate = parseFloat(emp['pass_rate'] || emp['5PRS_Pass_Rate'] || emp['5PRS Pass Rate'] || 0);
                const passQty = Math.round(totalQty * passRate / 100);

                // Pass Rate에 따른 색상
                let badgeClass = 'bg-danger';
                if (passRate >= 90) badgeClass = 'bg-warning';
                else if (passRate >= 80) badgeClass = 'bg-orange';

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${empNo}</td>
                    <td>${name}</td>
                    <td>${position}</td>
                    <td>TYPE-1</td>
                    <td>${totalQty.toFixed(0)}${t.unitPcs}</td>
                    <td>${passQty}${t.unitPcs}</td>
                    <td><span class="badge ${badgeClass}">${passRate.toFixed(1)}%</span></td>
                    <td>${passRate < 95 ? t.conditionStatus.split('/')[1] : t.conditionStatus.split('/')[0]}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateTableBody2() {
            const tbody = document.querySelector('#lowPassRateModal2 tbody');
            if (!tbody) return;

            // Get top 10 lowest pass rates from ALL TYPE-1 ASSEMBLY INSPECTORS
            let top10Lowest = [...allType1Inspectors].sort((a, b) => {
                const aRate = parseFloat(a['pass_rate'] || a['5PRS_Pass_Rate'] || a['5PRS Pass Rate'] || 100);
                const bRate = parseFloat(b['pass_rate'] || b['5PRS_Pass_Rate'] || b['5PRS Pass Rate'] || 100);
                return aRate - bRate;
            }).slice(0, 10);

            // Apply secondary sorting
            top10Lowest.sort((a, b) => {
                let aVal, bVal;
                switch (sortColumn2) {
                    case 'empNo':
                        aVal = a['Employee No'] || a['emp_no'];
                        bVal = b['Employee No'] || b['emp_no'];
                        break;
                    case 'name':
                        aVal = a['Full Name'] || a['name'];
                        bVal = b['Full Name'] || b['name'];
                        break;
                    case 'position':
                        aVal = a['position'] || a['FINAL QIP POSITION NAME CODE'] || '';
                        bVal = b['position'] || b['FINAL QIP POSITION NAME CODE'] || '';
                        break;
                    case 'totalQty':
                        aVal = parseFloat(a['validation_qty'] || a['5PRS_Inspection_Qty'] || a['5PRS Inspection Quantity'] || 0);
                        bVal = parseFloat(b['validation_qty'] || b['5PRS_Inspection_Qty'] || b['5PRS Inspection Quantity'] || 0);
                        break;
                    case 'passQty':
                        const aPassRate = parseFloat(a['pass_rate'] || a['5PRS_Pass_Rate'] || a['5PRS Pass Rate'] || 0);
                        const aTotalQty = parseFloat(a['validation_qty'] || a['5PRS_Inspection_Qty'] || a['5PRS Inspection Quantity'] || 0);
                        aVal = Math.round(aTotalQty * aPassRate / 100);
                        const bPassRate = parseFloat(b['pass_rate'] || b['5PRS_Pass_Rate'] || b['5PRS Pass Rate'] || 0);
                        const bTotalQty = parseFloat(b['validation_qty'] || b['5PRS_Inspection_Qty'] || b['5PRS Inspection Quantity'] || 0);
                        bVal = Math.round(bTotalQty * bPassRate / 100);
                        break;
                    case 'passRate':
                        aVal = parseFloat(a['pass_rate'] || a['5PRS_Pass_Rate'] || a['5PRS Pass Rate'] || 100);
                        bVal = parseFloat(b['pass_rate'] || b['5PRS_Pass_Rate'] || b['5PRS Pass Rate'] || 100);
                        break;
                }

                if (typeof aVal === 'string') {
                    return sortOrder2 === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
                }
                return sortOrder2 === 'asc' ? aVal - bVal : bVal - aVal;
            });

            // 테이블 업데이트
            tbody.innerHTML = '';
            top10Lowest.forEach((emp, index) => {
                const empNo = emp['Employee No'] || emp['emp_no'];
                const name = emp['Full Name'] || emp['name'];
                const position = emp['position'] || emp['FINAL QIP POSITION NAME CODE'] || '-';
                const totalQty = parseFloat(emp['validation_qty'] || emp['5PRS_Inspection_Qty'] || emp['5PRS Inspection Quantity'] || 0);
                const passRate = parseFloat(emp['pass_rate'] || emp['5PRS_Pass_Rate'] || emp['5PRS Pass Rate'] || 0);
                const passQty = Math.round(totalQty * passRate / 100);

                // Pass Rate에 따른 색상
                let badgeClass = 'bg-danger';
                if (passRate >= 90) badgeClass = 'bg-warning';
                else if (passRate >= 80) badgeClass = 'bg-orange';

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${index + 1}</strong></td>
                    <td>${empNo}</td>
                    <td>${name}</td>
                    <td>${position}</td>
                    <td>TYPE-1</td>
                    <td>${totalQty.toFixed(0)}${t.unitPcs}</td>
                    <td>${passQty}${t.unitPcs}</td>
                    <td><span class="badge ${badgeClass}">${passRate.toFixed(1)}%</span></td>
                    <td>${passRate < 95 ? t.conditionStatus.split('/')[1] : t.conditionStatus.split('/')[0]}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function create5PrsModal() {
            // CRITICAL FIX: Filter data when modal is created, not when function is defined
            console.log('[5PRS Modal] window.employeeData length:', window.employeeData ? window.employeeData.length : 0);

            // TYPE-1 ASSEMBLY INSPECTOR total (position code based)
            // A1A, A1B, A1C = ASSEMBLY INSPECTOR
            allType1Inspectors = (window.employeeData || []).filter(emp => {
                const isType1 = emp['type'] === 'TYPE-1' || emp['ROLE TYPE STD'] === 'TYPE-1';
                // CRITICAL FIX: Use position_code field (FINAL QIP POSITION NAME CODE)
                const positionCode = (emp['position_code'] || '').toUpperCase().trim();
                const isAssemblyInspector = ['A1A', 'A1B', 'A1C'].includes(positionCode);
                console.log(`[5PRS Modal Filter] Employee ${emp['emp_no']}: type=${emp['type']}, position_code=${emp['position_code']}, isType1=${isType1}, isAssembly=${isAssemblyInspector}`);
                return isType1 && isAssemblyInspector;
            });

            console.log('[5PRS Modal] TYPE-1 ASSEMBLY INSPECTORS found:', allType1Inspectors.length);

            // TYPE-1 ASSEMBLY INSPECTOR with pass rate < 95% 필터링 (첫 번째 테이블용)
            lowPassEmployees = allType1Inspectors.filter(emp => {
                const passRate = parseFloat(emp['pass_rate'] || emp['5PRS_Pass_Rate'] || emp['5PRS Pass Rate'] || 100);
                console.log(`[5PRS Pass Rate Filter] Employee ${emp['emp_no']}: pass_rate=${emp['pass_rate']}, 5PRS_Pass_Rate=${emp['5PRS_Pass_Rate']}, parsed=${passRate}, below95=${passRate < 95}`);
                return passRate < 95;
            });

            console.log('[5PRS Modal] Employees with pass rate < 95%:', lowPassEmployees.length);

            // 백드롭 creation
            backdrop = document.createElement('div');
            backdrop.className = 'modal-backdrop fade show';
            backdrop.style.zIndex = '1040';
            document.body.appendChild(backdrop);

            // 모달 creation
            modalDiv = document.createElement('div');
            modalDiv.className = 'modal fade show d-block';
            modalDiv.style.zIndex = '1050';
            modalDiv.setAttribute('id', 'lowPassRateModal');

            const modalHTML = `
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header unified-modal-header">
                            <h5 class="modal-title unified-modal-title">
                                <i class="bi bi-graph-down"></i>
                                ${t.title}
                            </h5>
                            <button type="button" class="btn-close" onclick="window.closeLowPassRateModal()"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <div class="alert alert-warning">
                                    <strong>${t.description}</strong>
                                </div>
                                <p>${t.totalCount.replace('{count}', lowPassEmployees.length)}</p>
                            </div>

                            <!-- Table 1: All 직원 with pass rate < 95% -->
                            <h6 class="mb-3">${t.table1Title}</h6>
                            <div class="table-responsive mb-4">
                                <table class="table table-hover">
                                    <thead class="unified-table-header">
                                        <tr>
                                            <th class="sortable-header" data-sort="empNo">${t.employeeId} ${getSortIcon('empNo')}</th>
                                            <th class="sortable-header" data-sort="name">${t.name} ${getSortIcon('name')}</th>
                                            <th class="sortable-header" data-sort="position">${t.position} ${getSortIcon('position')}</th>
                                            <th>${t.type}</th>
                                            <th class="sortable-header" data-sort="totalQty">${t.totalQuantity} ${getSortIcon('totalQty')}</th>
                                            <th class="sortable-header" data-sort="passQty">${t.passQuantity} ${getSortIcon('passQty')}</th>
                                            <th class="sortable-header" data-sort="passRate">${t.passRate} ${getSortIcon('passRate')}</th>
                                            <th>${t.conditionStatus.split('/')[2]}</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>

                            <!-- Table 2: Top 10 lowest pass rates -->
                            <h6 class="mb-3">${t.table2Title}</h6>
                            <div class="table-responsive">
                                <table class="table table-hover" id="lowPassRateModal2">
                                    <thead class="unified-table-header">
                                        <tr>
                                            <th>${t.rank}</th>
                                            <th class="sortable-header-2" data-sort="empNo">${t.employeeId} ${getSortIcon2('empNo')}</th>
                                            <th class="sortable-header-2" data-sort="name">${t.name} ${getSortIcon2('name')}</th>
                                            <th class="sortable-header-2" data-sort="position">${t.position} ${getSortIcon2('position')}</th>
                                            <th>${t.type}</th>
                                            <th class="sortable-header-2" data-sort="totalQty">${t.totalQuantity} ${getSortIcon2('totalQty')}</th>
                                            <th class="sortable-header-2" data-sort="passQty">${t.passQuantity} ${getSortIcon2('passQty')}</th>
                                            <th class="sortable-header-2" data-sort="passRate">${t.passRate} ${getSortIcon2('passRate')}</th>
                                            <th>${t.conditionStatus.split('/')[2]}</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            modalDiv.innerHTML = modalHTML;
            document.body.appendChild(modalDiv);
            document.body.classList.add('modal-open');

            // 정렬 이벤트 추가 - Table 1
            modalDiv.querySelectorAll('.sortable-header').forEach(header => {
                header.addEventListener('click', function() {
                    const column = this.getAttribute('data-sort');
                    sortData(column);

                    // 헤더 업데이트
                    modalDiv.querySelectorAll('.sortable-header').forEach(h => {
                        const col = h.getAttribute('data-sort');
                        const icon = getSortIcon(col);
                        const text = h.textContent.replace(/[▲▼]/g, '').trim();
                        h.innerHTML = text + ' ' + icon;
                    });
                });
            });

            // 정렬 이벤트 추가 - Table 2
            modalDiv.querySelectorAll('.sortable-header-2').forEach(header => {
                header.addEventListener('click', function() {
                    const column = this.getAttribute('data-sort');
                    sortData2(column);

                    // 헤더 업데이트
                    modalDiv.querySelectorAll('.sortable-header-2').forEach(h => {
                        const col = h.getAttribute('data-sort');
                        const icon = getSortIcon2(col);
                        const text = h.textContent.replace(/[▲▼]/g, '').trim();
                        h.innerHTML = text + ' ' + icon;
                    });
                });
            });

            // 초기 data load
            updateTableBody();
            updateTableBody2();

            // 닫기 함count
            window.closeLowPassRateModal = function() {
                if (modalDiv) {
                    modalDiv.remove();
                    modalDiv = null;
                }
                if (backdrop) {
                    backdrop.remove();
                    backdrop = null;
                }
                document.body.classList.remove('modal-open');
                window.closeLowPassRateModal = null;
            };

            // 백드롭 클릭으로 닫기
            backdrop.onclick = function(e) {
                if (e.target === backdrop) {
                    window.closeLowPassRateModal();
                }
            };

            // 모달 내부 클릭 시 이벤트 전파 중단
            modalDiv.querySelector('.modal-content').onclick = function(e) {
                e.stopPropagation();
            };
        }

        function getSortIcon(column) {
            if (sortColumn !== column) return '';
            return sortOrder === 'asc' ? '▲' : '▼';
        }

        function getSortIcon2(column) {
            if (sortColumn2 !== column) return '';
            return sortOrder2 === 'asc' ? '▲' : '▼';
        }

        create5PrsModal();
    }

    // 5PRS 검사량 < 100족 상세 모달
    function showLowInspectionQtyDetails() {
        // CRITICAL FIX: 5PRS data file에 actual로 있는 직원만 표시
        // TYPE-1 ASSEMBLY INSPECTOR with inspection qty < 100 필터링
        let lowQtyEmployees = window.employeeData.filter(emp => {
            const isType1 = emp['type'] === 'TYPE-1' || emp['ROLE TYPE STD'] === 'TYPE-1';
            const positionCode = (emp['position_code'] || '').toUpperCase().trim();
            const isAssemblyInspector = ['A1A', 'A1B', 'A1C'].includes(positionCode);

            // CRITICAL: validation_qty가 actual로 존재하고(NaN 아님) 100 미만인 경우만
            const hasValidationData = emp['validation_qty'] !== null &&
                                     emp['validation_qty'] !== undefined &&
                                     emp['validation_qty'] !== '' &&
                                     !isNaN(parseFloat(emp['validation_qty']));
            const inspectionQty = hasValidationData ? parseFloat(emp['validation_qty']) : 999999;

            return isType1 && isAssemblyInspector && hasValidationData && inspectionQty < 100;
        });

        let sortColumn = 'inspectionQty';
        let sortOrder = 'asc';
        let modalDiv = null;
        let backdrop = null;

        function sortData(column) {
            if (sortColumn === column) {
                sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortOrder = column === 'inspectionQty' ? 'asc' : 'desc';
            }
            updateTableBody();
        }

        function updateTableBody() {
            const tbody = document.querySelector('#lowInspectionQtyModal tbody');
            if (!tbody) return;

            // 정렬
            lowQtyEmployees.sort((a, b) => {
                let aVal, bVal;
                switch (sortColumn) {
                    case 'empNo':
                        aVal = a['Employee No'] || a['emp_no'];
                        bVal = b['Employee No'] || b['emp_no'];
                        break;
                    case 'name':
                        aVal = a['Full Name'] || a['name'];
                        bVal = b['Full Name'] || b['name'];
                        break;
                    case 'position':
                        aVal = a['position'] || a['FINAL QIP POSITION NAME CODE'] || '';
                        bVal = b['position'] || b['FINAL QIP POSITION NAME CODE'] || '';
                        break;
                    case 'inspectionQty':
                        aVal = parseFloat(a['validation_qty'] || a['5PRS Inspection Quantity'] || 0);
                        bVal = parseFloat(b['validation_qty'] || b['5PRS Inspection Quantity'] || 0);
                        break;
                }

                if (typeof aVal === 'string') {
                    return sortOrder === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
                }
                return sortOrder === 'asc' ? aVal - bVal : bVal - aVal;
            });

            // 테이블 업데이트
            tbody.innerHTML = '';
            lowQtyEmployees.forEach(emp => {
                const empNo = emp['Employee No'] || emp['emp_no'];
                const name = emp['Full Name'] || emp['name'];
                const position = emp['position'] || emp['FINAL QIP POSITION NAME CODE'] || '-';
                const inspectionQty = Math.round(parseFloat(emp['validation_qty'] || emp['5PRS Inspection Quantity'] || 0));

                // Inspection Qty에 따른 색상 및 텍스트 색상
                // 0-49족: 빨간색 (심각), 50-79족: 주황색 (주의), 80-99족: 노란색 (경고)
                let badgeClass = 'bg-danger text-white';
                if (inspectionQty >= 80) {
                    badgeClass = 'bg-warning text-dark';
                } else if (inspectionQty >= 50) {
                    badgeClass = 'bg-orange text-white';
                }

                // 언어별 단위 및 상태 텍스트
                const qtyUnit = currentLanguage === 'ko' ? '족' : currentLanguage === 'en' ? ' prs' : ' bộ';
                const statusText = inspectionQty < 100 ?
                    (currentLanguage === 'ko' ? '미충족' : currentLanguage === 'en' ? 'Not Met' : 'Không đạt') :
                    (currentLanguage === 'ko' ? '충족' : currentLanguage === 'en' ? 'Met' : 'Đạt');

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${empNo}</td>
                    <td>${name}</td>
                    <td>${position}</td>
                    <td>TYPE-1</td>
                    <td><span class="badge ${badgeClass}">${inspectionQty}${qtyUnit}</span></td>
                    <td>${statusText}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function createInspectionModal() {
            // Get current language
            const lang = currentLanguage || 'ko';
            const t = (key) => getTranslation(key, lang);

            // 백드롭 creation
            backdrop = document.createElement('div');
            backdrop.className = 'modal-backdrop fade show';
            backdrop.style.zIndex = '1040';
            document.body.appendChild(backdrop);

            // 모달 creation
            modalDiv = document.createElement('div');
            modalDiv.className = 'modal fade show d-block';
            modalDiv.style.zIndex = '1050';
            modalDiv.setAttribute('id', 'lowInspectionQtyModal');

            const countText = t('validationTab.modals.lowInspectionQty.count').replace('{count}', lowQtyEmployees.length);

            const modalHTML = `
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header unified-modal-header">
                            <h5 class="modal-title unified-modal-title" data-i18n="validationTab.modals.lowInspectionQty.title">
                                <i class="bi bi-search"></i>
                                ${t('validationTab.modals.lowInspectionQty.title')}
                            </h5>
                            <button type="button" class="btn-close" onclick="window.closeLowInspectionQtyModal()"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <div class="alert alert-warning" data-i18n="validationTab.modals.lowInspectionQty.alert">
                                    ${t('validationTab.modals.lowInspectionQty.alert')}
                                </div>
                                <p data-i18n="validationTab.modals.lowInspectionQty.count">${countText}</p>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="unified-table-header">
                                        <tr>
                                            <th class="sortable-header" data-sort="empNo" data-i18n="validationTab.modals.lowInspectionQty.headers.empNo">${t('validationTab.modals.lowInspectionQty.headers.empNo')} ${getSortIcon('empNo')}</th>
                                            <th class="sortable-header" data-sort="name" data-i18n="validationTab.modals.lowInspectionQty.headers.name">${t('validationTab.modals.lowInspectionQty.headers.name')} ${getSortIcon('name')}</th>
                                            <th class="sortable-header" data-sort="position" data-i18n="validationTab.modals.lowInspectionQty.headers.position">${t('validationTab.modals.lowInspectionQty.headers.position')} ${getSortIcon('position')}</th>
                                            <th data-i18n="validationTab.modals.lowInspectionQty.headers.type">${t('validationTab.modals.lowInspectionQty.headers.type')}</th>
                                            <th class="sortable-header" data-sort="inspectionQty" data-i18n="validationTab.modals.lowInspectionQty.headers.inspectionQty">${t('validationTab.modals.lowInspectionQty.headers.inspectionQty')} ${getSortIcon('inspectionQty')}</th>
                                            <th data-i18n="validationTab.modals.lowInspectionQty.headers.conditionMet">${t('validationTab.modals.lowInspectionQty.headers.conditionMet')}</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            modalDiv.innerHTML = modalHTML;
            document.body.appendChild(modalDiv);
            document.body.classList.add('modal-open');

            // 정렬 이벤트 추가
            modalDiv.querySelectorAll('.sortable-header').forEach(header => {
                header.addEventListener('click', function() {
                    const column = this.getAttribute('data-sort');
                    sortData(column);

                    // 헤더 업데이트
                    modalDiv.querySelectorAll('.sortable-header').forEach(h => {
                        const col = h.getAttribute('data-sort');
                        const icon = getSortIcon(col);
                        h.innerHTML = h.textContent.replace(/[▲▼]/g, '').trim() + ' ' + icon;
                    });
                });
            });

            // 초기 data load
            updateTableBody();

            // 닫기 함count
            window.closeLowInspectionQtyModal = function() {
                if (modalDiv) {
                    modalDiv.remove();
                    modalDiv = null;
                }
                if (backdrop) {
                    backdrop.remove();
                    backdrop = null;
                }
                document.body.classList.remove('modal-open');
                window.closeLowInspectionQtyModal = null;
            };

            // 백드롭 클릭으로 닫기
            backdrop.onclick = function(e) {
                if (e.target === backdrop) {
                    window.closeLowInspectionQtyModal();
                }
            };

            // 모달 내부 클릭 시 이벤트 전파 중단
            modalDiv.querySelector('.modal-content').onclick = function(e) {
                e.stopPropagation();
            };
        }

        function getSortIcon(column) {
            if (sortColumn !== column) return '';
            return sortOrder === 'asc' ? '▲' : '▼';
        }

        createInspectionModal();
    }
    

        // 검증 모달 표시 함count
        function showValidationModal(conditionType) {
            console.log('Showing validation modal for:', conditionType);

            // 새로운 개선된 모달 함count 호출
            if (conditionType === 'totalWorkingDays') {
                showTotalWorkingDaysDetails();
                return;
            } else if (conditionType === 'zeroWorkingDays') {
                showZeroWorkingDaysDetails();
                return;
            } else if (conditionType === 'absentWithoutInform') {
                showAbsentWithoutInformDetails();
                return;
            } else if (conditionType === 'minimumDaysNotMet') {
                showMinimumDaysNotMetDetails();
                return;
            } else if (conditionType === 'attendanceBelow88') {
                showAttendanceBelow88Details();
                return;
            } else if (conditionType === 'aqlFail') {
                showAqlFailDetails();
                return;
            } else if (conditionType === 'consecutiveAqlFail') {
                showConsecutiveAqlFailDetails();
                return;
            } else if (conditionType === 'areaRejectRate') {
                showAreaRejectRateDetails();
                return;
            } else if (conditionType === 'lowPassRate') {
                showLowPassRateDetails();
                return;
            } else if (conditionType === 'lowInspectionQty') {
                showLowInspectionQtyDetails();
                return;
            }

            // existing 모달 처리 (다른 type의 경우)
            const modalHtml = createValidationModalContent(conditionType);

            // existing 모달 제거
            const existingModal = document.getElementById('validationModal');
            if (existingModal) {
                existingModal.remove();
            }

            // 모달 추가
            document.body.insertAdjacentHTML('beforeend', modalHtml);

            // 모달 표시
            const modal = document.getElementById('validationModal');
            if (modal) {
                // existing backdrop 제거
                const existingBackdrop = document.querySelector('.modal-backdrop');
                if (existingBackdrop) {
                    existingBackdrop.remove();
                }

                // Bootstrap 5 modal 표시 - 더 안전한 방법
                try {
                    // existing 모달 인스턴스가 있으면 먼저 처리
                    const existingModal = bootstrap.Modal.getInstance(modal);
                    if (existingModal) {
                        existingModal.dispose();
                    }

                    // 새 모달 인스턴스 creation 및 표시
                    const bootstrapModal = new bootstrap.Modal(modal, {
                        backdrop: true,
                        keyboard: true,
                        focus: true
                    });
                    bootstrapModal.show();
                } catch (e) {
                    console.error('Bootstrap modal error:', e);
                    // Fallback: count동으로 모달 표시
                    modal.classList.add('show');
                    modal.style.display = 'block';
                    modal.setAttribute('aria-modal', 'true');
                    modal.setAttribute('role', 'dialog');
                    document.body.classList.add('modal-open');

                    // count동으로 backdrop 추가
                    const backdrop = document.createElement('div');
                    backdrop.className = 'modal-backdrop fade show';
                    document.body.appendChild(backdrop);
                }

                // 테이블 정렬 기능 초기화
                initSortableTable('validationModalTable');

                // 검색 필터 초기화
                initTableFilter('validationModalSearch', 'validationModalTable');
            }
        }

        function createValidationModalContent(conditionType) {
            let modalTitle = '';
            let tableHeaders = [];
            let tableData = [];

            // interim report 여부 확인 (data 기간의 last 날 기준)
            const incentiveDataPeriod = document.getElementById('incentiveDataPeriod');
            const dataEndDay = incentiveDataPeriod ? parseInt(incentiveDataPeriod.getAttribute('data-endday')) : 0;
            const isInterimReport = dataEndDay < 20;

            switch(conditionType) {
                case 'totalWorkingDays':
                    modalTitle = getTranslation('validationTab.modalTitles.totalWorkingDays', currentLanguage);
                    tableHeaders = ['날짜', '요th', 'work 인원count'];
                    // actual로는 thby data가 없으므로 total 근무일count만 표시
                    const totalDays = employeeData[0]?.['Total Working Days'] || 13;
                    tableData = [[
                        `2025year 9월month`,
                        '-',
                        `total ${totalDays}th`
                    ]];
                    break;

                case 'absentWithoutInform':
                    modalTitle = getTranslation('validationTab.modalTitles.absentWithoutInform', currentLanguage);

                    // 무단결근 분포 계산
                    const absenceData = employeeData.filter(emp => parseFloat(emp['Unapproved Absences'] || 0) >= 1);
                    const absence1 = absenceData.filter(emp => parseFloat(emp['Unapproved Absences']) === 1).length;
                    const absence2 = absenceData.filter(emp => parseFloat(emp['Unapproved Absences']) === 2).length;
                    const absence3plus = absenceData.filter(emp => parseFloat(emp['Unapproved Absences']) >= 3).length;

                    // 요약 섹션 HTML
                    const summaryHtml = `
                        <div style="margin-bottom: 20px; padding: 15px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 8px;">
                            <div style="display: flex; justify-content: space-around; text-align: center;">
                                <div style="flex: 1;">
                                    <div style="font-size: 24px; font-weight: bold; color: #3498db;">$${absence1}</div>
                                    <div style="font-size: 14px; color: #7f8c8d;">1일</div>
                                </div>
                                <div style="flex: 1;">
                                    <div style="font-size: 24px; font-weight: bold; color: #f39c12;">$${absence2}</div>
                                    <div style="font-size: 14px; color: #7f8c8d;">2일</div>
                                </div>
                                <div style="flex: 1;">
                                    <div style="font-size: 24px; font-weight: bold; color: #e74c3c;">$${absence3plus}</div>
                                    <div style="font-size: 14px; color: #7f8c8d;">3일 이상 (조건 초과)</div>
                                </div>
                            </div>
                        </div>
                    `;

                    tableHeaders = [
                        getTranslation('validationTab.tableHeaders.employeeNo', currentLanguage),
                        getTranslation('validationTab.tableHeaders.name', currentLanguage),
                        getTranslation('validationTab.tableHeaders.position', currentLanguage),
                        getTranslation('validationTab.tableHeaders.ar1Days', currentLanguage),
                        getTranslation('validationTab.tableHeaders.conditionStatus', currentLanguage)
                    ];
                    tableData = absenceData
                        .map(emp => {
                            const days = parseFloat(emp['Unapproved Absences']);
                            const daysCell = days >= 3 ? `<span style="color: #e74c3c; font-weight: bold;">$${days}</span>` : days;
                            return [
                                emp['Employee No'],
                                emp['Full Name'],
                                emp['FINAL QIP POSITION NAME CODE'],
                                daysCell,
                                emp['attendancy condition 2 - unapproved Absence Day is more than 2 days'] || (days > 2 ? 'FAIL' : 'PASS')
                            ];
                        });

                    // 요약 섹션을 모달에 추가
                    modalContent = summaryHtml;
                    break;

                case 'zeroWorkingDays':
                    modalTitle = getTranslation('validationTab.modalTitles.zeroWorkingDays', currentLanguage);
                    tableHeaders = [
                        getTranslation('validationTab.tableHeaders.employeeNo', currentLanguage),
                        getTranslation('validationTab.tableHeaders.name', currentLanguage),
                        getTranslation('validationTab.tableHeaders.position', currentLanguage),
                        getTranslation('validationTab.tableHeaders.totalDays', currentLanguage),
                        getTranslation('validationTab.tableHeaders.actualDays', currentLanguage),
                        getTranslation('validationTab.tableHeaders.conditionStatus', currentLanguage)
                    ];
                    tableData = employeeData
                        .filter(emp => parseFloat(emp['Actual Working Days'] || 0) === 0)
                        .map(emp => [
                            emp['Employee No'],
                            emp['Full Name'],
                            emp['FINAL QIP POSITION NAME CODE'],
                            emp['Total Working Days'] || 13,
                            emp['Actual Working Days'],
                            emp['attendancy condition 1 - acctual working days is zero'] || 'FAIL'
                        ]);
                    break;

                case 'minimumDaysNotMet':
                    modalTitle = getTranslation('validationTab.modalTitles.minimumDaysNotMet', currentLanguage);
                    const isInterim = new Date().getDate() < 20;
                    tableHeaders = [
                        getTranslation('validationTab.tableHeaders.employeeNo', currentLanguage),
                        getTranslation('validationTab.tableHeaders.name', currentLanguage),
                        getTranslation('validationTab.tableHeaders.position', currentLanguage),
                        getTranslation('validationTab.tableHeaders.actualDays', currentLanguage),
                        getTranslation('validationTab.tableHeaders.minimumRequired', currentLanguage),
                        getTranslation('validationTab.tableHeaders.conditionStatus', currentLanguage)
                    ];

                    // 중간보고 시에는 조건 4를 apply하지 않음
                    if (isInterim) {
                        tableData = []; // 중간보고 시 표시 안함
                    } else {
                        const totalWorkingDays = parseFloat(employeeData[0]?.['Total Working Days'] || 13);
                        const minDays = Math.ceil(totalWorkingDays / 2);
                        tableData = employeeData
                            .filter(emp => parseFloat(emp['Actual Working Days'] || 0) < minDays)
                            .map(emp => [
                                emp['Employee No'],
                                emp['Full Name'],
                                emp['FINAL QIP POSITION NAME CODE'],
                                emp['Actual Working Days'],
                                minDays,
                                emp['attendancy condition 4 - minimum working days'] || 'FAIL'
                            ]);
                    }
                    break;

                case 'aqlFail':
                    modalTitle = getTranslation('validationTab.modalTitles.aqlFail', currentLanguage);
                    tableHeaders = [
                        getTranslation('validationTab.tableHeaders.employeeNo', currentLanguage),
                        getTranslation('validationTab.tableHeaders.name', currentLanguage),
                        getTranslation('validationTab.tableHeaders.position', currentLanguage),
                        getTranslation('validationTab.tableHeaders.type', currentLanguage),
                        getTranslation('validationTab.tableHeaders.aqlFailures', currentLanguage),
                        getTranslation('validationTab.tableHeaders.conditionStatus', currentLanguage)
                    ];

                    // TYPE-1에서 조건 5가 apply되는 포지션만 필터링
                    const aqlPositions = ['SUPERVISOR', 'A.MANAGER', 'MANAGER', 'S.MANAGER', 'AQL INSPECTOR'];
                    tableData = employeeData
                        .filter(emp => {
                            const position = (emp['FINAL QIP POSITION NAME CODE'] || '').toUpperCase();
                            const isType1 = emp['ROLE TYPE STD'] === 'TYPE-1';
                            const hasAqlCondition = aqlPositions.some(pos => position.includes(pos));
                            const hasAqlFail = parseFloat(emp[window.aqlFailuresColumn] || 0) > 0;
                            return isType1 && hasAqlCondition && hasAqlFail;
                        })
                        .map(emp => [
                            emp['Employee No'],
                            emp['Full Name'],
                            emp['FINAL QIP POSITION NAME CODE'],
                            emp['ROLE TYPE STD'] || 'TYPE-1',
                            emp[window.aqlFailuresColumn],
                            emp['cond_5_aql_personal_failure'] || 'FAIL'
                        ]);
                    break;

                case 'consecutiveAqlFail':
                    // This case is now handled by showConsecutiveAqlFailDetails()
                    // But we still need to handle it here as a fallback
                    modalTitle = getTranslation('validationTab.modalTitles.consecutiveAqlFail', currentLanguage);
                    tableHeaders = ['직원번호', '이름', '직책', '연속 failed 개월'];
                    tableData = employeeData
                        .filter(emp => emp['Consecutive_Fail_Months'] > 0)
                        .map(emp => [
                            emp['Employee No'],
                            emp['Full Name'],
                            emp['QIP POSITION 1ST  NAME'] || '-',
                            emp['Consecutive_Fail_Months'] + '개월'
                        ]);
                    break;

                case 'areaRejectRate':
                    modalTitle = getTranslation('validationTab.modalTitles.areaRejectRate', currentLanguage);
                    tableHeaders = [
                        getTranslation('validationTab.tableHeaders.employeeNo', currentLanguage),
                        getTranslation('validationTab.tableHeaders.name', currentLanguage),
                        getTranslation('validationTab.tableHeaders.area', currentLanguage),
                        getTranslation('validationTab.tableHeaders.rejectRate', currentLanguage),
                        getTranslation('validationTab.tableHeaders.conditionStatus', currentLanguage)
                    ];

                    // Area AQL reject rate > 3% 필터링 (구역by AQL Reject 3% 이상)
                    tableData = employeeData
                        .filter(emp => parseFloat(emp['area_reject_rate'] || 0) > 3)
                        .map(emp => [
                            emp['Employee No'],
                            emp['Full Name'],
                            emp['area'] || '-',
                            (parseFloat(emp['area_reject_rate'] || 0).toFixed(2)) + '%',
                            emp['aql condition 7 - team area or reject'] || 'FAIL'
                        ]);
                    break;

                case 'lowPassRate':
                    modalTitle = getTranslation('validationTab.modalTitles.lowPassRate', currentLanguage);
                    tableHeaders = [
                        getTranslation('validationTab.tableHeaders.employeeNo', currentLanguage),
                        getTranslation('validationTab.tableHeaders.name', currentLanguage),
                        getTranslation('validationTab.tableHeaders.position', currentLanguage),
                        getTranslation('validationTab.tableHeaders.type', currentLanguage),
                        getTranslation('validationTab.tableHeaders.passRate', currentLanguage),
                        getTranslation('validationTab.tableHeaders.conditionStatus', currentLanguage)
                    ];

                    // TYPE-1 ASSEMBLY INSPECTOR만 필터링
                    tableData = employeeData
                        .filter(emp => {
                            const position = (emp['position'] || '').toUpperCase();
                            const isType1 = emp['type'] === 'TYPE-1';
                            const isAssemblyInspector = position.includes('ASSEMBLY') && position.includes('INSPECTOR');
                            const lowPassRate = parseFloat(emp['pass_rate'] || 100) < 95;
                            return isType1 && isAssemblyInspector && lowPassRate;
                        })
                        .map(emp => [
                            emp['emp_no'],
                            emp['name'],
                            emp['position'],
                            emp['type'] || 'TYPE-1',
                            (parseFloat(emp['pass_rate'] || 0).toFixed(1)) + '%',
                            emp['cond_9_5prs_pass_rate'] || 'FAIL'
                        ]);
                    break;

                case 'lowInspectionQty':
                    modalTitle = getTranslation('validationTab.modalTitles.lowInspectionQty', currentLanguage);
                    tableHeaders = [
                        getTranslation('validationTab.tableHeaders.employeeNo', currentLanguage),
                        getTranslation('validationTab.tableHeaders.name', currentLanguage),
                        getTranslation('validationTab.tableHeaders.position', currentLanguage),
                        getTranslation('validationTab.tableHeaders.type', currentLanguage),
                        getTranslation('validationTab.tableHeaders.inspectionQty', currentLanguage),
                        getTranslation('validationTab.tableHeaders.conditionStatus', currentLanguage)
                    ];

                    // TYPE-1 ASSEMBLY INSPECTOR만 필터링
                    tableData = employeeData
                        .filter(emp => {
                            const position = (emp['position'] || '').toUpperCase();
                            const isType1 = emp['type'] === 'TYPE-1';
                            const isAssemblyInspector = position.includes('ASSEMBLY') && position.includes('INSPECTOR');
                            const lowQty = parseFloat(emp['validation_qty'] || 0) < 100;
                            return isType1 && isAssemblyInspector && lowQty;
                        })
                        .map(emp => [
                            emp['emp_no'],
                            emp['name'],
                            emp['position'],
                            emp['type'] || 'TYPE-1',
                            emp['validation_qty'] || '0',
                            emp['cond_10_5prs_inspection_qty'] || 'FAIL'
                        ]);
                    break;

                default:
                    modalTitle = 'Details';
                    tableHeaders = ['No Data'];
                    tableData = [['No data available']];
            }

            // 모달 HTML creation
            return `
                <div id="validationModal" class="modal" onclick="if(event.대상 === this) closeValidationModal();" style="display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
                    <div class="modal-content" style="background-color: #fefefe; margin: 5% auto; padding: 0; border: 1px solid #888; width: 80%; max-width: 1200px; border-radius: 10px;">
                        <div class="modal-header" style="padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 10px 10px 0 0;">
                            <span class="close" onclick="closeValidationModal()" style="color: white; float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
                            <h2>${modalTitle}</h2>
                        </div>
                        <div class="modal-body" style="padding: 20px;">
                            <div class="search-box" style="margin-bottom: 20px;">
                                <input type="text" id="validationModalSearch" placeholder="${getTranslation('validationTab.tableHeaders.searchPlaceholder', currentLanguage)}"
                                       style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                            </div>
                            <div style="overflow-x: auto;">
                                <table id="validationModalTable" class="table" style="width: 100%; border-collapse: collapse;">
                                    <thead>
                                        <tr style="background-color: #f2f2f2;">
                                            ${tableHeaders.map((header, index) => `
                                                <th onclick="sortValidationTable(${index})" style="cursor: pointer; padding: 10px; text-align: left; border-bottom: 2px solid #ddd;">
                                                    ${header} <span class="sort-icon">↕</span>
                                                </th>
                                            `).join('')}
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${tableData.map(row => `
                                            <tr>
                                                ${row.map(cell => `<td style="padding: 10px; border-bottom: 1px solid #ddd;">${cell || '-'}</td>`).join('')}
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="modal-footer" style="padding: 20px; text-align: right; border-top: 1px solid #ddd;">
                            <button onclick="closeValidationModal()" class="btn btn-secondary" style="padding: 10px 20px; background-color: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                ${getTranslation('validationTab.tableHeaders.close', currentLanguage)}
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function closeValidationModal() {
            const modal = document.getElementById('validationModal');
            if (modal) {
                modal.remove();
            }
        }

        function initSortableTable(tableId) {
            // 테이블 정렬 기능 초기화
            const table = document.getElementById(tableId);
            if (!table) return;

            const headers = table.querySelectorAll('th');
            headers.forEach((header, index) => {
                header.setAttribute('data-sort-direction', 'none');
            });
        }

        function sortValidationTable(columnIndex) {
            const table = document.getElementById('validationModalTable');
            if (!table) return;

            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            const header = table.querySelectorAll('th')[columnIndex];

            let sortDirection = header.getAttribute('data-sort-direction') || 'none';
            sortDirection = sortDirection === 'none' || sortDirection === 'desc' ? 'asc' : 'desc';

            rows.sort((a, b) => {
                const aValue = a.children[columnIndex].textContent.trim();
                const bValue = b.children[columnIndex].textContent.trim();

                // 숫자 비교
                const aNum = parseFloat(aValue);
                const bNum = parseFloat(bValue);

                if (!isNaN(aNum) && !isNaN(bNum)) {
                    return sortDirection === 'asc' ? aNum - bNum : bNum - aNum;
                }

                // string 비교
                if (sortDirection === 'asc') {
                    return aValue.localeCompare(bValue);
                } else {
                    return bValue.localeCompare(aValue);
                }
            });

            // 정렬된 행 다시 추가
            tbody.innerHTML = '';
            rows.forEach(row => tbody.appendChild(row));

            // 정렬 방향 업데이트
            header.setAttribute('data-sort-direction', sortDirection);

            // 정렬 아이콘 업데이트
            table.querySelectorAll('.sort-icon').forEach(icon => icon.textContent = '↕');
            header.querySelector('.sort-icon').textContent = sortDirection === 'asc' ? '↑' : '↓';
        }

        function initTableFilter(searchInputId, tableId) {
            const searchInput = document.getElementById(searchInputId);
            const table = document.getElementById(tableId);

            if (!searchInput || !table) return;

            searchInput.addEventListener('keyup', function() {
                const filter = this.value.toLowerCase();
                const rows = table.querySelector('tbody').querySelectorAll('tr');

                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    row.style.display = text.includes(filter) ? '' : 'none';
                });
            });
        }

        // 페이지 load 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            console.log('=== DOMContentLoaded Event Fired ===');
            console.log('Total 직원 in data:', employeeData ? employeeData.length : 'No data');

            // Bootstrap 툴팁 초기화
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
            console.log('Bootstrap tooltips initialized:', tooltipList.length);

            // D3.js 라이브러리 확인
            if (typeof d3 === 'undefined') {
                console.error('D3.js library not loaded!');
                alert('D3.js 라이브러리가 load되지 않았습니다. 페이지를 새로고침해주세요.');
                return;
            }
            console.log('D3.js version:', d3.version);

            // Validation 탭 초기화 - 항상 호출하여 KPI 카드가 비어있지 않도록 함
            setTimeout(() => {
                console.log('Initializing validation tab KPIs on page load...');
                initValidationTab();
            }, 100);

            // TYPE 테이블 초기 생성
            setTimeout(() => {
                console.log('Generating TYPE table on page load...');
                if (typeof generateTypeTable === 'function') {
                    generateTypeTable();
                } else {
                    console.log('generateTypeTable function not available yet');
                }
            }, 200);

            // Bootstrap 탭 이벤트 리스너 등록
            // 다양한 선택자 시도
            let orgChartTabButton = document.querySelector('button[data-bs-대상="#orgchart"]');
            if (!orgChartTabButton) {
                orgChartTabButton = document.querySelector('a[data-bs-대상="#orgchart"]');
            }
            if (!orgChartTabButton) {
                orgChartTabButton = document.querySelector('[data-bs-대상="#orgchart"]');
            }
            if (!orgChartTabButton) {
                // 네 번째 탭 버튼 directly 선택 (0-indexed이므로 3)
                const allTabButtons = document.querySelectorAll('.nav-link');
                if (allTabButtons.length > 3) {
                    orgChartTabButton = allTabButtons[3];
                    console.log('네 번째 탭 버튼 use');
                }
            }
            if (orgChartTabButton) {
                console.log('조직도 탭 버튼 발견, 이벤트 리스너 등록');
                orgChartTabButton.addEventListener('shown.bs.tab', function(event) {
                    console.log('🎯 조직도 탭 활성화됨');
                    drawOrgChart();
                });

                // 클릭 이벤트도 추가 (shown.bs.tab이 작동 안할 경우 대비)
                orgChartTabButton.addEventListener('click', function() {
                    setTimeout(() => {
                        const orgTab = document.getElementById('orgchart');
                        if (orgTab && orgTab.classList.contains('active')) {
                            console.log('🎯 조직도 탭 클릭 - 차트 그리기');
                            drawOrgChart();
                        }
                    }, 100);
                });
            }

            // 조직도 탭이 초기에 활성화되어 있는지 확인
            setTimeout(() => {
                const orgTab = document.getElementById('orgchart');
                console.log('Organization chart tab element:', orgTab);

                if (orgTab) {
                    if (orgTab.classList.contains('active') && orgTab.classList.contains('show')) {
                        console.log('Org chart tab is active, drawing initial chart...');
                        drawOrgChart();
                    } else {
                        console.log('Org chart tab is not active initially');
                    }
                } else {
                    console.error('Org chart tab element not found!');
                }
            }, 500); // data load를 위한 약간의 지연

            // 조직도 검색 기능 이벤트 핸들러
            const orgSearchInput = document.getElementById('orgSearchInput');
            const orgSearchClear = document.getElementById('orgSearchClear');

            if (orgSearchInput) {
                console.log('Org chart search input found, attaching event listener');
                orgSearchInput.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.trim();
                    searchInTree(searchTerm);
                });

                // Enter 키 처리
                orgSearchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const searchTerm = e.target.value.trim();
                        searchInTree(searchTerm);
                    }
                });
            }

            if (orgSearchClear) {
                console.log('Org chart search clear button found, attaching event listener');
                orgSearchClear.addEventListener('click', function() {
                    if (orgSearchInput) {
                        orgSearchInput.value = '';
                        searchInTree('');
                    }
                });
            }

            // 하단 Expand All / Collapse All 버튼 이벤트 핸들러
            const expandAllBtns = document.querySelectorAll('button[id="expandAllBtn"]');
            const collapseAllBtns = document.querySelectorAll('button[id="collapseAllBtn"]');

            if (expandAllBtns.length > 0) {
                console.log(`Found ${expandAllBtns.length} Expand All buttons, attaching event listeners`);
                expandAllBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        expandAll();
                    });
                });
            }

            if (collapseAllBtns.length > 0) {
                console.log(`Found ${collapseAllBtns.length} Collapse All buttons, attaching event listeners`);
                collapseAllBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        collapseAll();
                    });
                });
            }
        });

        // 직급 계층 레벨 정의
        function getPositionLevel(position) {
            const pos = position.toUpperCase();
            // S.Manager가 최상위
            if (pos.includes('S.MANAGER') || pos.includes('SENIOR MANAGER')) return 1;
            // Manager가 S.Manager의 부하
            if (pos.includes('MANAGER') && !pos.includes('A.') && !pos.includes('ASSISTANT')) return 2;
            // A.Manager가 Manager의 부하
            if (pos.includes('A.MANAGER') || pos.includes('ASSISTANT MANAGER')) return 3;
            // Supervisor가 A.Manager의 부하
            if (pos.includes('SUPERVISOR')) return 4;
            // Group Leader
            if (pos.includes('GROUP') && pos.includes('LEADER')) return 5;
            // Line Leader
            if (pos.includes('LINE') && pos.includes('LEADER')) return 6;
            // Inspector
            if (pos.includes('INSPECTOR')) return 7;
            // Others
            return 8;
        }

        // Breadcrumb 업데이트 함count
        function updateBreadcrumb(current) {
            const breadcrumb = document.getElementById('orgBreadcrumb');
            if (breadcrumb) {
                breadcrumb.innerHTML = `
                    <span style="color: #666;">조직도</span>
                    <span style="color: #999;"> › </span>
                    <span style="color: #333; font-weight: bold;">${current}</span>
                `;
            }
        }

        // 줌 컨트롤 함count들
        let currentZoomBehavior = null;

        function zoomIn() {
            const svg = d3.select("#orgChartSvg");
            if (currentZoomBehavior && svg.node()) {
                svg.transition().duration(300).call(
                    currentZoomBehavior.scaleBy, 1.3
                );
            }
        }

        function zoomOut() {
            const svg = d3.select("#orgChartSvg");
            if (currentZoomBehavior && svg.node()) {
                svg.transition().duration(300).call(
                    currentZoomBehavior.scaleBy, 0.7
                );
            }
        }

        function resetZoom() {
            const svg = d3.select("#orgChartSvg");
            if (currentZoomBehavior && svg.node()) {
                svg.transition().duration(500).call(
                    currentZoomBehavior.transform,
                    d3.zoomIdentity
                );
            }
        }

        // incentive 값을 안전하게 파싱하는 헬퍼 함count
        function parseIncentive(value) {
            if (!value) return 0;
            // string 형태의 값 처리
            const strValue = String(value).trim();
            // 쉼표 제거 후 파싱
            const parsed = parseInt(strValue.replace(/,/g, ''), 10);
            return isNaN(parsed) ? 0 : parsed;
        }

        // incentive 수령 여부 확인 함count
        function hasIncentive(data) {
            const amount = parseIncentive(data.incentive || data['september_incentive'] || 0);
            return amount > 0;
        }

        // 직급별 색상 정의
        function getPositionColor(position) {
            if (!position) return '#8c564b'; // Others (brown)
            const pos = position.toUpperCase();

            if (pos.includes('MANAGER') && !pos.includes('A.') && !pos.includes('ASSISTANT')) {
                return '#1f77b4'; // Manager (blue)
            }
            if (pos.includes('SUPERVISOR')) {
                return '#2ca02c'; // Supervisor (green)
            }
            if (pos.includes('GROUP') && pos.includes('LEADER')) {
                return '#ff7f0e'; // Group Leader (orange)
            }
            if (pos.includes('LINE') && pos.includes('LEADER')) {
                return '#d62728'; // Line Leader (red)
            }
            if (pos.includes('INSPECTOR')) {
                return '#9467bd'; // Inspector (purple)
            }
            return '#8c564b'; // Others (brown)
        }

        // 새로운 접이식 조직도 그리기 함count
        function drawOrgChart() {
            console.log('Drawing new collapsible org chart...');
            drawCollapsibleOrgChart();
        }

        function drawCollapsibleOrgChart() {
            console.log('🏗️ === 조직도 그리기 start ===');
            console.log('   Employee Data count:', employeeData ? employeeData.length : 0);
            console.log('   Dashboard Month:', dashboardMonth);

            const container = document.getElementById('orgTreeContent');
            if (!container) {
                console.error('orgTreeContent container not found!');
                return;
            }

            // 로딩 표시
            container.innerHTML = `<div class="org-loading"><div class="org-loading-spinner"></div><p>${getTranslation('orgChart.loadingMessage')}</p></div>`;

            // 계층 구조 data creation
            const hierarchyData = buildHierarchyData();
            if (!hierarchyData || hierarchyData.length === 0) {
                container.innerHTML = `<div class="alert alert-warning">${getTranslation('orgChart.noDataMessage')}</div>`;
                return;
            }

            // HTML 트리 creation
            const treeHTML = buildTreeHTML(hierarchyData);
            container.innerHTML = treeHTML;

            // 이벤트 리스너 추가
            attachTreeEventListeners();

            // 통계 업데이트

            // UI 텍스트 업데이트
            updateOrgChartUIText();
        }

        // 계층 구조 data 빌드
        function buildHierarchyData() {
            console.log('Building TYPE-1 manager hierarchy data...');

            if (!employeeData || employeeData.length === 0) {
                console.error('No employee data available');
                return null;
            }

            // Special calculation positions 확인 함count
            function hasSpecialCalculation(position) {
                if (!position || !positionMatrix) return false;
                const pos = position.toUpperCase();

                // TYPE-1 positions 확인
                const type1Positions = positionMatrix.position_matrix?.['TYPE-1'] || {};

                // 각 직급 체크
                for (const [key, config] of Object.entries(type1Positions)) {
                    if (key === 'default') continue;

                    // patterns 매칭 확인
                    if (config.patterns) {
                        for (const pattern of config.patterns) {
                            if (pos.includes(pattern.toUpperCase())) {
                                // special_calculation 필드 확인
                                if (config.special_calculation) {
                                    return true;
                                }
                            }
                        }
                    }
                }

                return false;
            }

            // TYPE-1 직원 중 LINE LEADER 이상만 포함 (관리자 계층 구조)
            const type1Employees = employeeData.filter(emp => {
                // TYPE-1이 아닌 경우 제외
                if (emp.type !== 'TYPE-1') {
                    return false;
                }

                // Special calculation positions 제외 (AQL INSPECTOR, AUDIT & TRAINING, MODEL MASTER)
                if (hasSpecialCalculation(emp.position)) {
                    console.log(`Excluding special calculation position: ${emp.position} - ${emp.name}`);
                    return false;
                }

                // LINE LEADER 이상의 관리자 포지션만 포함
                const position = (emp.position || '').toUpperCase();
                const isManagerLevel = position.includes('MANAGER') ||
                                      position.includes('SUPERVISOR') ||
                                      position.includes('GROUP LEADER') ||
                                      position.includes('LINE LEADER');

                if (!isManagerLevel) {
                    console.log(`Excluding non-manager position: ${emp.position} - ${emp.name}`);
                    return false;
                }

                return true;
            });

            console.log(`TYPE-1 직원 for hierarchy: ${type1Employees.length} (excluded ${employeeData.length - type1Employees.length})`);

            // 직원 ID로 매핑 - 모든 TYPE-1 직원 포함
            const employeeMap = {};
            const rootNodes = [];

            // 모든 TYPE-1 직원을 맵에 저장 (계층 구조 형성을 위해)
            type1Employees.forEach(emp => {
                // incentive calculation 방법 determination
                let calculationMethod = '';
                const pos = (emp.position || '').toUpperCase();

                if (pos.includes('LINE LEADER')) {
                    calculationMethod = getTranslation('orgChart.calculationFormulas.lineLeader');
                } else if (pos.includes('GROUP LEADER')) {
                    calculationMethod = getTranslation('orgChart.calculationFormulas.groupLeader');
                } else if (pos.includes('SUPERVISOR')) {
                    calculationMethod = getTranslation('orgChart.calculationFormulas.supervisor');
                } else if (pos.includes('A.MANAGER') || pos.includes('ASSISTANT')) {
                    calculationMethod = getTranslation('orgChart.calculationFormulas.assistantManager');
                } else if (pos.includes('MANAGER')) {
                    calculationMethod = getTranslation('orgChart.calculationFormulas.manager');
                }

                employeeMap[emp.emp_no] = {
                    id: emp.emp_no,
                    name: emp.name,
                    position: emp.position,
                    type: emp.type,
                    incentive: emp['september_incentive'] || 0,
                    boss_id: emp.boss_id,
                    calculationMethod: calculationMethod,
                    children: []
                };
            });

            // 부모-자식 관계 설정 - employeeMap의 모든 직원에 대해 처리
            Object.values(employeeMap).forEach(node => {
                if (node.boss_id && node.boss_id !== '' && node.boss_id !== 'nan' && node.boss_id !== '0') {
                    const boss = employeeMap[node.boss_id];
                    if (boss) {
                        boss.children.push(node);
                    } else {
                        // 보스가 employeeMap에 없으면 루트 노드로 추가
                        rootNodes.push(node);
                    }
                } else {
                    // 보스 ID가 없으면 루트 노드
                    rootNodes.push(node);
                }
            });

            console.log(`Hierarchy built: ${rootNodes.length} root nodes`);
            return rootNodes;
        }

        // HTML 트리 creation
        function buildTreeHTML(nodes, depth = 0) {
            if (!nodes || nodes.length === 0) return '';

            let html = '<ul>';

            nodes.forEach(node => {
                const hasChildren = node.children && node.children.length > 0;
                const liClass = hasChildren ? 'expanded' : 'no-children';
                const nodeClass = getNodeClass(node.position);
                const incentiveClass = node.incentive > 0 ? 'has-incentive' : 'no-incentive';
                const incentiveDot = node.incentive > 0 ? 'received' : 'not-received';

                html += `<li class="${liClass}">`;
                html += `<div class="org-node ${nodeClass} ${incentiveClass}">`;

                // incentive 표시 점
                html += `<div class="node-incentive ${incentiveDot}"></div>`;

                // 노드 내용
                html += `<div class="node-position">${node.position || 'N/A'}</div>`;
                html += `<div class="node-name">${node.name}</div>`;
                html += `<div class="node-id">ID: ${node.id}</div>`;

                // incentive 정보 (모든 경우 클릭 가능)
                const incentiveAmount = Number(node.incentive) || 0;
                const incentiveFormatted = incentiveAmount.toLocaleString('ko-KR');
                html += `<div class="node-incentive-info" data-node-id="${node.id}">`;
                html += `<div style="display: flex; align-items: center;">`;
                if (incentiveAmount > 0) {
                    html += `<span class="incentive-amount">₫${incentiveFormatted}</span>`;
                } else {
                    html += `<span class="incentive-amount" style="color: #dc3545;">₫0</span>`;
                }
                html += `</div>`;
                html += `<span class="incentive-detail-btn"
                            data-node-id="${node.id}"
                            title="클릭하여 상세 정보 보기"
                            role="button"
                            tabindex="0"
                            data-bs-toggle="tooltip"
                            data-bs-placement="top">ℹ️</span>`;
                html += '</div>';

                // LINE LEADER의 경우 부하직원 표시
                if (node.position && node.position.toUpperCase().includes('LINE LEADER')) {
                    // 부하직원 찾기 (incentive calculation에 영향을 미치는 TYPE-1 부하만)
                    const subordinates = employeeData.filter(emp =>
                        emp.boss_id === node.id &&
                        emp.type === 'TYPE-1'
                    );

                    const receivingCount = subordinates.filter(sub => {
                        const incentive = sub['september_incentive'] || 0;
                        return Number(incentive) > 0;
                    }).length;

                    if (subordinates.length > 0) {
                        html += `<div class="subordinate-info">`;
                        html += `<span class="subordinate-label">incentive calculation based:</span>`;
                        html += `<span class="subordinate-count" data-i18n-subordinates="${receivingCount}/${subordinates.length}"></span>`;
                        html += '</div>';
                    }
                }

                // 자식이 있으면 접기/펼치기 버튼과 자식 count 표시
                if (hasChildren) {
                    html += `<span class="child-count">${node.children.length}</span>`;
                    html += `<span class="toggle-btn"></span>`;
                }

                html += '</div>';

                // 재귀적으로 자식 노드 추가
                if (hasChildren) {
                    html += buildTreeHTML(node.children, depth + 1);
                }

                html += '</li>';
            });

            html += '</ul>';
            return html;
        }

        // 노드 클래스 determination
        function getNodeClass(position) {
            if (!position) return 'default';
            const pos = position.toUpperCase();

            if (pos.includes('MANAGER') && !pos.includes('ASSISTANT')) return 'manager';
            if (pos.includes('SUPERVISOR')) return 'supervisor';
            if (pos.includes('GROUP LEADER')) return 'group-leader';
            if (pos.includes('LINE LEADER')) return 'line-leader';
            if (pos.includes('INSPECTOR')) return 'inspector';
            return 'default';
        }

        // 트리 이벤트 리스너
        function attachTreeEventListeners() {
            console.log('📎 attachTreeEventListeners 호출됨');

            // 정보 버튼 클릭 이벤트 - 이벤트 위임 방식으로 변경
            const treeContent = document.getElementById('orgTreeContent');
            if (treeContent) {
                // existing 리스너 제거 (중복 방지)
                if (window.incentiveButtonHandler) {
                    treeContent.removeEventListener('click', window.incentiveButtonHandler, true);
                }

                // 핸들러 함count를 전역에 저장하여 나중에 제거 가능
                window.incentiveButtonHandler = function(e) {
                    console.log('🖱️ 클릭 이벤트 발생:', e.target.className);

                    // 정보 버튼이 클릭된 경우
                    if (e.target && e.target.classList && e.target.classList.contains('incentive-detail-btn')) {
                        console.log('ℹ️ 정보 버튼 클릭됨 (이벤트 위임)');
                        e.preventDefault();
                        e.stopPropagation();
                        e.stopImmediatePropagation();

                        const nodeId = e.target.getAttribute('data-node-id');
                        console.log('📌 노드 ID:', nodeId);
                        console.log('📌 showIncentiveModal 함수 존재:', typeof window.showIncentiveModal);

                        if (window.showIncentiveModal && nodeId) {
                            console.log('🎯 관리자 계산 모달 호출 시도:', nodeId);
                            try {
                                // 조직도 탭에서는 관리자 계산 모달 표시 (부하직원 계산 상세)
                                window.showIncentiveModal(String(nodeId));
                                console.log('✅ 관리자 계산 모달 호출 성공');
                            } catch(error) {
                                console.error('❌ 관리자 계산 모달 호출 중 오류:', error);
                            }
                        } else {
                            console.error('❌ showIncentiveModal 함수가 없거나 노드 ID가 없음');
                            console.error('   - showIncentiveModal:', typeof window.showIncentiveModal);
                            console.error('   - nodeId:', nodeId);
                        }
                        return false;
                    }
                };

                // 이벤트 위임으로 처리 (동적으로 creation되는 버튼도 처리 가능)
                treeContent.addEventListener('click', window.incentiveButtonHandler, true); // capture 단계에서 처리
                console.log('✅ incentive 버튼 이벤트 리스너 등록 completed');
            } else {
                console.error('❌ orgTreeContent 요소를 find count 없음');
            }

            // 토글 버튼 클릭 이벤트
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const li = this.closest('li');
                    if (li.classList.contains('collapsed')) {
                        li.classList.remove('collapsed');
                        li.classList.add('expanded');
                    } else {
                        li.classList.remove('expanded');
                        li.classList.add('collapsed');
                    }
                });
            });

            // incentive 정보 클릭 이벤트 (이벤트 위임 방식)
            console.log('📌 incentive 클릭 이벤트 리스너 등록 중...');
            const orgContainer = document.getElementById('orgTreeContent');
            if (orgContainer) {
                // existing 리스너 제거 (중복 방지)
                orgContainer.removeEventListener('click', handleIncentiveClick);
                // 새 리스너 추가
                orgContainer.addEventListener('click', handleIncentiveClick);
                console.log('✅ 이벤트 위임 리스너 등록 completed');
            }

            // incentive 클릭 핸들러 함수
            function handleIncentiveClick(e) {
                const incentiveInfo = e.target.closest('.node-incentive-info');
                if (incentiveInfo) {
                    e.preventDefault();
                    e.stopPropagation();
                    const nodeId = incentiveInfo.getAttribute('data-node-id');
                    console.log('💰 incentive 클릭 감지 - Node ID:', nodeId);

                    if (window.showIncentiveModal) {
                        // 조직도 탭에서는 관리자 계산 모달 표시 (부하직원 계산 상세)
                        window.showIncentiveModal(String(nodeId));
                    } else {
                        console.error('❌ showIncentiveModal 함수가 not found');
                    }
                }
            }

            // 조직도가 그려진 후 툴팁 재초기화
            setTimeout(() => {
                var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
                tooltipTriggerList.forEach(function (tooltipTriggerEl) {
                    new bootstrap.Tooltip(tooltipTriggerEl);
                });
                console.log('✅ 조직도 툴팁 초기화 completed:', tooltipTriggerList.length, '개');
            }, 500);

            // 검색 기능
            const searchInput = document.getElementById('orgSearchInput');
            const searchClear = document.getElementById('orgSearchClear');

            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    searchInTree(searchTerm);
                });
            }

            if (searchClear) {
                searchClear.addEventListener('click', function() {
                    searchInput.value = '';
                    searchInTree('');
                });
            }

            // 모두 펼치기/접기 버튼
            const expandAllBtn = document.getElementById('expandAllBtn');
            const collapseAllBtn = document.getElementById('collapseAllBtn');

            if (expandAllBtn) {
                expandAllBtn.addEventListener('click', function() {
                    document.querySelectorAll('.collapsible-tree li').forEach(li => {
                        if (li.querySelector('.toggle-btn')) {
                            li.classList.remove('collapsed');
                            li.classList.add('expanded');
                        }
                    });
                });
            }

            if (collapseAllBtn) {
                collapseAllBtn.addEventListener('click', function() {
                    document.querySelectorAll('.collapsible-tree li').forEach(li => {
                        if (li.querySelector('.toggle-btn')) {
                            li.classList.remove('expanded');
                            li.classList.add('collapsed');
                        }
                    });
                });
            }

            // 노드 클릭 이벤트 (incentive 정보 클릭 제외)
            document.querySelectorAll('.org-node').forEach(node => {
                node.addEventListener('click', function(e) {
                    // incentive 정보를 클릭한 경우는 제외
                    if (e.target.closest('.node-incentive-info')) {
                        console.log('🚫 incentive 클릭이므로 expand/collapse 무시');
                        return;
                    }
                    const toggleBtn = this.querySelector('.toggle-btn');
                    if (toggleBtn) {
                        console.log('📂 노드 expand/collapse 토글');
                        toggleBtn.click();
                    }
                });
            });
        }

        // total 펼치기
        function expandAll() {
            document.querySelectorAll('.collapsible-tree li.collapsed').forEach(li => {
                li.classList.remove('collapsed');
                li.classList.add('expanded');
            });
        }

        // total 접기
        function collapseAll() {
            document.querySelectorAll('.collapsible-tree li.expanded').forEach(li => {
                if (li.querySelector('ul')) { // 자식이 있는 경우만
                    li.classList.remove('expanded');
                    li.classList.add('collapsed');
                }
            });
        }

        // 검색 기능
        function searchInTree(searchTerm) {
            const nodes = document.querySelectorAll('.org-node');
            const allLis = document.querySelectorAll('.collapsible-tree li');

            if (!searchTerm) {
                // 검색어가 없으면 모두 표시
                nodes.forEach(node => {
                    node.classList.remove('search-hidden');
                    node.classList.remove('search-highlight');
                });
                return;
            }

            // 모든 노드 숨기기
            nodes.forEach(node => {
                node.classList.add('search-hidden');
                node.classList.remove('search-highlight');
            });

            // 검색어와 th치하는 노드 찾기
            nodes.forEach(node => {
                const name = node.querySelector('.node-name')?.textContent.toLowerCase() || '';
                const id = node.querySelector('.node-id')?.textContent.toLowerCase() || '';
                const position = node.querySelector('.node-position')?.textContent.toLowerCase() || '';

                if (name.includes(searchTerm) || id.includes(searchTerm) || position.includes(searchTerm)) {
                    node.classList.remove('search-hidden');
                    node.classList.add('search-highlight');

                    // 부모 노드들도 표시
                    let parent = node.closest('li');
                    while (parent) {
                        const parentNode = parent.querySelector(':scope > .org-node');
                        if (parentNode) {
                            parentNode.classList.remove('search-hidden');
                        }
                        // 부모 li를 펼치기
                        if (parent.classList.contains('collapsed')) {
                            parent.classList.remove('collapsed');
                            parent.classList.add('expanded');
                        }
                        parent = parent.parentElement?.closest('li');
                    }
                }
            });
        }

        // 모달 테스트 함count (전역 스코프)
        // 모달 강제 닫기 함count (전역 스코프)
        window.forceCloseModal = function() {
            console.log('🚨 모달 강제 닫기 실행');
            const modal = document.getElementById('incentiveModal');
            if (modal) {
                const modalInstance = bootstrap.Modal.getInstance(modal);
                if (modalInstance) {
                    modalInstance.hide();
                    modalInstance.dispose();
                }
                modal.remove();
            }
            // 백드롭과 body 상태 정리
            document.querySelectorAll('.modal-backdrop').forEach(b => b.remove());
            document.body.classList.remove('modal-open');
            document.body.style.overflow = '';
            document.body.style.paddingRight = '';
        };

        // 팀 내 모든 LINE LEADER 찾기 (재귀적) - Excel logic과 동th
        function findTeamLineLeaders(managerId, depth = 0, visited = null) {
            if (depth > 5) return []; // 무한 루프 방지

            if (!visited) {
                visited = new Set();
            }

            // managerId를 string로 통th
            managerId = String(managerId || '');
            if (!managerId || managerId === 'nan' || managerId === '0' || managerId === '') {
                return [];
            }

            if (visited.has(managerId)) {
                return [];
            }
            visited.add(managerId);

            let lineLeaders = [];

            // boss_id를 string로 비교하여 directly 부하들 찾기
            const directSubordinates = employeeData.filter(emp => {
                const bossId = String(emp.boss_id || '');
                return bossId === managerId && bossId !== '';
            });

            directSubordinates.forEach(sub => {
                const position = (sub.position || '').toUpperCase();

                // TYPE-1 LINE LEADER인 경우 추가
                if (sub.type === 'TYPE-1' && position.includes('LINE') && position.includes('LEADER')) {
                    lineLeaders.push(sub);
                }

                // 재귀적으로 부하의 부하 탐색 (emp_no를 string로 conversion)
                const subLineLeaders = findTeamLineLeaders(String(sub.emp_no || ''), depth + 1, visited);
                lineLeaders = lineLeaders.concat(subLineLeaders);
            });

            return lineLeaders;
        }

        // incentive 미지급 사유 분석 함count
        function getIncentiveFailureReasons(employee) {
            const reasons = [];
            const position = (employee.position || '').toUpperCase();

            // 10개 조건 상태 체크 (cond_1 through cond_10)
            const conditionFields = [
                'cond_1_attendance_rate',
                'cond_2_unapproved_absence',
                'cond_3_actual_working_days',
                'cond_4_minimum_days',
                'cond_5_aql_personal_failure',
                'cond_6_aql_continuous',
                'cond_7_aql_team_area',
                'cond_8_area_reject',
                'cond_9_5prs_pass_rate',
                'cond_10_5prs_inspection_qty'
            ];

            let applicableCount = 0;
            let passedCount = 0;
            const failedConditions = [];

            // 각 조건 체크
            conditionFields.forEach((field, index) => {
                const status = employee[field];
                const condNum = index + 1;

                // N/A 또는 NOT_APPLICABLE이 아닌 경우만 적용 조건으로 카운트
                if (status && status !== 'N/A' && status !== 'NOT_APPLICABLE') {
                    applicableCount++;

                    if (status === 'PASS') {
                        passedCount++;
                    } else if (status === 'FAIL') {
                        // 실패한 조건 기록
                        const condKey = field.replace('cond_', 'cond').replace(/_/g, '_');
                        failedConditions.push({
                            num: condNum,
                            key: condKey,
                            name: getTranslation(`orgChart.modal.nonPaymentReasons.${condKey}`, currentLanguage)
                        });
                    }
                }
            });

            // 조건 미충족이 있는 경우
            if (applicableCount > 0 && passedCount < applicableCount) {
                const passRate = ((passedCount / applicableCount) * 100).toFixed(1);
                const summaryText = getTranslation('orgChart.modal.nonPaymentReasons.conditionPassRateInsufficient', currentLanguage);
                reasons.push(summaryText
                    .replace('{{passed}}', passedCount)
                    .replace('{{applicable}}', applicableCount)
                    .replace('{{passRate}}', passRate));

                // 실패한 조건 나열
                if (failedConditions.length > 0) {
                    const labelText = getTranslation('orgChart.modal.nonPaymentReasons.failedConditionsLabel', currentLanguage);
                    const condList = failedConditions.map(c => `• ${c.name}`).join('<br>');
                    reasons.push(`<strong>${labelText}:</strong><br>${condList}`);
                }
            }

            // 사유가 없는 경우 기본 메시지
            if (reasons.length === 0) {
                if (employee['september_incentive'] === 0) {
                    reasons.push(getTranslation('orgChart.modal.nonPaymentReasons.conditionInfoUnavailable', currentLanguage));
                }
            }

            return reasons;
        }

        // Position Configuration Object
        const POSITION_CONFIG = {
            'LINE LEADER': {
                multiplier: 0.12,
                subordinateType: 'ASSEMBLY INSPECTOR',
                formulaKey: 'orgChart.modal.formulas.lineLeader',
                useGrouping: false,
                useAlternatingColors: false,
                subordinateLabel: 'assemblyInspectorList',
                countLabel: 'inspectorCount',
                findSubordinates: (nodeId) => {
                    return employeeData.filter(emp =>
                        emp.boss_id === nodeId &&
                        emp.position &&
                        emp.position.toUpperCase().includes('ASSEMBLY INSPECTOR')
                    );
                }
            },
            'GROUP LEADER': {
                multiplier: 2,
                subordinateType: 'LINE LEADER',
                formulaKey: 'orgChart.modal.formulas.groupLeader',
                useGrouping: false,
                useAlternatingColors: false,
                subordinateLabel: 'lineLeaderList',
                countLabel: 'lineLeaderCount',
                findSubordinates: (nodeId) => findTeamLineLeaders(nodeId)
            },
            'SUPERVISOR': {
                multiplier: 2.5,
                subordinateType: 'LINE LEADER',
                formulaKey: 'orgChart.modal.formulas.supervisor',
                useGrouping: true,
                useAlternatingColors: true,
                subordinateLabel: 'lineLeaderList',
                countLabel: 'lineLeaderCount',
                findSubordinates: (nodeId) => findTeamLineLeaders(nodeId)
            },
            'A.MANAGER': {
                multiplier: 3,
                subordinateType: 'LINE LEADER',
                formulaKey: 'orgChart.modal.formulas.amanager',
                useGrouping: true,
                useAlternatingColors: false,
                subordinateLabel: 'lineLeaderList',
                countLabel: 'lineLeaderCount',
                findSubordinates: (nodeId) => findTeamLineLeaders(nodeId)
            },
            'MANAGER': {
                multiplier: 3.5,
                subordinateType: 'LINE LEADER',
                formulaKey: 'orgChart.modal.formulas.manager',
                useGrouping: true,
                useAlternatingColors: true,
                subordinateLabel: 'lineLeaderList',
                countLabel: 'lineLeaderCount',
                findSubordinates: (nodeId) => findTeamLineLeaders(nodeId)
            }
        };

        // Helper: Get position configuration
        function getPositionConfig(position) {
            const posUpper = (position || '').toUpperCase();

            // Exact match priority
            if (posUpper.includes('LINE LEADER')) return POSITION_CONFIG['LINE LEADER'];
            if (posUpper.includes('GROUP LEADER')) return POSITION_CONFIG['GROUP LEADER'];
            if (posUpper.includes('SUPERVISOR')) return POSITION_CONFIG['SUPERVISOR'];
            if (posUpper.includes('A.MANAGER') || posUpper.includes('ASSISTANT')) return POSITION_CONFIG['A.MANAGER'];
            if (posUpper.includes('MANAGER') && !posUpper.includes('A.MANAGER') && !posUpper.includes('ASSISTANT')) return POSITION_CONFIG['MANAGER'];

            return null;
        }

        // Helper: Calculate expected incentive
        function calculateExpectedIncentive(subordinates, config) {
            const receivingSubordinates = subordinates.filter(sub =>
                Number(sub['september_incentive'] || 0) > 0
            );

            if (config.multiplier === 0.12) {
                // LINE LEADER: sum × 12% × receiving ratio
                const totalIncentive = subordinates.reduce((sum, sub) =>
                    sum + Number(sub['september_incentive'] || 0), 0
                );
                const receivingRatio = subordinates.length > 0 ?
                    receivingSubordinates.length / subordinates.length : 0;
                return {
                    expected: Math.round(totalIncentive * 0.12 * receivingRatio),
                    metrics: {
                        total: totalIncentive,
                        receiving: receivingSubordinates.length,
                        count: subordinates.length,
                        receivingRatio: receivingRatio,
                        average: 0
                    }
                };
            } else {
                // Others: average × multiplier
                const avgIncentive = receivingSubordinates.length > 0 ?
                    receivingSubordinates.reduce((sum, sub) =>
                        sum + Number(sub['september_incentive'] || 0), 0
                    ) / receivingSubordinates.length : 0;
                return {
                    expected: Math.round(avgIncentive * config.multiplier),
                    metrics: {
                        total: 0,
                        receiving: receivingSubordinates.length,
                        count: subordinates.length,
                        receivingRatio: 0,
                        average: avgIncentive
                    }
                };
            }
        }

        // Helper: Generate subordinate table HTML
        function generateSubordinateTable(subordinates, config, currentLanguage) {
            if (subordinates.length === 0) return '';

            const receivingSubordinates = subordinates.filter(sub =>
                Number(sub['september_incentive'] || 0) > 0
            );

            if (config.useGrouping) {
                // Grouped table (SUPERVISOR, A.MANAGER, MANAGER)
                const subordinatesByGroup = {};
                subordinates.forEach(sub => {
                    const groupLeader = employeeData.find(emp => emp.emp_no === sub.boss_id);
                    const groupName = groupLeader ? groupLeader.name : 'Unknown';
                    if (!subordinatesByGroup[groupName]) {
                        subordinatesByGroup[groupName] = [];
                    }
                    subordinatesByGroup[groupName].push(sub);
                });

                const totalIncentive = receivingSubordinates.reduce((sum, sub) =>
                    sum + Number(sub['september_incentive'] || 0), 0
                );
                const avgIncentive = receivingSubordinates.length > 0 ?
                    totalIncentive / receivingSubordinates.length : 0;

                return `
                    <div class="mt-3">
                        <h6>📋 ${getTranslation(`orgChart.modal.${config.subordinateLabel}`, currentLanguage)}</h6>
                        <table class="table table-sm table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>${getTranslation('orgChart.modal.tableHeaders.groupLeader', currentLanguage)}</th>
                                    <th>${getTranslation('orgChart.modal.tableHeaders.lineLeader', currentLanguage)}</th>
                                    <th>${getTranslation('orgChart.modal.tableHeaders.id', currentLanguage)}</th>
                                    <th class="text-end">${getTranslation('orgChart.modal.tableHeaders.incentive', currentLanguage)}</th>
                                    <th class="text-center">${getTranslation('orgChart.modal.tableHeaders.included', currentLanguage)}</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${Object.entries(subordinatesByGroup).map(([groupName, subs], groupIdx) => {
                                    const bgClass = config.useAlternatingColors && groupIdx % 2 === 0 ? '' : 'table-light';
                                    return subs.map((sub, idx) => {
                                        const subIncentive = Number(sub['september_incentive'] || 0);
                                        const included = subIncentive > 0;
                                        const rowClass = included ? bgClass : `text-muted ${bgClass}`;
                                        return `
                                            <tr class="${rowClass}">
                                                ${idx === 0 ? `<td rowspan="${subs.length}">${groupName}</td>` : ''}
                                                <td>${sub.name || sub.employee_name || 'Unknown'}</td>
                                                <td>${sub.emp_no || sub.employee_id || ''}</td>
                                                <td class="text-end">${included ? '₫' + subIncentive.toLocaleString('ko-KR') : '-'}</td>
                                                <td class="text-center">${included ? '✅' : '❌'}</td>
                                            </tr>
                                        `;
                                    }).join('');
                                }).join('')}
                            </tbody>
                            <tfoot class="table-secondary">
                                <tr>
                                    <th colspan="3">${getTranslation('orgChart.modal.total', currentLanguage)}</th>
                                    <th class="text-end">₫${totalIncentive.toLocaleString('ko-KR')}</th>
                                    <th></th>
                                </tr>
                                <tr>
                                    <th colspan="3">${getTranslation('orgChart.modal.averageReceiving', currentLanguage)
                                        .replace('{{receiving}}', receivingSubordinates.length)
                                        .replace('{{total}}', subordinates.length)}</th>
                                    <th class="text-end">₫${Math.round(avgIncentive).toLocaleString('ko-KR')}</th>
                                    <th></th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                `;
            } else {
                // Simple table (LINE LEADER, GROUP LEADER)
                const totalIncentive = receivingSubordinates.reduce((sum, sub) =>
                    sum + Number(sub['september_incentive'] || 0), 0
                );
                const avgIncentive = receivingSubordinates.length > 0 ?
                    totalIncentive / receivingSubordinates.length : 0;

                return `
                    <div class="mt-3">
                        <h6>📋 ${getTranslation(`orgChart.modal.${config.subordinateLabel}`, currentLanguage)}</h6>
                        <table class="table table-sm table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>${getTranslation('orgChart.modal.tableHeaders.name', currentLanguage)}</th>
                                    <th>${getTranslation('orgChart.modal.tableHeaders.id', currentLanguage)}</th>
                                    <th class="text-end">${getTranslation('orgChart.modal.tableHeaders.incentive', currentLanguage)}</th>
                                    <th class="text-center">${getTranslation(`orgChart.modal.tableHeaders.${config.subordinateType === 'ASSEMBLY INSPECTOR' ? 'received' : 'included'}`, currentLanguage)}</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${subordinates.map(sub => {
                                    const subIncentive = Number(sub['september_incentive'] || 0);
                                    const isReceiving = subIncentive > 0;
                                    return `
                                        <tr class="${isReceiving ? '' : 'text-muted'}">
                                            <td>${sub.name || sub.employee_name || 'Unknown'}</td>
                                            <td>${sub.emp_no || sub.employee_id || ''}</td>
                                            <td class="text-end">${isReceiving ? '₫' + subIncentive.toLocaleString('ko-KR') : '-'}</td>
                                            <td class="text-center">${isReceiving ? '✅' : '❌'}</td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                            <tfoot class="table-secondary">
                                <tr>
                                    <th colspan="2">${getTranslation('orgChart.modal.total', currentLanguage)}</th>
                                    <th class="text-end">₫${totalIncentive.toLocaleString('ko-KR')}</th>
                                    <th></th>
                                </tr>
                                <tr>
                                    <th colspan="2">${getTranslation('orgChart.modal.averageReceiving', currentLanguage)
                                        .replace('{{receiving}}', receivingSubordinates.length)
                                        .replace('{{total}}', subordinates.length)}</th>
                                    <th class="text-end">₫${Math.round(avgIncentive).toLocaleString('ko-KR')}</th>
                                    <th></th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                `;
            }
        }

        // Helper: Generate calculation details HTML
        function generateCalculationDetails(positionData, config, metrics, expectedIncentive, actualIncentive, currentLanguage) {
            const positionStr = positionData.positionStr || '';
            const subordinateTable = generateSubordinateTable(
                config.findSubordinates(positionData.nodeId),
                config,
                currentLanguage
            );

            if (config.multiplier === 0.12) {
                // LINE LEADER specific calculation
                return `
                    <div class="calculation-details">
                        <h6>📊 ${getTranslation('orgChart.modal.calculationDetails', currentLanguage)} (LINE LEADER)</h6>
                        <table class="table table-sm">
                            <tr>
                                <td>${getTranslation('orgChart.modal.labels.formula', currentLanguage)}:</td>
                                <td class="text-end"><strong>${getTranslation(config.formulaKey, currentLanguage)}</strong></td>
                            </tr>
                            <tr>
                                <td>${getTranslation(`orgChart.modal.labels.${config.countLabel}`, currentLanguage)}:</td>
                                <td class="text-end">${metrics.count}${getTranslation('common.people', currentLanguage)} (${getTranslation('orgChart.modal.labels.receiving', currentLanguage)}: ${metrics.receiving}${getTranslation('common.people', currentLanguage)})</td>
                            </tr>
                            <tr>
                                <td>${getTranslation('orgChart.modal.labels.incentiveSum', currentLanguage)}:</td>
                                <td class="text-end">₫${metrics.total.toLocaleString('ko-KR')}</td>
                            </tr>
                            <tr>
                                <td>${getTranslation('orgChart.modal.labels.receivingRatio', currentLanguage)}:</td>
                                <td class="text-end">${metrics.receiving}/${metrics.count} = ${(metrics.receivingRatio * 100).toFixed(1)}%</td>
                            </tr>
                            <tr>
                                <td>${getTranslation('orgChart.modal.labels.calculation', currentLanguage)}:</td>
                                <td class="text-end">₫${metrics.total.toLocaleString('ko-KR')} × 12% × ${(metrics.receivingRatio * 100).toFixed(1)}%</td>
                            </tr>
                            <tr class="table-primary">
                                <td><strong>${getTranslation('orgChart.modal.labels.expectedIncentive', currentLanguage)}:</strong></td>
                                <td class="text-end"><strong>₫${expectedIncentive.toLocaleString('ko-KR')}</strong></td>
                            </tr>
                            <tr class="${Math.abs(actualIncentive - expectedIncentive) < 1000 ? 'table-success' : 'table-warning'}">
                                <td><strong>${getTranslation('orgChart.modal.labels.actualIncentive', currentLanguage)}:</strong></td>
                                <td class="text-end"><strong>₫${actualIncentive.toLocaleString('ko-KR')}</strong></td>
                            </tr>
                        </table>
                        ${subordinateTable}
                    </div>
                `;
            } else {
                // Others: average-based calculation
                return `
                    <div class="calculation-details">
                        <h6>📊 ${getTranslation('orgChart.modal.calculationDetails', currentLanguage)} (${positionStr.toUpperCase().includes('A.MANAGER') || positionStr.toUpperCase().includes('ASSISTANT') ? 'A.MANAGER' : positionStr.toUpperCase().includes('SUPERVISOR') ? 'SUPERVISOR' : positionStr.toUpperCase().includes('GROUP LEADER') ? 'GROUP LEADER' : 'MANAGER'})</h6>
                        <table class="table table-sm">
                            <tr>
                                <td>${getTranslation('orgChart.modal.labels.formula', currentLanguage)}:</td>
                                <td class="text-end"><strong>${getTranslation(config.formulaKey, currentLanguage)}</strong></td>
                            </tr>
                            <tr>
                                <td>${getTranslation(`orgChart.modal.labels.${config.countLabel}`, currentLanguage)}:</td>
                                <td class="text-end">${metrics.count}${getTranslation('common.people', currentLanguage)} (${getTranslation('orgChart.modal.labels.receiving', currentLanguage)}: ${metrics.receiving}${getTranslation('common.people', currentLanguage)})</td>
                            </tr>
                            <tr>
                                <td>${getTranslation('orgChart.modal.labels.lineLeaderAvg', currentLanguage)}:</td>
                                <td class="text-end">₫${Math.round(metrics.average).toLocaleString('ko-KR')}</td>
                            </tr>
                            <tr>
                                <td>${getTranslation('orgChart.modal.labels.calculation', currentLanguage)}:</td>
                                <td class="text-end">₫${Math.round(metrics.average).toLocaleString('ko-KR')} × ${config.multiplier}</td>
                            </tr>
                            <tr class="table-primary">
                                <td><strong>${getTranslation('orgChart.modal.labels.expectedIncentive', currentLanguage) || '예상 incentive'}:</strong></td>
                                <td class="text-end"><strong>₫${expectedIncentive.toLocaleString('ko-KR')}</strong></td>
                            </tr>
                            <tr class="${Math.abs(actualIncentive - expectedIncentive) < 1000 ? 'table-success' : 'table-warning'}">
                                <td><strong>${getTranslation('orgChart.modal.labels.actualIncentive', currentLanguage) || 'actual incentive'}:</strong></td>
                                <td class="text-end"><strong>₫${actualIncentive.toLocaleString('ko-KR')}</strong></td>
                            </tr>
                        </table>
                        ${subordinateTable}
                    </div>
                `;
            }
        }

        // incentive 상세 모달 (전역 스코프)
        window.showIncentiveModal = function(nodeId) {
            console.log('🔍 모달 함count 호출됨 - Node ID:', nodeId);

            try {
                // existing 모달이 있으면 강제 닫기
                window.forceCloseModal();

                const employee = employeeData.find(emp => emp.emp_no === nodeId);
                if (!employee) {
                    console.error('❌ 직원 data를 find count 없음:', nodeId);
                    alert('직원 data를 find count not found. ID: ' + nodeId);
                    return;
                }
                console.log('✅ 직원 발견:', employee.name, employee.position);

                const position = (employee.position || '').toUpperCase();
                const employeeIncentive = Number(employee['september_incentive'] || 0);

                // 부하 직원 찾기 (TYPE-1만)
                const subordinates = employeeData.filter(emp => emp.boss_id === nodeId && emp.type === 'TYPE-1');
                const receivingSubordinates = subordinates.filter(sub => {
                    const incentive = sub['september_incentive'] || 0;
                    return Number(incentive) > 0;
                });

                // Configuration-driven calculation
                let calculationDetails = '';
                let expectedIncentive = 0;

                // Get position configuration
                const config = getPositionConfig(employee.position);

                if (config) {
                    // Find subordinates using configuration
                    const subordinates = config.findSubordinates(nodeId);

                    // Calculate expected incentive and metrics
                    const result = calculateExpectedIncentive(subordinates, config);
                    expectedIncentive = result.expected;

                    // Generate calculation details HTML
                    calculationDetails = generateCalculationDetails(
                        { nodeId: nodeId, positionStr: employee.position },
                        config,
                        result.metrics,
                        expectedIncentive,
                        employeeIncentive,
                        currentLanguage
                    );
                }

                // 모달 HTML creation
                const monthNumber = 'september' === 'september' ? '9' : 'september' === 'august' ? '8' : 'september' === 'july' ? '7' : '?';
                const modalHtml = `
                <div class="modal fade" id="incentiveModal" tabindex="-1" style="z-index: 1055;">
                    <div class="modal-dialog modal-xl" style="z-index: 1056;">
                        <div class="modal-content" style="z-index: 1057; position: relative; user-select: text; -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text;">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalTitle">${getTranslation('modal.modalTitle', currentLanguage)} - ${formatModalDate(dashboardYear, monthNumber, currentLanguage)}</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="employee-info mb-3">
                                    <h5>${employee.name}</h5>
                                    <p class="mb-1"><strong>${getTranslation('orgChart.modal.basicInfo.position', currentLanguage)}:</strong> ${employee.position}</p>
                                    <p class="mb-1"><strong>${getTranslation('orgChart.modal.basicInfo.employeeId', currentLanguage)}:</strong> ${employee.emp_no}</p>
                                    <p class="mb-1"><strong>${getTranslation('orgChart.modal.basicInfo.type', currentLanguage)}:</strong> ${employee.type}</p>
                                </div>
                                <hr>
                                <div class="incentive-summary mb-3">
                                    <h5 class="${employeeIncentive > 0 ? 'text-success' : 'text-danger'}">
                                        <span class="modal-actual-incentive">${getTranslation('orgChart.modalLabels.actualIncentive', currentLanguage)}</span>: ₫${employeeIncentive.toLocaleString('ko-KR')}
                                    </h5>
                                    <p class="text-muted"><span class="modal-calc-method">${getTranslation('orgChart.modalLabels.calculationMethod', currentLanguage)}</span>: ${getCalculationFormula(employee.position) || '특별 calculation'}</p>
                                    ${(() => {
                                        if (employeeIncentive === 0) {
                                            const failureReasons = getIncentiveFailureReasons(employee);
                                            if (failureReasons.length > 0) {
                                                return `
                                                    <div class="alert alert-danger mt-3">
                                                        <h6 class="alert-heading"><i class="bi bi-exclamation-triangle-fill"></i> <span class="modal-no-지급-reason">${getTranslation('orgChart.modal.alerts.nonPaymentTitle', currentLanguage)}</span></h6>
                                                        <ul class="mb-0">
                                                            ${failureReasons.map(reason => `<li>${reason}</li>`).join('')}
                                                        </ul>
                                                    </div>
                                                `;
                                            }
                                        } else if (expectedIncentive > 0 && Math.abs(expectedIncentive - employeeIncentive) >= 1000) {
                                            return `
                                                <div class="alert alert-warning mt-3">
                                                    <h6 class="alert-heading"><i class="bi bi-info-circle-fill"></i> ${getTranslation('orgChart.modal.alerts.differenceTitle', currentLanguage)}</h6>
                                                    <table class="table table-sm table-borderless mb-2" style="font-size: 0.9em;">
                                                        <tr>
                                                            <td>${getTranslation('orgChart.modal.labels.expectedIncentive', currentLanguage)}:</td>
                                                            <td class="text-end"><strong>₫${expectedIncentive.toLocaleString('ko-KR')}</strong></td>
                                                        </tr>
                                                        <tr>
                                                            <td>${getTranslation('orgChart.modal.labels.actualIncentive', currentLanguage)}:</td>
                                                            <td class="text-end"><strong>₫${employeeIncentive.toLocaleString('ko-KR')}</strong></td>
                                                        </tr>
                                                        <tr class="border-top">
                                                            <td><strong>${getTranslation('orgChart.modal.alerts.difference', currentLanguage)}:</strong></td>
                                                            <td class="text-end"><strong>₫${Math.abs(expectedIncentive - employeeIncentive).toLocaleString('ko-KR')}</strong></td>
                                                        </tr>
                                                    </table>
                                                    <p class="mb-0"><small>💡 ${getTranslation('orgChart.modal.alerts.differenceReason', currentLanguage)}</small></p>
                                                </div>
                                            `;
                                        }
                                        return '';
                                    })()}
                                </div>
                                ${calculationDetails}
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span class="modal-close-btn">${getTranslation('orgChart.buttons.close', currentLanguage) || '닫기'}</span></button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

                // existing 모달 제거 (인스턴스 포함)
                const existingModal = document.getElementById('incentiveModal');
                if (existingModal) {
                    try {
                        // existing Bootstrap 모달 인스턴스 제거
                        const existingModalInstance = bootstrap.Modal.getInstance(existingModal);
                        if (existingModalInstance) {
                            existingModalInstance.dispose();
                        }
                        existingModal.remove();
                    } catch (e) {
                        console.error('existing 모달 제거 중 오류:', e);
                        existingModal.remove();
                    }
                }

                // 모달 추가
                document.body.insertAdjacentHTML('beforeend', modalHtml);
                const modalElement = document.getElementById('incentiveModal');

                // Bootstrap 모달 인스턴스 creation 및 표시
                try {
                    // 모달을 보여주기 전에 tabindex 설정
                    modalElement.setAttribute('tabindex', '-1');
                    modalElement.setAttribute('aria-hidden', 'true');

                    // 모달 컨텐츠에 텍스트 선택 가능하도록 설정
                    const modalContent = modalElement.querySelector('.modal-content');
                    if (modalContent) {
                        modalContent.style.userSelect = 'text';
                        modalContent.style.webkitUserSelect = 'text';
                        modalContent.style.mozUserSelect = 'text';
                        modalContent.style.msUserSelect = 'text';
                        modalContent.style.position = 'relative';
                        modalContent.style.zIndex = '1057';
                    }

                    const modal = new bootstrap.Modal(modalElement, {
                        backdrop: true,      // 배경 클릭으로 닫기 가능
                        keyboard: true,      // ESC 키로 닫기 가능
                        focus: true
                    });

                    // 모달 표시
                    modal.show();

                    // count동으로 백드롭 클릭 이벤트 추가 (Bootstrap이 제대로 처리 안 될 경우 대비)
                    setTimeout(() => {
                    const backdrop = document.querySelector('.modal-backdrop');
                    if (backdrop) {
                        backdrop.style.cursor = 'pointer';
                        backdrop.style.zIndex = '1050';  // 모달보다 낮은 z-index
                        backdrop.addEventListener('click', function() {
                            console.log('백드롭 클릭 감지');
                            modal.hide();
                        });
                    }

                    // 모달 자체의 z-index 확인
                    if (modalElement) {
                        modalElement.style.zIndex = '1055';
                        const modalDialog = modalElement.querySelector('.modal-dialog');
                        if (modalDialog) {
                            modalDialog.style.zIndex = '1056';
                        }
                    }

                    // ESC 키 이벤트도 count동 추가
                    document.addEventListener('keydown', function escHandler(e) {
                        if (e.key === 'Escape') {
                            console.log('ESC 키 감지');
                            modal.hide();
                            document.removeEventListener('keydown', escHandler);
                        }
                    });
                    }, 100);

                    // 모달이 완전히 닫힌 후 정리
                    modalElement.addEventListener('hidden.bs.modal', function onHidden() {
                    console.log('모달 완전히 닫힘 - 정리 작업 실행');

                    // 이벤트 리스너 제거
                    modalElement.removeEventListener('hidden.bs.modal', onHidden);

                    try {
                        // 모달 인스턴스 정리
                        const modalInstance = bootstrap.Modal.getInstance(modalElement);
                        if (modalInstance) {
                            modalInstance.dispose();
                        }
                    } catch (e) {
                        console.error('모달 dispose 오류:', e);
                    }

                    // 모달 DOM 요소 제거
                    setTimeout(() => {
                        if (modalElement && modalElement.parentNode) {
                            modalElement.parentNode.removeChild(modalElement);
                        }
                        // 백드롭이 남아있다면 제거
                        const backdrops = document.querySelectorAll('.modal-backdrop');
                        backdrops.forEach(backdrop => backdrop.remove());
                        // body 상태 초기화
                        document.body.classList.remove('modal-open');
                        document.body.style.removeProperty('overflow');
                        document.body.style.removeProperty('padding-right');
                        // 추가로 body의 padding도 제거
                        document.body.style.paddingRight = '';
                        document.body.style.overflow = '';
                    }, 300);  // Bootstrap 애니메이션이 completed될 때까지 대기
                    });

                    // 모달이 표시된 후 포커스 설정
                    modalElement.addEventListener('shown.bs.modal', function() {
                    console.log('모달 표시 completed');
                    // 닫기 버튼에 포커스 설정
                    const closeBtn = modalElement.querySelector('[data-bs-dismiss="modal"]');
                    if (closeBtn) {
                            closeBtn.focus();
                        }
                    });

                } catch (error) {
                    console.error('모달 creation 오류:', error);
                    // 오류 발생 시 정리 작업
                    if (modalElement) {
                        modalElement.remove();
                    }
                    // 백드롭도 제거
                    const backdrops = document.querySelectorAll('.modal-backdrop');
                    backdrops.forEach(backdrop => backdrop.remove());
                    // body 상태 초기화
                    document.body.classList.remove('modal-open');
                    document.body.style.removeProperty('overflow');
                    document.body.style.removeProperty('padding-right');
                    document.body.style.paddingRight = '';
                    document.body.style.overflow = '';
                }
            } catch (mainError) {
                console.error('showIncentiveModal 메인 오류:', mainError);
                alert('모달을 표시하는 중 오류가 발생했습니다.');
            }
        }

        // calculation 공식 fetch
        function getCalculationFormula(position) {
            const pos = (position || '').toUpperCase();

            if (pos.includes('LINE LEADER')) {
                return getTranslation('orgChart.calculationFormulas.lineLeader');
            } else if (pos.includes('GROUP LEADER')) {
                return getTranslation('orgChart.calculationFormulas.groupLeader');
            } else if (pos.includes('SUPERVISOR')) {
                return getTranslation('orgChart.calculationFormulas.supervisor');
            } else if (pos.includes('A.MANAGER') || pos.includes('ASSISTANT')) {
                return getTranslation('orgChart.calculationFormulas.assistantManager');
            } else if (pos.includes('MANAGER')) {
                return getTranslation('orgChart.calculationFormulas.manager');
            }
            return '';
        }

        // UI 텍스트 업데이트
        function updateOrgChartUIText() {
            // 제목 및 설직원 updated
            const titleEl = document.getElementById('orgChartTitle');
            if (titleEl) titleEl.textContent = getTranslation('tabs.orgChart', currentLanguage) || getTranslation('tabs.orgchart', currentLanguage);

            const subtitleEl = document.getElementById('orgChartSubtitle');
            if (subtitleEl) subtitleEl.textContent = getTranslation('orgChart.subtitle', currentLanguage);

            // 메인 제목 업데이트
            const titleMainEl = document.getElementById('orgChartTitleMain');
            if (titleMainEl) titleMainEl.textContent = getTranslation('orgChart.title', currentLanguage);

            const subtitleMainEl = document.getElementById('orgChartSubtitleMain');
            if (subtitleMainEl) subtitleMainEl.textContent = getTranslation('orgChart.subtitle', currentLanguage);

            // 참고 레이블 및 제외된 직급 안내
            const noteLabelEl = document.getElementById('orgChartNoteLabel');
            if (noteLabelEl) noteLabelEl.textContent = getTranslation('orgChart.noteLabel', currentLanguage);

            const excludedEl = document.getElementById('orgChartExcludedPositions');
            if (excludedEl) excludedEl.textContent = getTranslation('orgChart.excludedPositions', currentLanguage);

            // 빵 부스러기 (total 조직)
            const breadcrumbEl = document.getElementById('orgBreadcrumbText');
            if (breadcrumbEl) breadcrumbEl.textContent = getTranslation('orgChart.entireOrganization', currentLanguage);

            // 검색 placeholder
            const searchEl = document.getElementById('orgSearchInput');
            if (searchEl) searchEl.placeholder = getTranslation('orgChart.searchPlaceholder', currentLanguage);

            // 버튼 텍스트
            const expandEl = document.getElementById('expandAllText');
            if (expandEl) expandEl.textContent = getTranslation('orgChart.expandAll', currentLanguage);

            const collapseEl = document.getElementById('collapseAllText');
            if (collapseEl) collapseEl.textContent = getTranslation('orgChart.collapseAll', currentLanguage);

            // 범례
            const legendTitleEl = document.getElementById('legendTitle');
            if (legendTitleEl) legendTitleEl.textContent = getTranslation('orgChart.legendTitle', currentLanguage);

            const legendReceivedEl = document.getElementById('legendIncentiveReceived');
            if (legendReceivedEl) legendReceivedEl.textContent = getTranslation('orgChart.incentiveReceived', currentLanguage);

            const legendNoIncentiveEl = document.getElementById('legendNoIncentive');
            if (legendNoIncentiveEl) legendNoIncentiveEl.textContent = getTranslation('orgChart.noIncentive', currentLanguage);

            // 조직도 내 부하 직원 텍스트 업데이트
            const subordinateCounts = document.querySelectorAll('.subordinate-count[data-i18n-subordinates]');
            subordinateCounts.forEach(el => {
                const counts = el.getAttribute('data-i18n-subordinates');
                if (counts) {
                    const type1Text = getTranslation('organizationChart.type1Subordinates', currentLanguage);
                    const employeeUnit = getTranslation('organizationChart.employeeUnit', currentLanguage);
                    el.textContent = `${type1Text} ${counts}${employeeUnit}`;
                }
            });
        }

        // 조직도 초기화 함count
        function resetOrgChart() {
            drawCollapsibleOrgChart();
        }

        // 이전 drawCollapsibleTree 함count는 제거
        function drawCollapsibleTree() {
            console.log('This function is deprecated. Using drawCollapsibleOrgChart instead.');
            drawCollapsibleOrgChart();
            const containerWidth = container.node().getBoundingClientRect().width;
            const width = Math.max(1200, containerWidth);
            const height = 800;
            const margin = { top: 20, right: 120, bottom: 20, left: 200 };

            // SVG 초기화
            d3.select("#orgChartSvg").selectAll("*").remove();

            const svg = d3.select("#orgChartSvg")
                .attr("width", width)
                .attr("height", height);

            const g = svg.append("g")
                .attr("transform", `translate(${margin.left},${height / 2})`);

            const tree = d3.tree()
                .size([height - margin.top - margin.bottom, width - margin.left - margin.right - 200]);

            const hierarchyData = prepareHierarchyData();
            if (!hierarchyData || hierarchyData.length === 0) {
                console.log('No hierarchy data available');
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", height / 2)
                    .attr("text-anchor", "middle")
                    .text("조직도 data를 불러올 count not found.");
                return;
            }

            try {
                const root = d3.stratify()
                    .id(d => d.id)
                    .parentId(d => d.parentId)(hierarchyData);

                root.x0 = (height - margin.top - margin.bottom) / 2;
                root.y0 = 0;

                // 초기에 2레벨까지만 펼치기
                root.descendants().forEach((d, i) => {
                    d.id = i;
                    d._children = d.children;
                    if (d.depth && d.depth > 1) {
                        d.children = null;
                    }
                });

                function update(source) {
                    const treeData = tree(root);
                    const nodes = treeData.descendants();
                    const links = treeData.descendants().slice(1);

                    // 노드 위치 조정
                    nodes.forEach(d => { d.y = d.depth * 180; });

                    // 노드 업데이트
                    const node = g.selectAll("g.node")
                        .data(nodes, d => d.id || (d.id = ++i));

                    // 새 노드 추가
                    const nodeEnter = node.enter().append("g")
                        .attr("class", "node")
                        .attr("transform", d => `translate(${source.y0},${source.x0})`)
                        .on("click", click);

                    nodeEnter.append("circle")
                        .attr("class", "node")
                        .attr("r", 1e-6)
                        .style("fill", d => d._children ? "lightsteelblue" : "#fff")
                        .style("stroke", d => getPositionColor(d.data.position))
                        .style("stroke-width", "2px");

                    nodeEnter.append("text")
                        .attr("dy", ".35em")
                        .attr("x", d => d.children || d._children ? -13 : 13)
                        .attr("text-anchor", d => d.children || d._children ? "end" : "start")
                        .style("font-size", "12px")
                        .text(d => d.data.name);

                    // 노드 위치 업데이트
                    const nodeUpdate = nodeEnter.merge(node);

                    nodeUpdate.transition()
                        .duration(750)
                        .attr("transform", d => `translate(${d.y},${d.x})`);

                    nodeUpdate.select("circle.node")
                        .attr("r", 10)
                        .style("fill", d => d._children ? "lightsteelblue" : "#fff")
                        .attr("cursor", "pointer");

                    // 노드 제거
                    const nodeExit = node.exit().transition()
                        .duration(750)
                        .attr("transform", d => `translate(${source.y},${source.x})`)
                        .remove();

                    nodeExit.select("circle")
                        .attr("r", 1e-6);

                    nodeExit.select("text")
                        .style("fill-opacity", 1e-6);

                    // 링크 업데이트
                    const link = g.selectAll("path.link")
                        .data(links, d => d.id);

                    const linkEnter = link.enter().insert("path", "g")
                        .attr("class", "link")
                        .style("fill", "none")
                        .style("stroke", "#ccc")
                        .style("stroke-width", "2px")
                        .attr("d", d => {
                            const o = { x: source.x0, y: source.y0 };
                            return diagonal(o, o);
                        });

                    const linkUpdate = linkEnter.merge(link);

                    linkUpdate.transition()
                        .duration(750)
                        .attr("d", d => diagonal(d, d.parent));

                    const linkExit = link.exit().transition()
                        .duration(750)
                        .attr("d", d => {
                            const o = { x: source.x, y: source.y };
                            return diagonal(o, o);
                        })
                        .remove();

                    // 이전 위치 저장
                    nodes.forEach(d => {
                        d.x0 = d.x;
                        d.y0 = d.y;
                    });

                    // 대각선 링크 creation 함count
                    function diagonal(s, d) {
                        const path = `M ${s.y} ${s.x}
                                C ${(s.y + d.y) / 2} ${s.x},
                                  ${(s.y + d.y) / 2} ${d.x},
                                  ${d.y} ${d.x}`;
                        return path;
                    }

                    // 클릭 이벤트 핸들러
                    function click(event, d) {
                        if (d.children) {
                            d._children = d.children;
                            d.children = null;
                        } else {
                            d.children = d._children;
                            d._children = null;
                        }
                        update(d);
                    }
                }

                var i = 0;
                update(root);

                // Breadcrumb 업데이트
                updateBreadcrumb("접을 count 있는 트리");

                // 범례 추가
                const legend = svg.append("g")
                    .attr("class", "legend")
                    .attr("transform", `translate(${width - 200}, 20)`);

                const legendItems = [
                    { color: "#1f77b4", label: "Manager" },
                    { color: "#2ca02c", label: "Supervisor" },
                    { color: "#ff7f0e", label: "Group Leader" },
                    { color: "#d62728", label: "Line Leader" },
                    { color: "#9467bd", label: "Inspector" },
                    { color: "#8c564b", label: "Others" }
                ];

                legendItems.forEach((item, i) => {
                    const legendItem = legend.append("g")
                        .attr("transform", `translate(0, ${i * 20})`);

                    legendItem.append("circle")
                        .attr("r", 6)
                        .style("fill", "white")
                        .style("stroke", item.color)
                        .style("stroke-width", "2px");

                    legendItem.append("text")
                        .attr("x", 15)
                        .attr("y", 5)
                        .style("font-size", "12px")
                        .text(item.label);
                });

            } catch (error) {
                console.error("조직도 creation 오류:", error);
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", height / 2)
                    .attr("text-anchor", "middle")
                    .text("조직도 creation 중 오류가 발생했습니다: " + error.message);
            }
        }

        function drawRadialTree() {
            const container = d3.select("#orgChartContainer");
            const containerWidth = container.node().getBoundingClientRect().width;
            const radius = Math.min(containerWidth, 1200) / 2; // 더 큰 반경
            const width = radius * 2;
            const height = radius * 2;

            const svg = d3.select("#orgChartSvg")
                .attr("width", width)
                .attr("height", height);

            const g = svg.append("g")
                .attr("transform", `translate(${width / 2},${height / 2})`);

            const tree = d3.tree()
                .size([2 * Math.PI, radius - 150]) // 더 큰 반경
                .separation((a, b) => {
                    // 레벨by로 다른 간격 apply
                    if (a.depth <= 2) return 2;
                    if (a.depth === 3) return 1.5;
                    if (a.depth >= 4) return 1.2;
                    return (a.parent == b.parent ? 1 : 2) / a.depth;
                });

            const hierarchyData = prepareHierarchyData();
            if (!hierarchyData || hierarchyData.length === 0) {
                console.log('No hierarchy data available');
                return;
            }

            try {
                const root = d3.stratify()
                    .id(d => d.id)
                    .parentId(d => d.parentId)(hierarchyData);

                tree(root);

                // 링크 그리기
                const link = g.selectAll(".link")
                    .data(root.links())
                    .enter().append("path")
                    .attr("class", "link")
                    .style("fill", "none")
                    .style("stroke", "#ccc")
                    .style("stroke-width", d => Math.max(1, 3 - d.대상.depth)) // 깊이에 따라 두께 조정
                    .style("opacity", d => Math.max(0.3, 1 - d.대상.depth * 0.15)) // 깊이에 따라 투직원도
                    .attr("d", d3.linkRadial()
                        .angle(d => d.x)
                        .radius(d => d.y));

                // 노드 그리기
                const node = g.selectAll(".node")
                    .data(root.descendants())
                    .enter().append("g")
                    .attr("class", d => "node" + (d.children ? " node--internal" : " node--leaf"))
                    .attr("transform", d => `
                        rotate(${(d.x * 180 / Math.PI - 90)})
                        translate(${d.y},0)
                    `);

                // 노드 원 (크기를 깊이에 따라 조정, incentive 여부에 따라 색상)
                node.append("circle")
                    .attr("r", d => Math.max(4, 8 - d.depth)) // 깊이에 따라 크기 조정
                    .style("fill", d => {
                        const baseColor = getPositionColor(d.data.position);
                        // incentive 여부에 따라 채우기 색상
                        if (hasIncentive(d.data)) {
                            return d.children ? "#fff" : baseColor + "30";
                        } else {
                            return "#ffcccc"; // 연한 빨간색
                        }
                    })
                    .style("stroke", d => hasIncentive(d.data) ? "#28a745" : "#dc3545")
                    .style("stroke-width", d => Math.max(2, 4 - d.depth * 0.5))
                    .style("cursor", "pointer")
                    .on("mouseover", function(event, d) {
                        // 툴팁 표시
                        const tooltip = d3.select("body").append("div")
                            .attr("class", "radial-tooltip")
                            .style("position", "absolute")
                            .style("padding", "10px")
                            .style("background", "rgba(0, 0, 0, 0.8)")
                            .style("color", "white")
                            .style("border-radius", "5px")
                            .style("pointer-events", "none")
                            .style("opacity", 0);

                        tooltip.transition()
                            .duration(200)
                            .style("opacity", 0.9);

                        tooltip.html(`
                            <strong>${d.data.name}</strong><br/>
                            ID: ${d.data.id}<br/>
                            ${d.data.position}<br/>
                            type: ${d.data.type || 'N/A'}<br/>
                            incentive: ${hasIncentive(d.data) ? '수령' : '미수령'}
                        `)
                            .style("left", (event.pageX + 10) + "px")
                            .style("top", (event.pageY - 28) + "px");
                    })
                    .on("mouseout", function() {
                        d3.selectAll(".radial-tooltip").remove();
                    });

                // 텍스트 라벨 (깊이에 따라 크기와 표시 조정)
                node.append("text")
                    .attr("dy", "0.31em")
                    .attr("x", d => d.x < Math.PI === !d.children ? 10 : -10) // 더 큰 간격
                    .attr("text-anchor", d => d.x < Math.PI === !d.children ? "start" : "end")
                    .attr("transform", d => d.x >= Math.PI ? "rotate(180)" : null)
                    .style("font-size", d => {
                        // 깊이에 따라 폰트 크기 조정
                        if (d.depth === 0) return "16px";
                        if (d.depth === 1) return "14px";
                        if (d.depth === 2) return "12px";
                        if (d.depth === 3) return "11px";
                        return "10px";
                    })
                    .style("font-weight", d => d.depth <= 1 ? "bold" : "normal")
                    .text(d => {
                        // 깊이가 깊을수록 텍스트 줄이기
                        if (d.depth >= 4) {
                            // Inspector 레벨에서는 이름만 표시하고 줄임
                            const names = d.data.name.split(' ');
                            return names[names.length - 1]; // 성만 표시
                        }
                        return d.data.name;
                    });

                // 깊이가 얕은 노드에 대해 포지션 텍스트 추가
                node.filter(d => d.depth < 3)
                    .append("text")
                    .attr("dy", "1.5em")
                    .attr("x", d => d.x < Math.PI === !d.children ? 10 : -10)
                    .attr("text-anchor", d => d.x < Math.PI === !d.children ? "start" : "end")
                    .attr("transform", d => d.x >= Math.PI ? "rotate(180)" : null)
                    .style("font-size", "9px")
                    .style("fill", "#666")
                    .text(d => d.data.position);

                // 줌 기능 추가 (개선된 초기 줌)
                const zoom = d3.zoom()
                    .scaleExtent([0.3, 4])
                    .on("zoom", (event) => {
                        g.attr("transform", `translate(${width / 2},${height / 2}) scale(${event.transform.k})`);
                    });

                svg.call(zoom);

                // 초기 줌을 total가 잘 보이도록 설정
                svg.call(zoom.transform, d3.zoomIdentity.scale(0.8));

                // Breadcrumb 업데이트
                updateBreadcrumb("방사형 트리");

            } catch (error) {
                console.error("방사형 조직도 creation 오류:", error);
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", height / 2)
                    .attr("text-anchor", "middle")
                    .text("조직도 creation 중 오류가 발생했습니다: " + error.message);
            }
        }

        // Old D3.js visualization functions - replaced with collapsible tree
        function drawHorizontalTree() {
            console.log('Horizontal tree deprecated - using collapsible tree');
            return;

            const container = d3.select("#orgChartContainer");
            const containerWidth = container.node().getBoundingClientRect().width;
            const width = Math.max(2000, containerWidth); // 더 넓게
            const height = 3000; // 더 높게
            const margin = { top: 50, right: 300, bottom: 50, left: 150 };
            const duration = 750; // 애니메이션 지속 시간

            const svg = d3.select("#orgChartSvg")
                .style("display", "block")  // SVG 다시 표시
                .attr("width", width)
                .attr("height", height);

            svg.selectAll("*").remove(); // existing 내용 제거

            const g = svg.append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            // nodeSize를 use하여 고정된 노드 간격 설정
            const treeLayout = d3.tree()
                .nodeSize([50, 200]) // [count직 간격, count평 간격] 늘림
                .separation((a, b) => {
                    // 같은 부모를 가진 노드들 사이의 간격
                    if (a.parent === b.parent) {
                        // Inspector 레벨에서는 더 넓은 간격
                        if (a.data.position && a.data.position.includes('INSPECTOR')) {
                            return 2;
                        }
                        return 1.2;
                    }
                    return 1.5;
                });

            const hierarchyData = prepareHierarchyData();
            if (!hierarchyData || hierarchyData.length === 0) {
                console.log('No hierarchy data available');
                return;
            }

            try {
                const root = d3.stratify()
                    .id(d => d.id)
                    .parentId(d => d.parentId)(hierarchyData);

                // 초기 위치 설정
                root.x0 = height / 2;
                root.y0 = 0;

                // 처음에는 1단계 깊이까지만 열어둠
                root.descendants().forEach((d, i) => {
                    d.id = i; // 고유 ID 할당
                    if (d.depth > 1) {
                        d._children = d.children;
                        d.children = null;
                    }
                });

                // 업데이트 함count 정의
                function update(source) {
                    // 트리 레이아웃 calculation
                    const treeData = treeLayout(root);
                    const nodes = treeData.descendants();
                    const links = treeData.links();

                    // 노드 위치 조정 (중앙 정렬)
                    const minY = Math.min(...nodes.map(d => d.x));
                    const maxY = Math.max(...nodes.map(d => d.x));
                    const centerY = (height - margin.top - margin.bottom) / 2;
                    const offsetY = centerY - (maxY + minY) / 2;

                    nodes.forEach(d => {
                        d.x += offsetY;
                    });

                    // 노드 업데이트
                    const node = g.selectAll("g.node")
                        .data(nodes, d => d.id || (d.id = ++i));

                    // 새로운 노드 추가
                    const nodeEnter = node.enter().append("g")
                        .attr("class", "node")
                        .attr("transform", d => `translate(${source.y0},${source.x0})`)
                        .style("cursor", d => d._children || d.children ? "pointer" : "default")
                        .on("click", (event, d) => {
                            if (d.children) {
                                d._children = d.children;
                                d.children = null;
                            } else if (d._children) {
                                d.children = d._children;
                                d._children = null;
                            }
                            update(d);
                        });

                    // 노드 박스 및 내용 추가
                    let boxWidth = 140;
                    let boxHeight = 45;
                    let fontSize = 11;
                    let positionFontSize = 9;

                    // 깊이에 따라 크기 조정
                    if (d.data.depth === 0) {
                        boxWidth = 160;
                        boxHeight = 50;
                        fontSize = 13;
                        positionFontSize = 10;
                    } else if (d.data.depth === 1) {
                        boxWidth = 150;
                        boxHeight = 48;
                        fontSize = 12;
                        positionFontSize = 10;
                    } else if (d.data.depth >= 4) {
                        boxWidth = 100;
                        boxHeight = 35;
                        fontSize = 9;
                        positionFontSize = 8;
                    }

                    // 배경 사각형
                    nodeEnter.append("rect")
                        .attr("x", -boxWidth / 2)
                        .attr("y", -boxHeight / 2)
                        .attr("width", boxWidth)
                        .attr("height", boxHeight)
                        .attr("rx", 5)
                        .style("fill", () => {
                            const color = getPositionColor(d.data.position);
                            return hasIncentive(d.data) ? color + "30" : color + "10";
                        })
                        .style("stroke", d => hasIncentive(d.data) ? "#28a745" : "#dc3545")
                        .style("stroke-width", "2px");

                    // 접기/펼치기 심볼
                    nodeEnter.append("circle")
                        .attr("class", "expand-symbol")
                        .attr("r", 8)
                        .attr("cx", boxWidth / 2 + 10)
                        .attr("cy", 0)
                        .style("fill", d => d._children ? "#ff7f0e" : "#2ca02c")
                        .style("stroke", "#333")
                        .style("stroke-width", "1.5px")
                        .style("display", d => d._children || d.children ? "block" : "none");

                    nodeEnter.append("text")
                        .attr("class", "expand-text")
                        .attr("x", boxWidth / 2 + 10)
                        .attr("dy", "0.35em")
                        .attr("text-anchor", "middle")
                        .style("font-size", "12px")
                        .style("font-weight", "bold")
                        .style("fill", "white")
                        .style("pointer-events", "none")
                        .style("display", d => d._children || d.children ? "block" : "none")
                        .text(d => d._children ? "+" : "−");

                    // 텍스트 추가
                    const nameText = d => d.data.depth >= 4 ?
                        d.data.name.split(' ').slice(-1)[0] :
                        d.data.name;

                    // 포지션
                    nodeEnter.append("text")
                        .attr("class", "position-text")
                        .attr("dy", "-0.7em")
                        .attr("text-anchor", "middle")
                        .style("font-size", positionFontSize + "px")
                        .style("fill", "#333")
                        .style("font-weight", "bold")
                        .text(d => d.data.depth < 4 ? d.data.position : "");

                    // 이름
                    nodeEnter.append("text")
                        .attr("class", "name-text")
                        .attr("dy", d => d.data.depth < 4 ? "0.3em" : "0em")
                        .attr("text-anchor", "middle")
                        .style("font-size", fontSize + "px")
                        .style("font-weight", d => d.data.depth <= 1 ? "bold" : "normal")
                        .text(nameText);

                    // ID
                    nodeEnter.append("text")
                        .attr("class", "id-text")
                        .attr("dy", "1.4em")
                        .attr("text-anchor", "middle")
                        .style("font-size", (positionFontSize - 1) + "px")
                        .style("fill", "#666")
                        .text(d => d.data.depth < 4 && boxWidth >= 140 ? `ID: ${d.data.id}` : "");

                    // 노드 위치 업데이트 (애니메이션)
                    const nodeUpdate = nodeEnter.merge(node);

                    nodeUpdate.transition()
                        .duration(duration)
                        .attr("transform", d => `translate(${d.y},${d.x})`);

                    // end 노드 처리
                    const nodeExit = node.exit().transition()
                        .duration(duration)
                        .attr("transform", d => `translate(${source.y},${source.x})`)
                        .remove();

                    nodeExit.select("rect")
                        .style("opacity", 0);

                    nodeExit.selectAll("text")
                        .style("opacity", 0);

                    // 링크 업데이트
                    const link = g.selectAll("path.link")
                        .data(links, d => d.대상.id);

                    // 새로운 링크 추가
                    const linkEnter = link.enter().insert("path", "g")
                        .attr("class", "link")
                        .style("fill", "none")
                        .style("stroke", "#ccc")
                        .style("stroke-width", 2)
                        .style("opacity", 0.7)
                        .attr("d", d => {
                            const o = {x: source.x0, y: source.y0};
                            return diagonal(o, o);
                        });

                    // 링크 위치 업데이트
                    const linkUpdate = linkEnter.merge(link);

                    linkUpdate.transition()
                        .duration(duration)
                        .attr("d", d => diagonal(d.source, d.대상));

                    // end 링크 처리
                    const linkExit = link.exit().transition()
                        .duration(duration)
                        .attr("d", d => {
                            const o = {x: source.x, y: source.y};
                            return diagonal(o, o);
                        })
                        .remove();

                    // 이전 위치 저장
                    nodes.forEach(d => {
                        d.x0 = d.x;
                        d.y0 = d.y;
                    });

                    // 대각선 경로 creation 함count
                    function diagonal(s, d) {
                        return `M ${s.y} ${s.x}
                                C ${(s.y + d.y) / 2} ${s.x},
                                  ${(s.y + d.y) / 2} ${d.x},
                                  ${d.y} ${d.x}`;
                    }
                }

                // 초기 렌더링
                update(root);

                // 줌 기능 추가
                currentZoomBehavior = d3.zoom()
                    .scaleExtent([0.2, 3])
                    .on("zoom", (event) => {
                        g.attr("transform", event.transform);
                    });

                svg.call(currentZoomBehavior);

                // 초기 줌 설정 (total가 보이도록)
                setTimeout(() => {
                    const bounds = g.node().getBBox();
                    const fullWidth = width - margin.left - margin.right;
                    const fullHeight = height - margin.top - margin.bottom;
                    const midX = bounds.x + bounds.width / 2;
                    const midY = bounds.y + bounds.height / 2;
                    const scale = Math.min(fullWidth / bounds.width, fullHeight / bounds.height) * 0.8;

                    svg.call(currentZoomBehavior.transform, d3.zoomIdentity
                        .translate(width / 2, height / 2)
                        .scale(scale)
                        .translate(-midX, -midY));
                }, 100);

                // Breadcrumb 업데이트
                updateBreadcrumb("count평 트리 (클릭하여 접기/펼치기)");

            } catch (error) {
                console.error("count평 조직도 creation 오류:", error);
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", height / 2)
                    .attr("text-anchor", "middle")
                    .text("조직도 creation 중 오류가 발생했습니다: " + error.message);
            }
        }

        function drawTreemap() {
            console.log('Treemap deprecated - using collapsible tree');
            return;
            const containerWidth = container.node().getBoundingClientRect().width;
            const width = Math.max(1200, containerWidth);
            const height = 800;

            // existing SVG 숨기고 내용 제거
            d3.select("#orgChartSvg")
                .style("display", "none")
                .selectAll("*").remove();

            // existing treemap div 제거
            d3.select("#treemapDiv").remove();

            // treemap을 위한 컨테이너 div creation
            const treemapDiv = d3.select("#orgChartContainer")
                .append("div")
                .attr("id", "treemapDiv")
                .style("width", width + "px")
                .style("height", height + "px")
                .style("position", "relative")
                .style("margin", "20px auto")
                .style("border", "1px solid #dee2e6")
                .style("border-radius", "8px")
                .style("overflow", "hidden")
                .style("background", "#f8f9fa");

            const hierarchyData = prepareHierarchyData();
            if (!hierarchyData || hierarchyData.length === 0) {
                console.log('No hierarchy data available for treemap');
                return;
            }

            try {
                // 계층 구조 creation
                const root = d3.stratify()
                    .id(d => d.id)
                    .parentId(d => d.parentId)(hierarchyData);

                // 각 노드의 value calculation (자식이 없으면 1, 있으면 자식 count)
                root.sum(d => d.children ? 0 : 1)
                    .sort((a, b) => b.value - a.value);

                // Treemap 레이아웃 creation
                d3.treemap()
                    .size([width, height])
                    .padding(2)
                    .round(true)(root);

                // 색상 맵핑
                const colorScale = d3.scaleOrdinal()
                    .domain(['MANAGER', 'SUPERVISOR', 'GROUP LEADER', 'LINE LEADER', 'INSPECTOR', 'Others'])
                    .range(['#1f77b4', '#2ca02c', '#ff7f0e', '#d62728', '#9467bd', '#8c564b']);

                // 노드 creation
                const nodes = treemapDiv.selectAll(".treemap-node")
                    .data(root.leaves())
                    .enter().append("div")
                    .attr("class", "treemap-node")
                    .style("position", "absolute")
                    .style("left", d => d.x0 + "px")
                    .style("top", d => d.y0 + "px")
                    .style("width", d => Math.max(0, d.x1 - d.x0 - 1) + "px")
                    .style("height", d => Math.max(0, d.y1 - d.y0 - 1) + "px")
                    .style("background", d => {
                        const color = getPositionColor(d.data.position);
                        // incentive 여부에 따라 그라데이션 조정
                        if (hasIncentive(d.data)) {
                            return `linear-gradient(135deg, ${color}, ${d3.color(color).darker(0.3)})`;
                        } else {
                            // incentive 미수령자는 더 어두운 색상
                            return `linear-gradient(135deg, ${d3.color(color).darker(0.5)}, ${d3.color(color).darker(0.8)})`;
                        }
                    })
                    .style("border", d => {
                        // incentive 여부에 따라 테두리 색상
                        return hasIncentive(d.data) ? "3px solid #28a745" : "3px solid #dc3545";
                    })
                    .style("overflow", "hidden")
                    .style("cursor", "pointer")
                    .style("transition", "all 0.3s ease")
                    .on("mouseover", function(event, d) {
                        d3.select(this)
                            .style("z-index", 100)
                            .style("transform", "scale(1.02)")
                            .style("box-shadow", "0 4px 20px rgba(0,0,0,0.3)");

                        // Tooltip 표시
                        showTooltip(event, d);
                    })
                    .on("mouseout", function() {
                        d3.select(this)
                            .style("z-index", 1)
                            .style("transform", "scale(1)")
                            .style("box-shadow", "none");

                        hideTooltip();
                    });

                // 라벨 추가
                nodes.append("div")
                    .style("padding", "8px")
                    .style("color", "white")
                    .style("font-size", d => {
                        const width = d.x1 - d.x0;
                        const height = d.y1 - d.y0;
                        if (width > 100 && height > 60) return "14px";
                        if (width > 60 && height > 40) return "12px";
                        return "10px";
                    })
                    .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.5)")
                    .style("line-height", "1.3")
                    .html(d => {
                        const width = d.x1 - d.x0;
                        const height = d.y1 - d.y0;

                        if (width > 100 && height > 100) {
                            return `
                                <div style="font-weight: bold; font-size: 14px;">${d.data.name}</div>
                                <div style="font-size: 10px; margin-top: 2px;">ID: ${d.data.id}</div>
                                <div style="font-size: 11px; margin-top: 2px;">${d.data.position}</div>
                                <div style="font-size: 10px; opacity: 0.9; margin-top: 2px;">
                                    ${hasIncentive(d.data) ? `✅ ${getTranslation('orgChart.incentiveReceived', currentLanguage)}` : `❌ ${getTranslation('orgChart.incentiveNotReceived', currentLanguage)}`}
                                </div>
                            `;
                        } else if (width > 60 && height > 60) {
                            return `
                                <div style="font-weight: bold; font-size: 11px;">${d.data.name}</div>
                                <div style="font-size: 9px;">ID: ${d.data.id}</div>
                            `;
                        } else if (width > 40 && height > 40) {
                            const names = d.data.name.split(' ');
                            return `<div style="font-size: 10px;">${names[names.length - 1]}</div>`;
                        }
                        return '';
                    });

                // Tooltip 함count들
                function showTooltip(event, d) {
                    const tooltip = d3.select("body").append("div")
                        .attr("class", "treemap-tooltip")
                        .style("position", "absolute")
                        .style("padding", "12px")
                        .style("background", "rgba(0, 0, 0, 0.9)")
                        .style("color", "white")
                        .style("border-radius", "8px")
                        .style("font-size", "14px")
                        .style("pointer-events", "none")
                        .style("opacity", 0)
                        .style("z-index", 1000);

                    tooltip.transition()
                        .duration(200)
                        .style("opacity", 0.9);

                    tooltip.html(`
                        <strong>${d.data.name}</strong><br/>
                        ID: ${d.data.id}<br/>
                        직위: ${d.data.position}<br/>
                        type: ${d.data.type}<br/>
                        incentive: ${hasIncentive(d.data) ?
                            parseIncentive(d.data.incentive).toLocaleString() + ' VND ✅' :
                            '미수령 ❌'}
                    `)
                        .style("left", (event.pageX + 10) + "px")
                        .style("top", (event.pageY - 28) + "px");
                }

                function hideTooltip() {
                    d3.selectAll(".treemap-tooltip").remove();
                }

                // Breadcrumb 업데이트
                updateBreadcrumb("Treemap 시각화");

            } catch (error) {
                console.error("트리맵 creation 오류:", error);
                treemapDiv.append("div")
                    .style("text-align", "center")
                    .style("padding", "20px")
                    .text("트리맵 creation 중 오류가 발생했습니다: " + error.message);
            }
        }

        function drawVerticalTree() {
            console.log('Vertical tree deprecated - using collapsible tree');
            return;

            const container = d3.select("#orgChartContainer");
            if (!container.node()) {
                console.error('Container not found in drawVerticalTree');
                return;
            }
            const containerWidth = container.node().getBoundingClientRect().width;
            console.log('Container width in drawVerticalTree:', containerWidth);
            const width = Math.max(6000, containerWidth); // 더 넓게 설정하여 오버랩 방지
            const height = 3000; // 더 높게 설정하여 충분한 공간 확보
            const margin = { top: 120, right: 200, bottom: 200, left: 200 };

            const svg = d3.select("#orgChartSvg")
                .style("display", "block")  // SVG 다시 표시
                .attr("width", width)
                .attr("height", height);

            // Breadcrumb 업데이트
            updateBreadcrumb("count직 트리 (기본)");

            const g = svg.append("g")
                .attr("transform", `translate(${width / 2},${margin.top})`); // 중앙 정렬

            // data 준비
            let hierarchyData;
            try {
                hierarchyData = prepareHierarchyData();
                console.log('Hierarchy data prepared:', hierarchyData ? hierarchyData.length : 0, 'nodes');
            } catch (error) {
                console.error('Error preparing hierarchy data:', error);
                console.error('Stack trace:', error.stack);
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", height / 2)
                    .attr("text-anchor", "middle")
                    .style("font-size", "16px")
                    .style("fill", "#dc3545")
                    .text("data 준비 중 오류: " + error.message);
                return;
            }

            if (!hierarchyData || hierarchyData.length === 0) {
                console.error('No hierarchy data available');
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", height / 2)
                    .attr("text-anchor", "middle")
                    .style("font-size", "16px")
                    .style("fill", "#dc3545")
                    .text("조직도 data를 불러올 count not found. data를 확인해주세요.");
                return;
            }

            // D3 계층 구조 creation
            try {
                console.log('Creating D3 hierarchy...');
                console.log('Hierarchy data length:', hierarchyData.length);
                if (hierarchyData.length > 0) {
                    console.log('Sample nodes:', hierarchyData.slice(0, 3));
                }

                const stratify = d3.stratify()
                    .id(d => d.id)
                    .parentId(d => d.parentId);

                orgChartRoot = stratify(hierarchyData);
                console.log('Root created with', orgChartRoot.descendants().length, 'descendants');

                // count직 트리 레이아웃 creation - nodeSize use으로 더 유연한 간격
                const treeLayout = d3.tree()
                    .nodeSize([250, 200]) // [count평 간격, count직 간격] - 크게 증가시켜 오버랩 방지
                    .separation((a, b) => {
                        // Inspector 레벨에서는 훨씬 더 넓은 간격
                        const aIsInspector = a.data.position && a.data.position.includes('INSPECTOR');
                        const bIsInspector = b.data.position && b.data.position.includes('INSPECTOR');

                        if (aIsInspector || bIsInspector) {
                            return 3.0; // Inspector는 3배 간격으로 더 넓게
                        }

                        // Line Leader도 더 넓게
                        const aIsLineLeader = a.data.position && a.data.position.includes('LINE LEADER');
                        const bIsLineLeader = b.data.position && b.data.position.includes('LINE LEADER');

                        if (aIsLineLeader || bIsLineLeader) {
                            return 2.5; // Line Leader는 2.5배 간격
                        }

                        // Supervisor 레벨
                        const aIsSupervisor = a.data.position && a.data.position.includes('SUPERVISOR');
                        const bIsSupervisor = b.data.position && b.data.position.includes('SUPERVISOR');

                        if (aIsSupervisor || bIsSupervisor) {
                            return 2.0;
                        }

                        if (a.parent === b.parent) return 1.8; // 같은 부모 노드들도 간격 증가
                        return 2.0; // 기본 간격도 증가
                    });

                treeLayout(orgChartRoot);

                // Inspector 레벨 노드들을 그리드 형태로 재배치
                const inspectorNodes = orgChartRoot.descendants().filter(d =>
                    d.data.position && d.data.position.includes('INSPECTOR')
                );

                if (inspectorNodes.length > 0) {
                    // Inspector들을 부모by로 그룹화
                    const inspectorsByParent = {};
                    inspectorNodes.forEach(node => {
                        const parentId = node.parent ? node.parent.data.id : 'root';
                        if (!inspectorsByParent[parentId]) {
                            inspectorsByParent[parentId] = [];
                        }
                        inspectorsByParent[parentId].push(node);
                    });

                    // 각 그룹 내에서 Inspector들을 여러 줄로 배치
                    Object.keys(inspectorsByParent).forEach(parentId => {
                        const group = inspectorsByParent[parentId];
                        const maxPerRow = 8; // 한 줄에 최대 8employees

                        group.forEach((node, index) => {
                            const row = Math.floor(index / maxPerRow);
                            const col = index % maxPerRow;
                            const groupCenter = group[0].parent ? group[0].parent.x : 0;

                            // count평 위치: 그룹 중앙을 기준으로 배치
                            const totalWidth = Math.min(maxPerRow, group.length) * 100;
                            const startX = groupCenter - totalWidth / 2;
                            node.x = startX + col * 100;

                            // count직 위치: 행에 따라 조정
                            if (row > 0) {
                                node.y = node.y + row * 100;
                            }
                        });
                    });
                }

                // 링크 그리기 - count직 연결선
                const link = g.selectAll(".link")
                    .data(orgChartRoot.links())
                    .enter().append("g")
                    .attr("class", "link");

                // 계단식 연결선 (더 직원확한 계층 표현)
                link.append("path")
                    .attr("fill", "none")
                    .attr("stroke", "#999")
                    .attr("stroke-width", 2)
                    .attr("d", d => {
                        // count직 계단식 경로
                        const sourceX = d.source.x - width / 2 + margin.left;
                        const sourceY = d.source.y;
                        const targetX = d.대상.x - width / 2 + margin.left;
                        const targetY = d.대상.y;
                        const midY = (sourceY + targetY) / 2;

                        return `M ${sourceX} ${sourceY}
                                L ${sourceX} ${midY}
                                L ${targetX} ${midY}
                                L ${targetX} ${targetY}`;
                    });

                // 노드 그룹 creation
                const node = g.selectAll(".node")
                    .data(orgChartRoot.descendants())
                    .enter().append("g")
                    .attr("class", "node")
                    .attr("transform", d => `translate(${d.x - width / 2 + margin.left},${d.y})`)
                    .on("mouseover", showTooltip)
                    .on("mouseout", hideTooltip)
                    .on("click", nodeClick);

                // 노드 박스 그리기 (incentive 여부에 따라 색상 변경)
                node.append("rect")
                    .attr("width", 180)  // 박스 폭 더 크게 (ID 추가를 위해)
                    .attr("height", 90)  // 박스 높이 더 크게
                    .attr("x", -90)
                    .attr("y", -45)
                    .attr("fill", d => {
                        const baseColor = getNodeColor(d.data);
                        // incentive 수령 여부에 따라 색상 조정
                        if (hasIncentive(d.data)) {
                            return baseColor; // 원래 색상 유지
                        } else {
                            return baseColor + "40"; // 40% 투직원도로 희미하게
                        }
                    })
                    .attr("stroke", d => hasIncentive(d.data) ? "#28a745" : "#dc3545")
                    .attr("stroke-width", 3)
                    .attr("rx", 5)
                    .attr("ry", 5)
                    .style("filter", "drop-shadow(2px 2px 4px rgba(0,0,0,0.2))");

                // 직급 텍스트
                node.append("text")
                    .attr("dy", "-22px")  // 상단 위치
                    .attr("text-anchor", "middle")
                    .style("font-size", "11px")
                    .style("font-weight", "bold")
                    .style("fill", "white")
                    .text(d => d.data.position);

                // 이름 텍스트
                node.append("text")
                    .attr("dy", "0px")  // 중간 위치
                    .attr("text-anchor", "middle")
                    .style("font-size", "12px")
                    .style("fill", "white")
                    .style("font-weight", "bold")
                    .text(d => d.data.name);

                // ID 텍스트 추가
                node.append("text")
                    .attr("dy", "22px")  // 하단 위치
                    .attr("text-anchor", "middle")
                    .style("font-size", "10px")
                    .style("fill", "white")
                    .text(d => `ID: ${d.data.id}`);

                // 줌 및 패닝 기능 추가
                currentZoomBehavior = d3.zoom()
                    .scaleExtent([0.1, 3])  // 더 작게 축소 가능
                    .on("zoom", (event) => {
                        g.attr("transform", event.transform);
                    });

                svg.call(currentZoomBehavior);

                // 초기 줌 레벨 설정 (total가 보이도록) - 더 작게
                const initialScale = 0.4;  // 더 작은 초기 줌 (total 조직도가 보이도록)
                svg.call(currentZoomBehavior.transform, d3.zoomIdentity
                    .translate(width / 2, margin.top)
                    .scale(initialScale));

            } catch (error) {
                console.error("조직도 creation 오류:", error);
                console.error("Error details:", error.message);
                console.error("Error stack:", error.stack);
                console.error("Problematic data sample:", hierarchyData ? hierarchyData.slice(0, 5) : 'No data');

                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", height / 2)
                    .attr("text-anchor", "middle")
                    .text("조직도 creation 중 오류가 발생했습니다: " + error.message);
            }
        }

        function prepareHierarchyData() {
            console.log('Preparing organization hierarchy data...');
            console.log('Total 직원:', employeeData.length);

            // 먼저 data가 비어있는지 확인
            if (!employeeData || employeeData.length === 0) {
                console.error('No employee data available!');
                return [];
            }

            // 첫 몇 직원의 직원 data 확인
            console.log('First employee sample:', employeeData[0]);

            // 제외할 포지션 정의
            const excludedPositions = ['MODEL MASTER', 'AUDIT & TRAINING TEAM', 'AQL INSPECTOR'];

            // TYPE-1 직원 중 특정 포지션 제외
            const type1Employees = employeeData.filter(e =>
                e.type === 'TYPE-1' &&
                !excludedPositions.includes(e.position)
            );
            console.log('TYPE-1 직원 (excluding excluded positions):', type1Employees.length);

            // 전략 determination: TYPE-1이 너무 적으면 total 조직도 표시
            let useAllEmployees = false;
            let requiredIds = new Set();

            if (type1Employees.length < 5) {
                console.log('Too few TYPE-1 직원, showing full organization chart');
                useAllEmployees = true;

                // 모든 직원 추가 (제외 포지션 제외)
                employeeData.forEach(emp => {
                    if (!excludedPositions.includes(emp.position)) {
                        requiredIds.add(emp.emp_no);
                    }
                });
            } else {
                // TYPE-1 직원들을 먼저 추가
                type1Employees.forEach(emp => {
                    requiredIds.add(emp.emp_no);
                });

                // 상사 체인을 재귀적으로 추가 (actual 존재하는 직원만)
                const addBossChain = (empId) => {
                    const emp = employeeData.find(e => e.emp_no === empId);
                    if (!emp) return;

                    if (emp.boss_id && emp.boss_id !== '' && emp.boss_id !== 'nan' && emp.boss_id !== '0') {
                        // 상사가 actual로 employeeData에 존재하는지 확인
                        const bossExists = employeeData.some(e => e.emp_no === emp.boss_id);

                        if (bossExists && !requiredIds.has(emp.boss_id)) {
                            requiredIds.add(emp.boss_id);
                            addBossChain(emp.boss_id); // 재귀적으로 상사의 상사 추가
                        } else if (!bossExists) {
                            console.log(`Boss ID ${emp.boss_id} not found in data for employee ${emp.name} (${emp.emp_no})`);
                        }
                    }
                };

                // 모든 TYPE-1 직원의 상사 체인 추가
                type1Employees.forEach(emp => {
                    addBossChain(emp.emp_no);
                });
            }

            console.log('Total required nodes:', requiredIds.size, useAllEmployees ? '(showing all 직원)' : '(TYPE-1 + bosses)');

            // 디버깅: 첫 5개 직원 data 확인
            if (employeeData.length > 0) {
                console.log('Sample employee data:', employeeData.slice(0, 5).map(e => ({
                    name: e.name,
                    position: e.position,
                    boss_id: e.boss_id,
                    boss_name: e.boss_name
                })));
            }

            const data = [];
            const employeeById = {};

            // 직원 ID 맵 creation (빈 data 필터링)
            employeeData.forEach(emp => {
                // nan이거나 빈 emp_no는 제외
                if (emp.emp_no && emp.emp_no !== 'nan' && emp.emp_no !== '') {
                    employeeById[emp.emp_no] = emp;
                }
            });

            // 모든 직원을 노드로 추가 (actual boss_id use)
            let noParentCount = 0;
            let hasParentCount = 0;

            employeeData.forEach(emp => {
                // 빈 data cases너뛰기
                if (!emp.emp_no || emp.emp_no === 'nan' || emp.emp_no === '') {
                    return;
                }

                // 제외할 포지션이면 cases너뛰기
                if (excludedPositions.includes(emp.position)) {
                    console.log(`Excluding ${emp.name} (${emp.position}) from org chart`);
                    return;
                }

                // 필요한 직원이 아니면 cases너뛰기 (TYPE-1이거나 TYPE-1의 상사 체인에 포함)
                if (!requiredIds.has(emp.emp_no)) {
                    return;
                }

                // boss_id가 있으면 use, 없으면 boss_name으로 찾기
                let parentId = null;

                if (emp.boss_id && emp.boss_id !== '' && emp.boss_id !== 'nan' && emp.boss_id !== 'None' && emp.boss_id !== '0') {
                    // boss_id가 직원 목록에 있고 requiredIds에도 포함되어 있는지 확인
                    if (employeeById[emp.boss_id] && requiredIds.has(emp.boss_id)) {
                        parentId = emp.boss_id;
                    } else if (employeeById[emp.boss_id]) {
                        // 상사가 does not exist만 TYPE-1 체인에 포함되지 않음
                        console.log(`Boss ${emp.boss_id} exists but not in TYPE-1 chain for ${emp.name}`);
                    } else {
                        console.log(`Warning: Boss ${emp.boss_id} not found in data for ${emp.name}`);
                        // 상사가 목록에 없으면 parent 없음으로 처리
                    }
                }

                if (!parentId && emp.boss_name && emp.boss_name !== '') {
                    // boss_name으로 boss 찾기
                    const boss = employeeData.find(e => e.name === emp.boss_name);
                    if (boss) {
                        parentId = boss.emp_no;
                    }
                }

                if (parentId) {
                    hasParentCount++;
                } else {
                    noParentCount++;
                }

                data.push({
                    id: emp.emp_no,
                    name: emp.name,
                    position: emp.position || 'Unknown',
                    type: emp.type || '',
                    incentive: emp['september_incentive'] || '0',
                    parentId: parentId
                });
            });

            console.log(`Created ${data.length} nodes: ${hasParentCount} with parent, ${noParentCount} without parent`);

            // 루트 노드 확인
            const rootNodes = data.filter(d => !d.parentId);
            console.log('Root nodes found:', rootNodes.length);

            // 항상 가상 루트 creation (조직도의 start점)
            const rootTitle = requiredIds.size > 100 ? "Hwaseung Organization" : "Hwaseung TYPE-1 Organization";
            const rootSubtitle = requiredIds.size > 100 ? "Full Organization Chart" : "TYPE-1 Management";
            data.unshift({
                id: "root",
                name: rootTitle,
                position: rootSubtitle,
                type: "ROOT",
                incentive: "0",
                parentId: null
            });

            if (rootNodes.length === 0) {
                console.log('No natural root found, connecting managers to virtual root...');
                // Manager 레벨 직원들을 루트에 연결
                const managers = data.filter(d => {
                    if (d.id === "root") return false;
                    const pos = (d.position || '').toUpperCase();
                    return pos.includes('MANAGER') && !pos.includes('A.') && !pos.includes('ASSISTANT');
                });

                if (managers.length === 0) {
                    // Manager가 없으면 A.Manager를 찾음
                    const aManagers = data.filter(d => {
                        if (d.id === "root") return false;
                        const pos = (d.position || '').toUpperCase();
                        return pos.includes('A.MANAGER') || pos.includes('ASSISTANT MANAGER');
                    });

                    aManagers.forEach(manager => {
                        const idx = data.findIndex(d => d.id === manager.id);
                        if (idx !== -1) {
                            data[idx].parentId = "root";
                        }
                    });
                } else {
                    managers.forEach(manager => {
                        const idx = data.findIndex(d => d.id === manager.id);
                        if (idx !== -1) {
                            data[idx].parentId = "root";
                        }
                    });
                }
            } else {
                console.log(`${rootNodes.length} natural root nodes found, connecting to virtual root...`);

                // 루트 노드들을 가상 루트에 연결
                rootNodes.forEach(node => {
                    // Manager 또는 상위 직급만 루트에 directly 연결
                    const pos = (node.position || '').toUpperCase();
                    if (pos.includes('MANAGER') || pos.includes('SUPERVISOR') || rootNodes.length <= 5) {
                        const idx = data.findIndex(d => d.id === node.id);
                        if (idx !== -1) {
                            data[idx].parentId = "root";
                        }
                    }
                    // 그 외는 적절한 상위 직급 찾기
                    else {
                        // 같은 type의 상위 직급 찾기
                        const superiors = data.filter(d => {
                            if (d.id === "root" || d.id === node.id) return false;
                            const dPos = (d.position || '').toUpperCase();
                            return dPos.includes('MANAGER') || dPos.includes('SUPERVISOR');
                        });

                        if (superiors.length > 0) {
                            const idx = data.findIndex(d => d.id === node.id);
                            if (idx !== -1) {
                                data[idx].parentId = superiors[0].id;
                            }
                        } else {
                            // 상위 직급이 없으면 루트에 연결
                            const idx = data.findIndex(d => d.id === node.id);
                            if (idx !== -1) {
                                data[idx].parentId = "root";
                            }
                        }
                    }
                });
            }




            // 필터 apply
            const typeFilterElement = document.getElementById('orgTypeFilter');
            const incentiveFilterElement = document.getElementById('orgIncentiveFilter');

            const typeFilter = typeFilterElement ? typeFilterElement.value : '';
            const incentiveFilter = incentiveFilterElement ? incentiveFilterElement.value : '';

            let filteredData = data;

            if (typeFilter) {
                filteredData = filteredData.filter(d => d.type === typeFilter || d.id === "root");
            }

            if (incentiveFilter === 'paid') {
                filteredData = filteredData.filter(d => parseIncentive(d.incentive) > 0 || d.id === "root");
            } else if (incentiveFilter === 'unpaid') {
                filteredData = filteredData.filter(d => parseIncentive(d.incentive) === 0 || d.id === "root");
            }

            console.log('Hierarchy data prepared:', filteredData.length, 'nodes');
            return filteredData;
        }

        function getNodeColor(node) {
            const position = node.position.toUpperCase();
            if (position.includes('MANAGER')) return '#1f77b4';
            if (position.includes('SUPERVISOR')) return '#2ca02c';
            if (position.includes('GROUP') && position.includes('LEADER')) return '#ff7f0e';
            if (position.includes('LINE') && position.includes('LEADER')) return '#d62728';
            if (position.includes('INSPECTOR')) return '#9467bd';
            return '#8c564b';
        }

        function showTooltip(event, d) {
            const tooltip = d3.select("#orgTooltip");
            const incentive = parseIncentive(d.data.incentive);

            tooltip.html(`
                <strong>${d.data.name}</strong><br/>
                ${getTranslation('orgChart.tooltipLabels.empNo', currentLanguage)}: ${d.data.id}<br/>
                ${getTranslation('orgChart.tooltipLabels.position', currentLanguage)}: ${d.data.position}<br/>
                ${getTranslation('orgChart.tooltipLabels.type', currentLanguage)}: ${d.data.type}<br/>
                ${getTranslation('orgChart.tooltipLabels.incentive', currentLanguage)}: ${incentive.toLocaleString()} VND<br/>
                ${getTranslation('orgChart.tooltipLabels.boss', currentLanguage)}: ${d.data.boss_name || getTranslation('orgChart.tooltipLabels.none', currentLanguage)}
            `);

            tooltip.style("visibility", "visible")
                .style("left", (event.pageX + 10) + "px")
                .style("top", (event.pageY - 10) + "px");
        }

        function hideTooltip() {
            d3.select("#orgTooltip").style("visibility", "hidden");
        }

        function nodeClick(event, d) {
            // 노드 클릭시 corresponding 직원 상세 정보 표시
            const emp = employeeData.find(e => e.emp_no === d.data.id);
            if (emp) {
                showEmployeeDetail(emp);
            }
        }

        function updateOrgChart() {
            drawOrgChart();
        }

        function resetOrgChart() {
            const typeFilterElement = document.getElementById('orgTypeFilter');
            const incentiveFilterElement = document.getElementById('orgIncentiveFilter');

            if (typeFilterElement) typeFilterElement.value = '';
            if (incentiveFilterElement) incentiveFilterElement.value = '';
            drawOrgChart();
        }

        function exportOrgChart() {
            // SVG를 이미지로 저장
            const svg = document.getElementById('orgChartSvg');
            const serializer = new XMLSerializer();
            const svgStr = serializer.serializeToString(svg);
            const svgBlob = new Blob([svgStr], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(svgBlob);

            const a = document.createElement('a');
            a.href = url;
            a.download = `organization_chart_${new Date().toISOString().slice(0,10)}.svg`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        window.onload = function() {
            try {
                // 저장된 언어 설정 복원
                const savedLang = localStorage.getItem('dashboardLanguage') || 'ko';
                currentLanguage = savedLang;
                document.getElementById('languageSelector').value = savedLang;

                // 상단 카드 초기화 - 이미 load된 통계 use
                if (window.dashboardStats) {
                    // ID가 Value로 끝나는 경우와 그렇지 않은 경우 모두 처리
                    const totalElem = document.getElementById('totalEmployees') || document.getElementById('totalEmployeesValue');
                    const paidElem = document.getElementById('paidEmployees') || document.getElementById('paidEmployeesValue');
                    const rateElem = document.getElementById('paymentRate') || document.getElementById('paymentRateValue');
                    const amountElem = document.getElementById('totalAmount') || document.getElementById('totalAmountValue');

                    // 숫자만 표시 (단위는 별도 Unit 엘리먼트에서 처리)
                    if (totalElem) totalElem.textContent = window.dashboardStats.total;
                    if (paidElem) paidElem.textContent = window.dashboardStats.paid;
                    if (rateElem) rateElem.textContent = window.dashboardStats.rate + '%';
                    if (amountElem) amountElem.textContent = window.dashboardStats.amount.toLocaleString() + ' VND';

                    console.log('상단 카드 초기화 completed:', window.dashboardStats);
                }

                generateEmployeeTable();
                generatePositionTables();
                updatePositionFilter();
                updateAllTexts();
                updateTalentPoolSection();

                // Typeby 테이블 업데이트 시도
                if (typeof updateTypeSummaryTable === 'function') {
                    updateTypeSummaryTable();
                } else {
                    console.error('updateTypeSummaryTable 함count가 정의되지 않았습니다.');
                    // 함count가 없으면 directly 실행
                    console.log('Type 테이블 directly 업데이트 start...');
                    if (window.employeeData && window.employeeData.length > 0) {
                        const typeData = {
                            'TYPE-1': { total: 0, paid: 0, totalAmount: 0 },
                            'TYPE-2': { total: 0, paid: 0, totalAmount: 0 },
                            'TYPE-3': { total: 0, paid: 0, totalAmount: 0 }
                        };

                        let grandTotal = 0;
                        let grandPaid = 0;
                        let grandAmount = 0;

                        window.employeeData.forEach(emp => {
                            const type = emp.type || emp['ROLE TYPE STD'] || 'UNKNOWN';
                            if (typeData[type]) {
                                typeData[type].total++;
                                grandTotal++;

                                const amount = parseInt(
                                    emp['september_incentive'] ||
                                    emp['September_Incentive'] ||
                                    emp['Final Incentive amount'] ||
                                    0
                                );

                                if (amount > 0) {
                                    typeData[type].paid++;
                                    typeData[type].totalAmount += amount;
                                    grandPaid++;
                                    grandAmount += amount;
                                }
                            }
                        });

                        const tbody = document.getElementById('typeSummaryBody');
                        if (tbody) {
                            const personUnit = getUnit('people');  // 언어별 단위 가져오기
                            let html = '';

                            ['TYPE-1', 'TYPE-2', 'TYPE-3'].forEach(type => {
                                const data = typeData[type];
                                if (data.total > 0) {
                                    const paymentRate = ((data.paid / data.total) * 100).toFixed(1);
                                    const avgPaid = data.paid > 0 ? Math.round(data.totalAmount / data.paid) : 0;
                                    const avgTotal = Math.round(data.totalAmount / data.total);

                                    html += '<tr>';
                                    html += '<td><span class="badge bg-primary">' + type + '</span></td>';
                                    html += '<td>' + data.total + personUnit + '</td>';
                                    html += '<td>' + data.paid + personUnit + '</td>';
                                    html += '<td>' + paymentRate + '%</td>';
                                    html += '<td>' + data.totalAmount.toLocaleString() + ' VND</td>';
                                    html += '<td>' + avgPaid.toLocaleString() + ' VND</td>';
                                    html += '<td>' + avgTotal.toLocaleString() + ' VND</td>';
                                    html += '</tr>';
                                }
                            });

                            // 합계 행
                            if (grandTotal > 0) {
                                const totalPaymentRate = ((grandPaid / grandTotal) * 100).toFixed(1);
                                const totalAvgPaid = grandPaid > 0 ? Math.round(grandAmount / grandPaid) : 0;
                                const totalAvgTotal = Math.round(grandAmount / grandTotal);

                                html += '<tr class="table-active fw-bold">';
                                html += '<td>Total</td>';
                                html += '<td>' + grandTotal + personUnit + '</td>';
                                html += '<td>' + grandPaid + personUnit + '</td>';
                                html += '<td>' + totalPaymentRate + '%</td>';
                                html += '<td>' + grandAmount.toLocaleString() + ' VND</td>';
                                html += '<td>' + totalAvgPaid.toLocaleString() + ' VND</td>';
                                html += '<td>' + totalAvgTotal.toLocaleString() + ' VND</td>';
                                html += '</tr>';
                            }

                            tbody.innerHTML = html;
                            console.log('Type 테이블 directly 업데이트 completed');
                        }
                    }
                }
            } catch (e) {
                console.error('window.onload 에러:', e);
            }

            // Typeby 테이블 강제 업데이트 함count
            window.forceUpdateTypeSummary = function() {
                console.log('=== Typeby 요약 테이블 강제 업데이트 실행 ===');
                updateTypeSummaryTable();
            };

            // 페이지 load 후 1초 뒤 자동 실행
            setTimeout(function() {
                console.log('Typeby 테이블 자동 업데이트 시도...');
                if (typeof updateTypeSummaryTable === 'function') {
                    updateTypeSummaryTable();
                }
                if (window.forceUpdateTypeSummary) {
                    window.forceUpdateTypeSummary();
                }
            }, 1000);
        };

        // Talent Program 텍스트 업데이트 함count
        function updateTalentProgramTexts() {
            const lang = currentLanguage;
            
            // 메인 제목
            const programTitle = document.getElementById('talentProgramTitle');
            if (programTitle) {
                programTitle.innerHTML = getTranslation('talentProgram.title', lang) || '🌟 QIP Talent Pool incentive 프로그램';
            }
            
            // 소개 텍스트
            const programIntro = document.getElementById('talentProgramIntro');
            if (programIntro) {
                programIntro.innerHTML = `<strong>QIP Talent Pool</strong> ${getTranslation('talentProgram.intro', lang) || 'QIP Talent Pool은 우수한 성과를 보이는 인원들을 대상으로 하는 특별 incentive 프로그램입니다. 선정된 인원은 6개월간 매month 추가 보너스를 받게 됩니다.'}`;
            }
            
            // 선정 기준 제목
            const qualificationTitle = document.getElementById('talentProgramQualificationTitle');
            if (qualificationTitle) {
                qualificationTitle.textContent = getTranslation('talentProgram.qualificationTitle', lang) || '🎯 선정 기준';
            }
            
            // 선정 기준 목록
            const qualifications = document.getElementById('talentProgramQualifications');
            if (qualifications) {
                const items = [
                    lang === 'en' ? 'Outstanding work performance' : 
                    lang === 'vi' ? 'Hiệu suất làm việc xuất sắc' : '업무 성과 우수자',
                    
                    lang === 'en' ? 'Top 10% in quality target achievement' :
                    lang === 'vi' ? 'Top 10% đạt mục tiêu chất lượng' : '품질 목표 달성률 상위 10%',
                    
                    lang === 'en' ? 'Demonstrated teamwork and leadership' :
                    lang === 'vi' ? 'Thể hiện tinh thần đồng đội và lãnh đạo' : '팀워크 및 리더십 발휘',
                    
                    lang === 'en' ? 'Active participation in continuous improvement' :
                    lang === 'vi' ? 'Tham gia tích cực vào hoạt động cải tiến liên tục' : '지속적인 개선 활동 참여'
                ];
                qualifications.innerHTML = items.map(item => `<li>${item}</li>`).join('');
            }
            
            // 혜택 제목
            const benefitsTitle = document.getElementById('talentProgramBenefitsTitle');
            if (benefitsTitle) {
                benefitsTitle.textContent = getTranslation('talentProgram.benefitsTitle', lang) || '💰 혜택';
            }
            
            // 월 보너스 제목
            const monthlyBonusTitle = document.getElementById('talentProgramMonthlyBonusTitle');
            if (monthlyBonusTitle) {
                monthlyBonusTitle.textContent = getTranslation('talentProgram.monthlyBonusTitle', lang) || 'month 특별 보너스';
            }
            
            // total 보너스 제목
            const totalBonusTitle = document.getElementById('talentProgramTotalBonusTitle');
            if (totalBonusTitle) {
                totalBonusTitle.textContent = getTranslation('talentProgram.totalBonusTitle', lang) || 'total 지급 예정액 (6개월)';
            }
            
            // 프로세스 제목
            const processTitle = document.getElementById('talentProgramProcessTitle');
            if (processTitle) {
                processTitle.textContent = getTranslation('talentProgram.processTitle', lang) || '📋 평가 프로세스 (6개월 주기)';
            }
            
            // 6단계 프로세스 업데이트
            const steps = [
                {
                    titleId: 'talentStep1Title',
                    descId: 'talentStep1Desc',
                    titleKo: '후보자 추천',
                    titleEn: 'Candidate Nomination',
                    titleVi: 'Đề cử ứng viên',
                    descKo: '각 부서에서 우수 인원 추천',
                    descEn: 'Departments nominate outstanding 직원',
                    descVi: 'Các phòng ban đề cử nhân viên xuất sắc'
                },
                {
                    titleId: 'talentStep2Title',
                    descId: 'talentStep2Desc',
                    titleKo: '성과 평가',
                    titleEn: 'Performance Evaluation',
                    titleVi: 'Đánh giá hiệu suất',
                    descKo: '최근 3개월간 성과 data 분석',
                    descEn: 'Analysis of last 3 months performance data',
                    descVi: 'Phân tích dữ liệu hiệu suất 3 tháng gần nhất'
                },
                {
                    titleId: 'talentStep3Title',
                    descId: 'talentStep3Desc',
                    titleKo: '위원회 심사',
                    titleEn: 'Committee Review',
                    titleVi: 'Xét duyệt của ủy ban',
                    descKo: 'QIP 운영위원회 final 심사',
                    descEn: 'Final review by QIP committee',
                    descVi: 'Xét duyệt cuối cùng bởi ủy ban QIP'
                },
                {
                    titleId: 'talentStep4Title',
                    descId: 'talentStep4Desc',
                    titleKo: 'final 선정',
                    titleEn: 'Final Selection',
                    titleVi: 'Lựa chọn cuối cùng',
                    descKo: 'Talent Pool 멤버 확정 및 공지',
                    descEn: 'Confirmation and announcement of Talent Pool members',
                    descVi: 'Xác nhận và thông báo thành viên Talent Pool'
                },
                {
                    titleId: 'talentStep5Title',
                    descId: 'talentStep5Desc',
                    titleKo: '보너스 지급',
                    titleEn: 'Bonus Payment',
                    titleVi: 'Thanh toán thưởng',
                    descKo: '매month 정기 incentive와 함께 지급',
                    descEn: 'Paid together with regular monthly incentives',
                    descVi: 'Thanh toán cùng với khen thưởng định kỳ hàng tháng'
                },
                {
                    titleId: 'talentStep6Title',
                    descId: 'talentStep6Desc',
                    titleKo: '재평가',
                    titleEn: 'Re-evaluation',
                    titleVi: 'Đánh giá lại',
                    descKo: '6개월 후 재평가 실시',
                    descEn: 'Re-evaluation after 6 months',
                    descVi: 'Đánh giá lại sau 6 tháng'
                }
            ];
            
            steps.forEach(step => {
                const titleEl = document.getElementById(step.titleId);
                if (titleEl) {
                    titleEl.textContent = lang === 'en' ? step.titleEn : lang === 'vi' ? step.titleVi : step.titleKo;
                }
                const descEl = document.getElementById(step.descId);
                if (descEl) {
                    descEl.textContent = lang === 'en' ? step.descEn : lang === 'vi' ? step.descVi : step.descKo;
                }
            });
            
            // 중요 사항 제목
            const importantTitle = document.getElementById('talentProgramImportantTitle');
            if (importantTitle) {
                importantTitle.textContent = getTranslation('talentProgram.importantTitle', lang) || '⚠️ 중요 사항';
            }
            
            // 중요 사항 목록
            const importantNotes = document.getElementById('talentProgramImportantNotes');
            if (importantNotes) {
                const notes = [
                    lang === 'en' ? 'Talent Pool bonus is paid separately from regular incentives' :
                    lang === 'vi' ? 'Thưởng Talent Pool được thanh toán riêng biệt với khen thưởng thường xuyên' :
                    'Talent Pool 보너스는 기본 incentive와 by도로 지급됩니다',
                    
                    lang === 'en' ? 'Eligibility is automatically lost upon resignation during the 지급 period' :
                    lang === 'vi' ? 'Tư cách sẽ tự động mất khi nghỉ việc trong thời gian thanh toán' :
                    '지급 기간 중 퇴사 시 자격이 자동 상실됩니다',
                    
                    lang === 'en' ? 'May be terminated early if performance is insufficient' :
                    lang === 'vi' ? 'Có thể kết thúc sớm nếu hiệu suất không đủ' :
                    '성과 미달 시 조기 end될 count 있습니다',
                    
                    lang === 'en' ? 'Renewal is determined through re-evaluation every 6 months' :
                    lang === 'vi' ? 'Việc gia hạn được quyết định thông qua đánh giá lại mỗi 6 tháng' :
                    '매 6개월마다 재평가를 통해 갱신 여부가 determination됩니다'
                ];
                importantNotes.innerHTML = notes.map(note => `<li>${note}</li>`).join('');
            }
            
            // 현재 멤버 제목
            const currentTitle = document.getElementById('talentProgramCurrentTitle');
            if (currentTitle) {
                currentTitle.textContent = getTranslation('talentProgram.currentTitle', lang) || '🎉 현재 Talent Pool 멤버';
            }
            
            // 멤버가 없을 때 메시지 업데이트
            const currentMembersDiv = document.getElementById('talentProgramCurrentMembers');
            if (currentMembersDiv && currentMembersDiv.innerHTML.includes('현재 Talent Pool 멤버가 not found')) {
                currentMembersDiv.innerHTML = `<p>${getTranslation('talentProgram.noMembers', lang) || '현재 Talent Pool 멤버가 not found.'}</p>`;
            }
        }
        
        // Talent Pool 섹션 업데이트
        function updateTalentPoolSection() {
            const talentPoolMembers = employeeData.filter(emp => emp.Talent_Pool_Member === 'Y' || emp.Talent_Pool_Member === true);
            
            if (talentPoolMembers.length > 0) {
                // Talent Pool 섹션 표시
                document.getElementById('talentPoolSection').style.display = 'block';
                
                // 통계 업데이트
                const totalBonus = talentPoolMembers.reduce((sum, emp) => sum + parseInt(emp.Talent_Pool_Bonus || 0), 0);
                const monthlyBonus = talentPoolMembers[0]?.Talent_Pool_Bonus || 0; // 첫 번째 멤버의 월 보너스
                
                document.getElementById('talentPoolCount').textContent = talentPoolMembers.length + '직원';
                document.getElementById('talentPoolMonthlyBonus').textContent = parseInt(monthlyBonus).toLocaleString() + ' VND';
                document.getElementById('talentPoolTotalBonus').textContent = totalBonus.toLocaleString() + ' VND';
                document.getElementById('talentPoolPeriod').textContent = '2025.07 - 2025.12';
                
                // 멤버 목록 creation
                const membersLabel = currentLanguage === 'ko' ? 'Talent Pool 멤버:' :
                    currentLanguage === 'en' ? 'Talent Pool Members:' : 'Thành viên Talent Pool:';
                let membersHtml = `<div class="mt-2"><small style="opacity: 0.9;">${membersLabel}</small><br>`;
                talentPoolMembers.forEach(emp => {
                    membersHtml += `
                        <span class="badge" style="background: rgba(255,255,255,0.3); margin: 2px; padding: 5px 10px;">
                            ${emp.name} (${emp.emp_no}) - ${emp.position}
                        </span>
                    `;
                });
                membersHtml += '</div>';
                document.getElementById('talentPoolMembers').innerHTML = membersHtml;
                
                // incentive 기준 탭의 Talent Program 현재 멤버 섹션도 업데이트
                const currentMembersDiv = document.getElementById('talentProgramCurrentMembers');
                if (currentMembersDiv) {
                    let currentMembersHtml = '';
                    talentPoolMembers.forEach(emp => {
                        currentMembersHtml += `
                            <div class="badge" style="background: rgba(255,255,255,0.3); font-size: 1.1em; margin: 5px; padding: 8px 15px;">
                                <i class="fas fa-star"></i> ${emp.name} (${emp.emp_no}) - ${emp.position}
                            </div>
                        `;
                    });
                    if (currentMembersHtml === '') {
                        currentMembersHtml = '<p>현재 Talent Pool 멤버가 not found.</p>';
                    }
                    currentMembersDiv.innerHTML = currentMembersHtml;
                }
            } else {
                // Talent Pool 멤버가 없는 경우
                const currentMembersDiv = document.getElementById('talentProgramCurrentMembers');
                if (currentMembersDiv) {
                    currentMembersDiv.innerHTML = '<p>현재 Talent Pool 멤버가 not found.</p>';
                }
            }
        }
        
        // 탭 전환
        function showTab(tabName) {
            // 모든 탭과 컨텐츠 숨기기
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // 선택된 탭과 컨텐츠 표시
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');

            // 요약 탭이면 TYPE 테이블 생성
            if (tabName === 'summary') {
                console.log('Summary tab selected');
                if (typeof generateTypeTable === 'function') {
                    generateTypeTable();
                } else {
                    console.log('generateTypeTable function not found');
                }
            }

            // 조직도 탭이면 조직도 그리기
            if (tabName === 'orgchart') {
                console.log('Organization chart tab selected');
                setTimeout(() => {
                    console.log('Calling drawOrgChart from showTab...');
                    drawOrgChart();
                }, 100);
            }

            // 검증 탭이면 KPI 카드 초기화
            if (tabName === 'validation') {
                console.log('Validation tab selected');
                setTimeout(() => {
                    initValidationTab();
                }, 100);
            }

            // Position Details 탭이면 테이블 creation
            if (tabName === 'position') {
                console.log('Position tab selected');
                setTimeout(() => {
                    console.log('Calling generatePositionTables...');
                    generatePositionTables();
                }, 100);
            }

            // Individual Details 탭이면 테이블 creation
            if (tabName === 'detail') {
                console.log('Individual Details tab selected');
                setTimeout(() => {
                    console.log('Calling generateEmployeeTable...');
                    generateEmployeeTable();
                }, 100);
            }
        }
        
        // 직원 테이블 creation
        function generateEmployeeTable() {
            const tbody = document.getElementById('employeeTableBody');
            tbody.innerHTML = '';

            employeeData.forEach(emp => {
                // CRITICAL FIX: 필드직원 통th - Employee No와 emp_no 모두 지원
                const empNo = emp.emp_no || emp['Employee No'] || emp['emp_no'];
                const empName = emp.name || emp['Full Name'];
                const empPosition = emp.position || emp['QIP POSITION 1ST NAME'];
                const empType = emp.type || emp['ROLE TYPE STD'] || 'TYPE-2';

                const amount = parseInt(emp['september_incentive'] || emp.september_incentive || 0);
                const isPaid = amount > 0;
                const tr = document.createElement('tr');
                tr.style.cursor = 'pointer';

                // CRITICAL FIX: empNo를 string로 전달
                tr.onclick = () => showEmployeeDetail(String(empNo));

                // Talent Pool 멤버인 경우 특별 스타th apply
                if (emp.Talent_Pool_Member === 'Y') {
                    tr.className = 'talent-pool-row';
                }

                // Talent Pool 정보 HTML creation
                let talentPoolHTML = '-';
                if (emp.Talent_Pool_Member === 'Y') {
                    talentPoolHTML = `
                        <div class="talent-pool-tooltip">
                            <span class="talent-pool-star">🌟</span>
                            <strong>${parseInt(emp.Talent_Pool_Bonus || 0).toLocaleString()} VND</strong>
                            <span class="tooltiptext">
                                <strong>${getTranslation('talentPool.special', currentLanguage) || 'QIP Talent Pool'}</strong><br>
                                ${getTranslation('talentPool.monthlyBonus', currentLanguage) || 'month 특별 보너스'}: ${parseInt(emp.Talent_Pool_Bonus || 0).toLocaleString()} VND<br>
                                ${getTranslation('talentPool.period', currentLanguage) || '지급 기간'}: 2025.07 - 2025.12
                            </span>
                        </div>
                    `;
                }

                tr.innerHTML = `
                    <td>${empNo}</td>
                    <td>${empName}${emp.Talent_Pool_Member === 'Y' ? '<span class="talent-pool-badge">TALENT</span>' : ''}</td>
                    <td>${empPosition}</td>
                    <td><span class="type-badge type-${empType.toLowerCase().replace('type-', '')}">${empType}</span></td>
                    <td>${parseInt(emp['august_incentive'] || emp.previous_incentive || emp.august_incentive || 0).toLocaleString()}</td>
                    <td><strong>${amount.toLocaleString()}</strong></td>
                    <td>${talentPoolHTML}</td>
                    <td>${isPaid ? '✅ ' + getTranslation('status.paid') : '❌ ' + getTranslation('status.unpaid')}</td>
                    <td><button class="btn btn-sm btn-primary" onclick="event.stopPropagation(); showEmployeeDetail('${empNo}')">${getTranslation('individual.table.detailButton')}</button></td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // 직급별 테이블 creation (dashboard_version4.html과 동th한 UI)
        function generatePositionTables() {
            window.positionData = {}; // 전역 변count를 window 객체로 직원시적 접근
            
            // Type-직급별 data 집계
            employeeData.forEach(emp => {
                const key = `${emp.type}_${emp.position}`;
                if (!window.positionData[key]) {
                    window.positionData[key] = {
                        type: emp.type,
                        position: emp.position,
                        total: 0,
                        paid: 0,
                        totalAmount: 0,
                        직원: []
                    };
                }
                
                window.positionData[key].total++;
                window.positionData[key].직원.push(emp);
                const amount = parseInt(emp['september_incentive']) || 0;
                if (amount > 0) {
                    window.positionData[key].paid++;
                    window.positionData[key].totalAmount += amount;
                }
            });
            
            // Typeby로 그룹핑
            const groupedByType = {};
            Object.values(window.positionData).forEach(data => {
                if (!groupedByType[data.type]) {
                    groupedByType[data.type] = [];
                }
                groupedByType[data.type].push(data);
            });
            
            // HTML creation
            const container = document.getElementById('positionTables');
            if (container) {
                container.innerHTML = '';
                
                // Typeby로 섹션 creation
                Object.entries(groupedByType).sort().forEach(([type, positions]) => {
                    const typeClass = type.toLowerCase().replace('type-', '');
                    
                    // 섹션 제목 번역
                    const sectionTitle = type === 'TYPE-1' ? getTranslation('position.sectionTitles.type1', currentLanguage) :
                                       type === 'TYPE-2' ? getTranslation('position.sectionTitles.type2', currentLanguage) :
                                       type === 'TYPE-3' ? getTranslation('position.sectionTitles.type3', currentLanguage) : 
                                       `${type} 직급별 현황`;
                    
                    // 칼럼 헤더 번역 먼저 준비
                    const colPosition = getTranslation('position.positionTable.columns.position', currentLanguage);
                    const colTotal = getTranslation('position.positionTable.columns.total', currentLanguage);
                    const colPaid = getTranslation('position.positionTable.columns.paid', currentLanguage);
                    const colPaymentRate = getTranslation('position.positionTable.columns.paymentRate', currentLanguage);
                    const colTotalAmount = getTranslation('position.positionTable.columns.totalAmount', currentLanguage);
                    const colAvgAmount = getTranslation('position.positionTable.columns.avgAmount', currentLanguage);
                    const colDetails = getTranslation('position.positionTable.columns.details', currentLanguage);
                    
                    let html = '';
                    html += '<div class="mb-5">';
                    html += '<h4 class="mb-3">';
                    html += '<span class="type-badge type-' + typeClass + '">' + type + '</span> ';
                    html += sectionTitle.replace(type + ' ', '');
                    html += '</h4>';
                    html += '<table class="table table-hover">';
                    html += '<thead>';
                    html += '<tr>';
                    html += '<th>' + colPosition + '</th>';
                    html += '<th>' + colTotal + '</th>';
                    html += '<th>' + colPaid + '</th>';
                    html += '<th>' + colPaymentRate + '</th>';
                    html += '<th>' + colTotalAmount + '</th>';
                    html += '<th>' + colAvgAmount + '</th>';
                    html += '<th>' + colDetails + '</th>';
                    html += '</tr>';
                    html += '</thead>';
                    html += '<tbody>';
                    
                    // 직급별 행 추가
                    positions.sort((a, b) => a.position.localeCompare(b.position)).forEach(posData => {
                        const paymentRate = posData.total > 0 ? (posData.paid / posData.total * 100).toFixed(1) : '0.0';
                        const avgAmount = posData.paid > 0 ? Math.round(posData.totalAmount / posData.paid) : 0;
                        const peopleUnit = getTranslation('common.people', currentLanguage);
                        const viewBtnText = getTranslation('position.viewButton', currentLanguage);
                        
                        html += '<tr>';
                        html += '<td>' + posData.position + '</td>';
                        html += '<td>' + posData.total + ' ' + peopleUnit + '</td>';
                        html += '<td>' + posData.paid + ' ' + peopleUnit + '</td>';
                        html += '<td>' + paymentRate + '%</td>';
                        html += '<td>' + posData.totalAmount.toLocaleString() + ' VND</td>';
                        html += '<td>' + avgAmount.toLocaleString() + ' VND</td>';
                        html += '<td>';
                        html += '<button class="btn btn-sm btn-outline-primary" ';
                        html += 'onclick="showPositionDetail(\'' + type + '\', \'' + posData.position + '\')">';
                        html += viewBtnText;
                        html += '</button>';
                        html += '</td>';
                        html += '</tr>';
                    });
                    
                    // Typeby 소계
                    const typeTotal = positions.reduce((acc, p) => acc + p.total, 0);
                    const typePaid = positions.reduce((acc, p) => acc + p.paid, 0);
                    const typeAmount = positions.reduce((acc, p) => acc + p.totalAmount, 0);
                    const typeRate = typeTotal > 0 ? (typePaid / typeTotal * 100).toFixed(1) : '0.0';
                    const typeAvg = typePaid > 0 ? Math.round(typeAmount / typePaid) : 0;
                    
                    // 푸터 텍스트 준비
                    const footerTitle = type === 'TYPE-1' ? getTranslation('position.sectionTitles.type1Total', currentLanguage) :
                                      type === 'TYPE-2' ? getTranslation('position.sectionTitles.type2Total', currentLanguage) :
                                      type === 'TYPE-3' ? getTranslation('position.sectionTitles.type3Total', currentLanguage) :
                                      type + ' 합계';
                    const peopleUnit2 = getTranslation('common.people', currentLanguage);
                    
                    html += '</tbody>';
                    html += '<tfoot>';
                    html += '<tr style="font-weight: bold; background-color: #f8f9fa;">';
                    html += '<td>' + footerTitle + '</td>';
                    html += '<td>' + typeTotal + ' ' + peopleUnit2 + '</td>';
                    html += '<td>' + typePaid + ' ' + peopleUnit2 + '</td>';
                    html += '<td>' + typeRate + '%</td>';
                    html += '<td>' + typeAmount.toLocaleString() + ' VND</td>';
                    html += '<td>' + typeAvg.toLocaleString() + ' VND</td>';
                    html += '<td></td>';
                    html += '</tr>';
                    html += '</tfoot>';
                    html += '</table>';
                    html += '</div>';
                    
                    const div = document.createElement('div');
                    div.innerHTML = html;
                    container.appendChild(div);
                });
            }
        }

        // Position 테이블 업데이트 함count (필터링 등에서 use)
        function updatePositionTable() {
            // Position Details 탭이 활성화되어 있을 때만 업데이트
            const positionTab = document.getElementById('position');
            if (positionTab && positionTab.classList.contains('active')) {
                console.log('Updating position table...');
                generatePositionTables();
            }
        }

        // 직급별 상세 팝업 - 완전 새로운 UI
        function showPositionDetail(type, position) {
            const 직원 = employeeData.filter(e => e['ROLE TYPE STD'] === type && e['position'] === position);
            if (직원.length === 0) return;

            const modal = document.getElementById('positionModal');
            const modalBody = document.getElementById('positionModalBody');
            const modalTitle = document.getElementById('positionModalLabel');

            modalTitle.innerHTML = `${type} - ${position} ` + getTranslation('modal.modalTitle', currentLanguage);
            
            // 요약 통계 calculation
            const totalEmployees = 직원.length;
            const paidEmployees = 직원.filter(e => parseInt(e['september_incentive']) > 0).length;
            const avgIncentive = Math.round(직원.reduce((sum, e) => sum + parseInt(e['september_incentive']), 0) / totalEmployees);
            const paidRate = Math.round(paidEmployees/totalEmployees*100);
            
            // 조건 ID를 번역 키로 매핑
            const conditionTranslationMap = {
                '1': 'modal.tenConditions.1',
                '2': 'modal.tenConditions.2',
                '3': 'modal.tenConditions.3',
                '4': 'modal.tenConditions.4',
                '5': 'modal.tenConditions.5',
                '6': 'modal.tenConditions.6',
                '7': 'modal.tenConditions.7',
                '8': 'modal.tenConditions.8',
                '9': 'modal.tenConditions.9',
                '10': 'modal.tenConditions.10'
            };
            
            // actual incentive 기준으로 통계 calculation (방안 2 apply)
            const actualPassCount = 직원.filter(emp => parseInt(emp['september_incentive']) > 0).length;
            const actualFailCount = 직원.filter(emp => parseInt(emp['september_incentive']) === 0).length;

            // 각 직원의 조건 충족 통계 calculation (참고용 유지)
            // corresponding 직급에 actual로 apply되는 조건만 표시 (모든 직원이 N/A인 조건 제외)
            const conditionStats = {};
            if (직원[0] && 직원[0].condition_results) {
                // 첫 번째 직원의 조건 중 N/A가 아닌 것만 초기화
                직원[0].condition_results.forEach(cond => {
                    // 모든 직원에게 N/A인 조건은 cases너뛰기
                    const allNA = 직원.every(e => {
                        const empCond = e.condition_results?.find(c => c.id === cond.id);
                        return empCond && (empCond.is_na || empCond.actual === 'N/A');
                    });

                    if (allNA) return;  // 모든 직원이 N/A면 조건 제외

                    const translationKey = conditionTranslationMap[cond.id] || null;
                    const translatedName = translationKey ? getTranslation(translationKey, currentLanguage) : cond.name;
                    conditionStats[cond.id] = {
                        name: translatedName,
                        met: 0,
                        total: 0,
                        na_count: 0
                    };
                });

                직원.forEach(emp => {
                    if (emp.condition_results) {
                        emp.condition_results.forEach(cond => {
                            if (conditionStats[cond.id]) {
                                if (cond.is_na || cond.actual === 'N/A') {
                                    conditionStats[cond.id].na_count++;
                                } else {
                                    conditionStats[cond.id].total++;
                                    if (cond.is_met) {
                                        conditionStats[cond.id].met++;
                                    }
                                }
                            }
                        });
                    }
                });
            }
            
            // incentive 통계 calculation
            const incentiveAmounts = 직원.map(emp => parseInt(emp['september_incentive'])).filter(amt => amt > 0);
            const maxIncentive = incentiveAmounts.length > 0 ? Math.max(...incentiveAmounts) : 0;
            const minIncentive = incentiveAmounts.length > 0 ? Math.min(...incentiveAmounts) : 0;
            const medianIncentive = incentiveAmounts.length > 0 ?
                incentiveAmounts.sort((a, b) => a - b)[Math.floor(incentiveAmounts.length / 2)] : 0;

            modalContent = `
                <div style="display: grid; grid-template-columns: 1fr; gap: 20px; padding: 20px;">
                    <!-- incentive 통계 (1행 4열 배치) -->
                    <div>
                        <h6 style="color: #666; margin-bottom: 15px;">📊 ${getTranslation('modal.incentiveStats', currentLanguage)}</h6>
                        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px;">
                                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                                    <div style="color: #666; font-size: 0.85rem;">${getTranslation('modal.totalPersonnel', currentLanguage)}</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #333;">${totalEmployees}${getTranslation('common.people', currentLanguage)}</div>
                                </div>
                                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                                    <div style="color: #666; font-size: 0.85rem;">${getTranslation('modal.paidPersonnel', currentLanguage)}</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #28a745;">${paidEmployees}${getTranslation('common.people', currentLanguage)}</div>
                                </div>
                                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                                    <div style="color: #666; font-size: 0.85rem;">${getTranslation('modal.unpaidPersonnel', currentLanguage)}</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #dc3545;">${totalEmployees - paidEmployees}${getTranslation('common.people', currentLanguage)}</div>
                                </div>
                                <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                                    <div style="color: #666; font-size: 0.85rem;">${getTranslation('modal.paymentRate', currentLanguage)}</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #007bff;">${paidRate}%</div>
                                </div>
                            </div>
                            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #dee2e6;">
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 10px;">
                                    <div>
                                        <div style="color: #666; font-size: 0.8rem;">${getTranslation('modal.avgIncentive', currentLanguage)}</div>
                                        <div style="font-weight: bold;">${avgIncentive.toLocaleString()} VND</div>
                                    </div>
                                    <div>
                                        <div style="color: #666; font-size: 0.8rem;">${getTranslation('modal.maxIncentive', currentLanguage)}</div>
                                        <div style="font-weight: bold;">${maxIncentive.toLocaleString()} VND</div>
                                    </div>
                                    <div>
                                        <div style="color: #666; font-size: 0.8rem;">${getTranslation('modal.minIncentive', currentLanguage)}</div>
                                        <div style="font-weight: bold;">${minIncentive.toLocaleString()} VND</div>
                                    </div>
                                    <div>
                                        <div style="color: #666; font-size: 0.8rem;">${getTranslation('modal.median', currentLanguage)}</div>
                                        <div style="font-weight: bold;">${medianIncentive.toLocaleString()} VND</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- incentive 수령 상세 및 조건by 통계 -->
                    <div style="margin-bottom: 20px;">
                        <h6 style="color: #666; margin-bottom: 10px;">📋 ${getTranslation('modal.incentiveReceiptStatus.title', currentLanguage)}</h6>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div style="padding: 10px; background: #d4edda; border-radius: 5px; border-left: 4px solid #28a745;">
                                    <div style="color: #155724; font-size: 0.85rem;">${getTranslation('modal.incentiveReceiptStatus.received', currentLanguage)}</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #155724;">${actualPassCount}${getTranslation('common.people', currentLanguage)}</div>
                                </div>
                                <div style="padding: 10px; background: #f8d7da; border-radius: 5px; border-left: 4px solid #dc3545;">
                                    <div style="color: #721c24; font-size: 0.85rem;">${getTranslation('modal.incentiveReceiptStatus.notReceived', currentLanguage)}</div>
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #721c24;">${actualFailCount}${getTranslation('common.people', currentLanguage)}</div>
                                </div>
                            </div>
                        </div>
                        <h6 style="color: #666; margin-bottom: 10px;">📊 ${getTranslation('modal.incentiveReceiptStatus.conditionsByReference', currentLanguage)}</h6>
                        <div style="overflow-x: auto;">
                            <table class="table table-sm" style="font-size: 0.9rem;">
                                <thead style="background: #f8f9fa;">
                                    <tr>
                                        <th width="5%">#</th>
                                        <th width="35%">${getTranslation('modal.condition', currentLanguage)}</th>
                                        <th width="15%">${getTranslation('modal.evaluationTarget', currentLanguage)}</th>
                                        <th width="12%">${getTranslation('modal.fulfilled', currentLanguage)}</th>
                                        <th width="12%">${getTranslation('modal.notFulfilled', currentLanguage)}</th>
                                        <th width="11%" style="background: #f0f0f0;">N/A</th>
                                        <th width="15%">${getTranslation('modal.fulfillmentRate', currentLanguage)}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${Object.entries(conditionStats).map(([id, stat], index) => {
                                        const isNA = stat.na_count > 0 && stat.total === 0;  // 모든 직원이 N/A인 경우
                                        const rate = stat.total > 0 ? Math.round((stat.met / stat.total) * 100) : 0;
                                        const unmet = stat.total - stat.met;
                                        const evaluatedCount = stat.total;  // N/A가 아닌 평가 eligible count
                                        
                                        return `
                                        <tr>
                                            <td style="color: ${isNA ? '#999' : '#000'};">${index + 1}</td>
                                            <td style="color: ${isNA ? '#999' : '#000'};">${stat.name}</td>
                                            <td>${isNA ? `<span style="color: #999;">N/A</span>` : `${evaluatedCount}${getTranslation('common.people', currentLanguage)}`}</td>
                                            <td style="color: ${isNA ? '#999' : '#28a745'}; font-weight: bold;">
                                                ${isNA ? 'N/A' : `${stat.met}${getTranslation('common.people', currentLanguage)}`}
                                            </td>
                                            <td style="color: ${isNA ? '#999' : '#dc3545'};">
                                                ${isNA ? 'N/A' : `${unmet}${getTranslation('common.people', currentLanguage)}`}
                                            </td>
                                            <td style="background: #f8f8f8; color: #999;">
                                                ${stat.na_count > 0 ? `${stat.na_count}${getTranslation('common.people', currentLanguage)}` : '-'}
                                            </td>
                                            <td>
                                                ${isNA ? `<span style="color: #999;">N/A</span>` : `
                                                <div style="display: flex; align-items: center; gap: 5px;">
                                                    <div style="background: #e9ecef; height: 8px; width: 60px; border-radius: 4px; overflow: hidden;">
                                                        <div style="background: #28a745; height: 100%; width: ${rate}%;"></div>
                                                    </div>
                                                    <span style="font-weight: bold;">${rate}%</span>
                                                </div>
                                                `}
                                            </td>
                                        </tr>
                                        `;
                                    }).join('')}
                                </tbody>
                            </table>
                        </div>

                        <!-- TYPE-1 연속 개월 수 규칙 설명 -->
                        ${type === 'TYPE-1' ? `
                        <div class="alert alert-info mt-3" style="border-left: 4px solid #17a2b8; background: #e7f5f7;">
                            <h6 style="margin-bottom: 10px;"><i class="fas fa-info-circle"></i> <strong>${getTranslation('modal.type1ContinuousMonthsRule.title', currentLanguage)}</strong></h6>
                            <ul class="mb-0" style="font-size: 0.9rem; line-height: 1.6;">
                                <li>${getTranslation('modal.type1ContinuousMonthsRule.allConditionsMet', currentLanguage)}</li>
                                <li>${getTranslation('modal.type1ContinuousMonthsRule.anyConditionFailed', currentLanguage)}</li>
                                <li>${getTranslation('modal.type1ContinuousMonthsRule.zeroMonthsResult', currentLanguage)}</li>
                                <li>${getTranslation('modal.type1ContinuousMonthsRule.example', currentLanguage)}</li>
                            </ul>
                        </div>
                        ` : ''}
                    </div>

                    <!-- 직원by 상세 현황 -->
                    <div>
                        <h6 style="color: #666; margin-bottom: 10px;">${getTranslation('modal.employeeDetails', currentLanguage)}</h6>
                        <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                            <button class="btn btn-sm btn-outline-primary" onclick="filterPositionTable('all')">${getTranslation('modal.all', currentLanguage)}</button>
                            <button class="btn btn-sm btn-outline-success" onclick="filterPositionTable('paid')">${getTranslation('modal.paidOnly', currentLanguage)}</button>
                            <button class="btn btn-sm btn-outline-danger" onclick="filterPositionTable('unpaid')">${getTranslation('modal.unpaidOnly', currentLanguage)}</button>
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="table table-sm" id="positionEmployeeTable" style="font-size: 0.9rem;">
                                <thead style="background: #f8f9fa;">
                                    <tr>
                                        <th>${getTranslation('modal.tableHeaders.employeeNo', currentLanguage)}</th>
                                        <th>${getTranslation('modal.tableHeaders.name', currentLanguage)}</th>
                                        <th>${getTranslation('modal.tableHeaders.incentive', currentLanguage)}</th>
                                        <th>${getTranslation('modal.tableHeaders.status', currentLanguage)}</th>
                                        <th>${getTranslation('modal.tableHeaders.conditionFulfillment', currentLanguage)}</th>
                                    </tr>
                                </thead>
                                <tbody>
            `;
            
            직원.forEach(emp => {
                const amount = parseInt(emp['september_incentive']);
                const isPaid = amount > 0;
                modalContent += `
                    <tr class="employee-row ${isPaid ? 'paid-row' : 'unpaid-row'}" data-emp-no="${emp.emp_no}" style="cursor: pointer;">
                        <td>${emp.emp_no}</td>
                        <td>${emp.name}</td>
                        <td><strong style="color: ${isPaid ? '#28a745' : '#dc3545'};">${amount.toLocaleString()} VND</strong></td>
                        <td>
                            <span class="badge ${isPaid ? 'bg-success' : 'bg-danger'}">
                                ${isPaid ? getTranslation('modal.paymentStatus.paid', currentLanguage) : getTranslation('modal.paymentStatus.unpaid', currentLanguage)}
                            </span>
                        </td>
                        <td>
                            <div style="display: flex; gap: 5px; flex-wrap: wrap;">
                                ${(() => {
                                    if (!emp.condition_results || emp.condition_results.length === 0) return '';

                                    // 카테고리별로 조건 그룹화 (id 기준으로 필터링)
                                    const attendance = emp.condition_results.filter(c => c.id >= 1 && c.id <= 4); // 조건 1-4: 출근
                                    const aql = emp.condition_results.filter(c => c.id >= 5 && c.id <= 8); // 조건 5-8: AQL
                                    const prs = emp.condition_results.filter(c => c.id >= 9 && c.id <= 10); // 조건 9-10: 5PRS

                                    let badges = [];

                                    // 출근 카테고리 평가 (실제 조건 결과 기반)
                                    if (attendance.length > 0) {
                                        const applicableAttendance = attendance.filter(c => !c.is_na && c.actual !== 'N/A');
                                        const attendanceNA = attendance.every(c => c.is_na || c.actual === 'N/A');

                                        if (attendanceNA) {
                                            badges.push('<span class="badge" style="background-color: #999;">' + getTranslation('modal.conditionCategories.attendance', currentLanguage) + ': N/A</span>');
                                        } else {
                                            const attendanceMet = applicableAttendance.length > 0 && applicableAttendance.every(c => c.is_met);
                                            if (attendanceMet) {
                                                badges.push('<span class="badge bg-success">' + getTranslation('modal.conditionCategories.attendance', currentLanguage) + ' ✓</span>');
                                            } else {
                                                badges.push('<span class="badge bg-danger">' + getTranslation('modal.conditionCategories.attendance', currentLanguage) + ' ✗</span>');
                                            }
                                        }
                                    }

                                    // AQL 카테고리 평가 (실제 조건 결과 기반)
                                    if (aql.length > 0) {
                                        const applicableAql = aql.filter(c => !c.is_na && c.actual !== 'N/A');
                                        const aqlNA = aql.every(c => c.is_na || c.actual === 'N/A');

                                        if (aqlNA) {
                                            badges.push('<span class="badge" style="background-color: #999;">' + getTranslation('modal.conditionCategories.aql', currentLanguage) + ': N/A</span>');
                                        } else {
                                            const aqlMet = applicableAql.length > 0 && applicableAql.every(c => c.is_met);
                                            if (aqlMet) {
                                                badges.push('<span class="badge bg-success">' + getTranslation('modal.conditionCategories.aql', currentLanguage) + ' ✓</span>');
                                            } else {
                                                badges.push('<span class="badge bg-danger">' + getTranslation('modal.conditionCategories.aql', currentLanguage) + ' ✗</span>');
                                            }
                                        }
                                    }

                                    // 5PRS 카테고리 평가 (실제 조건 결과 기반)
                                    if (prs.length > 0) {
                                        const applicablePrs = prs.filter(c => !c.is_na && c.actual !== 'N/A');
                                        const prsNA = prs.every(c => c.is_na || c.actual === 'N/A');

                                        if (prsNA) {
                                            badges.push('<span class="badge" style="background-color: #999;">' + getTranslation('modal.conditionCategories.prs', currentLanguage) + ': N/A</span>');
                                        } else {
                                            const prsMet = applicablePrs.length > 0 && applicablePrs.every(c => c.is_met);
                                            if (prsMet) {
                                                badges.push('<span class="badge bg-success">' + getTranslation('modal.conditionCategories.prs', currentLanguage) + ' ✓</span>');
                                            } else {
                                                badges.push('<span class="badge bg-danger">' + getTranslation('modal.conditionCategories.prs', currentLanguage) + ' ✗</span>');
                                            }
                                        }
                                    }

                                    return badges.join('');
                                })()
                                }
                            </div>
                        </td>
                    </tr>
                `;
            });
            
            modalContent += `
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;

            modalBody.innerHTML = modalContent;

            // existing backdrop 제거
            const existingBackdrop = document.querySelector('.modal-backdrop');
            if (existingBackdrop) {
                existingBackdrop.remove();
            }

            // Bootstrap 5 modal 표시 - 더 안전한 방법
            try {
                // existing 모달 인스턴스가 있으면 먼저 처리
                const existingModal = bootstrap.Modal.getInstance(modal);
                if (existingModal) {
                    existingModal.dispose();
                }

                // 새 모달 인스턴스 creation 및 표시
                const bootstrapModal = new bootstrap.Modal(modal, {
                    backdrop: true,
                    keyboard: true,
                    focus: true
                });
                bootstrapModal.show();
            } catch (e) {
                console.error('Bootstrap modal error:', e);
                // Fallback: count동으로 모달 표시
                modal.classList.add('show');
                modal.style.display = 'block';
                modal.setAttribute('aria-modal', 'true');
                modal.setAttribute('role', 'dialog');
                document.body.classList.add('modal-open');

                // count동으로 backdrop 추가
                const backdrop = document.createElement('div');
                backdrop.className = 'modal-backdrop fade show';
                document.body.appendChild(backdrop);
            }

            // 모달 스크롤 초기화 (맨 위로)
            modalBody.scrollTop = 0;
            const modalContentElement = document.querySelector('.modal-content');
            if (modalContentElement) modalContentElement.scrollTop = 0;
            
            // Event delegation을 use하여 직원 행 클릭 이벤트 처리
            setTimeout(() => {
                const table = document.getElementById('positionEmployeeTable');
                if (!table) {
                    console.error('Position employee table not found');
                    return;
                }
                
                // 이전 이벤트 리스너 제거 (중복 방지)
                if (window.positionTableClickHandler) {
                    table.removeEventListener('click', window.positionTableClickHandler);
                }
                
                // 새로운 이벤트 핸들러 creation 및 저장
                window.positionTableClickHandler = function(event) {
                    // tbody 내의 tr을 찾기
                    const row = event.target.closest('tbody tr.employee-row');
                    if (!row) return;
                    
                    // data-emp-no 속성에서 직원번호 fetch
                    const empNo = row.getAttribute('data-emp-no');
                    console.log('Employee row clicked, empNo:', empNo);
                    
                    if (empNo) {
                        showEmployeeDetailFromPosition(empNo);
                    }
                };
                
                // 테이블에 이벤트 리스너 추가
                table.addEventListener('click', window.positionTableClickHandler);
                console.log('Event delegation set up for employee table');
            }, 100);
            
            // 차트 그리기
            setTimeout(() => {
                const chartId = `positionChart${type.replace('-', '')}${position.replace(/[\s()]/g, '')}`;
                const canvas = document.getElementById(chartId);
                if (canvas) {
                    const ctx = canvas.getContext('2d');
                    
                    // existing 차트 삭제
                    if (window[`chart_${chartId}`]) {
                        window[`chart_${chartId}`].destroy();
                    }
                    
                    // 새 차트 creation
                    window[`chart_${chartId}`] = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['지급', '미지급'],
                            datasets: [{
                                data: [paidEmployees, totalEmployees - paidEmployees],
                                backgroundColor: ['#28a745', '#dc3545'],
                                borderWidth: 0
                            }]
                        },
                        options: {
                            responsive: false,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            cutout: '70%'
                        }
                    });
                }
            }, 100);
        }
        
        // 직급별 테이블 필터링
        function filterPositionTable(filter) {
            const rows = document.querySelectorAll('#positionEmployeeTable tbody tr');
            rows.forEach(row => {
                if (filter === 'all') {
                    row.style.display = '';
                } else if (filter === 'paid' && row.classList.contains('paid-row')) {
                    row.style.display = '';
                } else if (filter === 'unpaid' && row.classList.contains('unpaid-row')) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        // 직급별 상세 팝업에서 호출하는 개인별 상세 팝업 함count
        function showEmployeeDetailFromPosition(empNo) {
            console.log('showEmployeeDetailFromPosition called with empNo:', empNo);
            
            try {
                // 먼저 직급별 상세 팝업을 닫기
                const positionModal = document.getElementById('positionModal');
                console.log('Position modal element:', positionModal);
                
                if (positionModal) {
                    const bsPositionModal = bootstrap.Modal.getInstance(positionModal);
                    console.log('Position modal instance:', bsPositionModal);
                    
                    if (bsPositionModal) {
                        bsPositionModal.hide();
                    }
                }
                
                // 잠시 후에 개인별 상세 팝업 열기 (애니메이션 충돌 방지)
                setTimeout(() => {
                    console.log('Opening employee detail modal for:', empNo);
                    showEmployeeDetail(empNo);
                }, 300);
            } catch (error) {
                console.error('Error in showEmployeeDetailFromPosition:', error);
                // 오류가 있어도 개인별 상세 팝업은 열려야 함
                showEmployeeDetail(empNo);
            }
        }

        // showEmployeeDetailFromPosition 함수를 전역으로 노출
        window.showEmployeeDetailFromPosition = showEmployeeDetailFromPosition;

        // 직원 상세 정보 표시 (dashboard 스타th UI)
        function showEmployeeDetail(empNo) {
            // CRITICAL FIX: type 통th하여 비교 (string로 통th)
            const empNoStr = String(empNo);
            const emp = employeeData.find(e => {
                const eEmpNo = String(e['Employee No'] || e.emp_no || e['emp_no'] || '');
                return eEmpNo === empNoStr;
            });

            if (!emp) {
                console.error('Employee not found:', empNo);
                console.log('Available employee IDs:', employeeData.map(e => e['Employee No'] || e.emp_no).slice(0, 5));
                return;
            }

            const modal = document.getElementById('employeeModal');
            const modalBody = document.getElementById('modalBody');
            const modalTitle = document.getElementById('modalTitle');

            modalTitle.textContent = `${emp['Full Name']} (${emp['Employee No']}) - ${getTranslation('modal.title')}`;

            // 조건 충족 통계 calculation - N/A 제외
            const conditions = emp.condition_results || [];
            const applicableConditions = conditions.filter(c => !c.is_na && c.actual !== 'N/A');
            const passedConditions = applicableConditions.filter(c => c.is_met).length;
            const totalConditions = applicableConditions.length;

            // incentive 지급 여부 확인
            const isPaidEmployee = parseInt(emp['september_incentive']) > 0;

            // TYPE-3 처리: 모든 조건이 N/A인 경우
            let passRate = 0;
            if (emp['ROLE TYPE STD'] === 'TYPE-3') {
                passRate = 'N/A'; // TYPE-3는 정책적으로 제외
            } else if (!isPaidEmployee) {
                // incentive를 받지 못한 경우 0%로 표시
                passRate = 0;
            } else if (totalConditions > 0) {
                passRate = (passedConditions / totalConditions * 100).toFixed(0);
            }
            
            modalBody.innerHTML = `
                <!-- 상단 통계 카드 -->
                <div class="row mb-4">
                    <div class="col-md-4">
                        <div class="stat-card">
                            <div class="stat-value">${emp['ROLE TYPE STD']}</div>
                            <div class="stat-label">${getTranslation('modal.basicInfo.type')}</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card">
                            <div class="stat-value">${emp['QIP POSITION 1ST NAME'] || emp.position || emp['FINAL QIP POSITION NAME CODE'] || 'N/A'}</div>
                            <div class="stat-label">${getTranslation('modal.basicInfo.position')}</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card">
                            <div class="stat-value">${parseInt(emp['september_incentive']).toLocaleString()} VND</div>
                            <div class="stat-label">${getTranslation('modal.incentiveInfo.amount')}</div>
                        </div>
                    </div>
                </div>
                
                <!-- 차트와 조건 충족도 -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body text-center">
                                <h6 class="card-title">` + getTranslation('modal.detailPopup.conditionFulfillment', currentLanguage) + `</h6>
                                <div style="width: 200px; height: 200px; margin: 0 auto; position: relative;">
                                    <canvas id="conditionChart${empNo}" width="200" height="200"></canvas>
                                </div>
                                <div class="mt-3">
                                    <h4>${passRate === 'N/A' ? 'N/A' : passRate + '%'}</h4>
                                    <p class="text-muted">${
                                        emp['ROLE TYPE STD'] === 'TYPE-3' ? getTranslation('modal.detailPopup.type3PolicyExcluded', currentLanguage) || 'TYPE-3: 정책적 제외 대상' :
                                        totalConditions > 0 ? passedConditions + ' / ' + totalConditions + ' ' + getTranslation('modal.detailPopup.conditionsFulfilled', currentLanguage) :
                                        getTranslation('modal.detailPopup.noConditions', currentLanguage)
                                    }</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h6 class="card-title">` + getTranslation('modal.detailPopup.paymentStatus', currentLanguage) + `</h6>
                                <div class="지급-status ${parseInt(emp['september_incentive']) > 0 ? 'paid' : 'unpaid'}">
                                    ${parseInt(emp['september_incentive']) > 0 ? `
                                    <div>
                                        <div style="font-size: 48px; margin-bottom: 10px;">✅</div>
                                        <h5>` + getTranslation('status.paid', currentLanguage) + `</h5>
                                        <p class="mb-1">${parseInt(emp['september_incentive']).toLocaleString()} VND</p>
                                        ${emp.Talent_Pool_Member === 'Y' ? `
                                        <div style="background: linear-gradient(135deg, #FFD700, #FFA500); padding: 8px; border-radius: 8px; margin-top: 10px;">
                                            <small style="color: white; font-weight: bold;">
                                                🌟 Talent Pool 보너스 포함<br>
                                                기본: ${(parseInt(emp['september_incentive']) - parseInt(emp.Talent_Pool_Bonus || 0)).toLocaleString()} VND<br>
                                                보너스: +${parseInt(emp.Talent_Pool_Bonus || 0).toLocaleString()} VND
                                            </small>
                                        </div>` : ''}
                                    </div>` : `
                                    <div>
                                        <div style="font-size: 48px; margin-bottom: 10px;">❌</div>
                                        <h5>` + getTranslation('status.unpaid', currentLanguage) + `</h5>
                                        <p>` + getTranslation('modal.detailPopup.conditionNotMet', currentLanguage) + `</p>
                                    </div>`}
                                </div>
                                <div class="mt-3">
                                    <small class="text-muted">` + getTranslation('modal.detailPopup.lastMonthIncentive', currentLanguage) + `: ${parseInt(emp['august_incentive'] || emp.previous_incentive || 0).toLocaleString()} VND</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 조건 충족 상세 테이블 -->
                <div class="card">
                    <div class="card-body">
                        <h6 class="card-title">` + getTranslation('modal.detailPopup.conditionDetails', currentLanguage) + `</h6>
                        <div class="table-responsive">
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th width="5%">#</th>
                                        <th width="50%">` + getTranslation('modal.detailPopup.condition', currentLanguage) + `</th>
                                        <th width="25%">` + getTranslation('modal.detailPopup.performance', currentLanguage) + `</th>
                                        <th width="20%">` + getTranslation('modal.detailPopup.result', currentLanguage) + `</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${conditions
                                        .filter(cond => !cond.is_na && cond.actual !== 'N/A')  // N/A 조건 제외
                                        .map((cond, idx) => {
                                        let rowClass = 'table-success';
                                        let badgeHtml = '';
                                        let actualHtml = '';

                                        // N/A는 이미 필터링되었으므로 else 블록만 실행
                                        {
                                            rowClass = cond.is_met ? 'table-success' : 'table-danger';

                                            // 실적 값의 단위 번역 처리
                                            let actualValue = cond.actual;

                                            // CRITICAL FIX: 소count점은 첫째자리까지만 표시
                                            if (typeof actualValue === 'number') {
                                                actualValue = Number(actualValue).toFixed(1);
                                            } else if (typeof actualValue === 'string') {
                                                // 숫자 string인 경우 소count점 처리
                                                const numMatch = actualValue.match(/^([0-9]+\.[0-9]+)/);
                                                if (numMatch) {
                                                    const roundedNum = Number(numMatch[1]).toFixed(1);
                                                    actualValue = actualValue.replace(numMatch[1], roundedNum);
                                                }
                                            }

                                            if (actualValue && typeof actualValue === 'string') {
                                                // Placeholder 번역 처리 - 하지만 actual data를 우선 표시
                                                actualValue = actualValue.replace('[PASS]', getTranslation('modal.conditions.pass', currentLanguage));
                                                actualValue = actualValue.replace('[FAIL]', getTranslation('modal.conditions.fail', currentLanguage));
                                                actualValue = actualValue.replace('[CONSECUTIVE_FAIL]', getTranslation('modal.conditions.consecutiveFail', currentLanguage));

                                                // 조건by 단위 추가/conversion (영어 표시 개선)
                                                // 조건 1, 8, 9: % 앞에 공백 추가 "100.0%" → "100.0 %"
                                                if (cond.id === 1 || cond.id === 8 || cond.id === 9) {
                                                    actualValue = actualValue.replace(/([0-9.]+)%/g, '$1 %');
                                                }

                                                // 조건 2, 3, 4: "0일" → "0.0 days"
                                                if (cond.id === 2 || cond.id === 3 || cond.id === 4) {
                                                    actualValue = actualValue.replace(/(\d+\.?\d*)th/g, function(match, num) {
                                                        if (currentLanguage === 'en') {
                                                            return num + (parseFloat(num) === 1 ? ' day' : ' days');
                                                        } else if (currentLanguage === 'vi') {
                                                            return num + ' ngày';
                                                        } else {
                                                            return match;  // 한국어는 그대로
                                                        }
                                                    });
                                                }

                                                // 조건 5: "0cases" → "0.0 PO reject"
                                                if (cond.id === 5) {
                                                    actualValue = actualValue.replace(/(\d+\.?\d*)cases/g, function(match, num) {
                                                        if (currentLanguage === 'en') {
                                                            return num + ' PO reject';
                                                        } else if (currentLanguage === 'vi') {
                                                            return num + ' PO từ chối';
                                                        } else {
                                                            return match;  // 한국어는 그대로
                                                        }
                                                    });
                                                }

                                                // 조건 10: "400족" → "400.0 prs" (영어/베트남어에서 prs로 변경)
                                                if (cond.id === 10) {
                                                    actualValue = actualValue.replace(/(\d+\.?\d*)족/g, function(match, num) {
                                                        if (currentLanguage === 'en' || currentLanguage === 'vi') {
                                                            return num + ' prs';
                                                        } else {
                                                            return match;  // 한국어는 "족" 유지
                                                        }
                                                    });
                                                }
                                            }

                                            actualHtml = `<strong>${actualValue}</strong>`;
                                            badgeHtml = cond.is_met ? '<span class="badge bg-success">' + getTranslation('modal.conditions.met', currentLanguage) + '</span>' : '<span class="badge bg-danger">' + getTranslation('modal.conditions.notMet', currentLanguage) + '</span>';
                                        }
                                        
                                        // 조건 이름 번역
                                        let condName = cond.name;
                                        if (cond.id && cond.id >= 1 && cond.id <= 10) {
                                            condName = getTranslation('modal.tenConditions.' + cond.id, currentLanguage);
                                        }
                                        
                                        return `
                                        <tr class="${rowClass}">
                                            <td>${idx + 1}</td>
                                            <td>${condName}</td>
                                            <td>${actualHtml}</td>
                                            <td class="text-center">${badgeHtml}</td>
                                        </tr>
                                        `;
                                    }).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;

            // existing backdrop 제거
            const existingBackdrop = document.querySelector('.modal-backdrop');
            if (existingBackdrop) {
                existingBackdrop.remove();
            }

            // Bootstrap 5 modal 표시 - 더 안전한 방법
            try {
                // existing 모달 인스턴스가 있으면 먼저 처리
                const existingModal = bootstrap.Modal.getInstance(modal);
                if (existingModal) {
                    existingModal.dispose();
                }

                // 새 모달 인스턴스 creation 및 표시
                const bootstrapModal = new bootstrap.Modal(modal, {
                    backdrop: true,
                    keyboard: true,
                    focus: true
                });
                bootstrapModal.show();
            } catch (e) {
                console.error('Bootstrap modal error:', e);
                // Fallback: count동으로 모달 표시
                modal.classList.add('show');
                modal.style.display = 'block';
                modal.setAttribute('aria-modal', 'true');
                modal.setAttribute('role', 'dialog');
                document.body.classList.add('modal-open');

                // count동으로 backdrop 추가
                const backdrop = document.createElement('div');
                backdrop.className = 'modal-backdrop fade show';
                document.body.appendChild(backdrop);
            }
            
            // 모달 스크롤 초기화 (맨 위로)
            modalBody.scrollTop = 0;
            document.querySelector('.modal-content').scrollTop = 0;

            // 차트 그리기
            setTimeout(() => {
                const canvas = document.getElementById(`conditionChart${empNo}`);
                if (canvas) {
                    const ctx = canvas.getContext('2d');
                    
                    // existing 차트 삭제
                    if (window[`chart_${empNo}`]) {
                        window[`chart_${empNo}`].destroy();
                    }
                    
                    // 새 차트 creation
                    // TYPE-3 또는 조건이 없는 경우 특별 처리
                    let chartData, chartLabels, chartColors;

                    if (emp.type === 'TYPE-3') {
                        // TYPE-3: N/A 표시
                        chartData = [1];
                        chartLabels = ['N/A - 정책적 제외'];
                        chartColors = ['#999999'];
                    } else if (totalConditions === 0) {
                        // 조건이 없는 경우
                        chartData = [1];
                        chartLabels = [getTranslation('modal.detailPopup.noConditions', currentLanguage)];
                        chartColors = ['#cccccc'];
                    } else {
                        // th반적인 경우
                        chartData = [passedConditions, Math.max(0, totalConditions - passedConditions)];
                        chartLabels = [getTranslation('modal.conditions.met', currentLanguage), getTranslation('modal.conditions.notMet', currentLanguage)];
                        chartColors = ['#28a745', '#dc3545'];
                    }

                    window[`chart_${empNo}`] = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: chartLabels,
                            datasets: [{
                                data: chartData,
                                backgroundColor: chartColors,
                                borderWidth: 0
                            }]
                        },
                        options: {
                            responsive: false,
                            maintainAspectRatio: true,
                            plugins: {
                                legend: {
                                    position: 'bottom'
                                }
                            }
                        }
                    });
                }
            }, 100);
        }

        // showEmployeeDetail 함수를 전역으로 노출 (조직도 탭에서 접근 가능하도록)
        window.showEmployeeDetail = showEmployeeDetail;

        // Validation modal 함수들을 전역으로 노출 (onclick 이벤트에서 접근 가능하도록)
        window.showValidationModal = showValidationModal;
        window.showTotalWorkingDaysDetails = showTotalWorkingDaysDetails;
        window.showZeroWorkingDaysDetails = showZeroWorkingDaysDetails;
        window.showAbsentWithoutInformDetails = showAbsentWithoutInformDetails;
        window.showMinimumDaysNotMetDetails = showMinimumDaysNotMetDetails;
        window.showAttendanceBelow88Details = showAttendanceBelow88Details;
        window.showAqlFailDetails = showAqlFailDetails;
        window.showConsecutiveAqlFailDetails = showConsecutiveAqlFailDetails;
        window.showAreaRejectRateDetails = showAreaRejectRateDetails;
        window.showLowPassRateDetails = showLowPassRateDetails;
        window.showLowInspectionQtyDetails = showLowInspectionQtyDetails;

        // 모달 닫기
        function closeModal() {
            // 모든 차트 정리
            Object.keys(window).forEach(key => {
                if (key.startsWith('chart_') && window[key]) {
                    window[key].destroy();
                    delete window[key];
                }
            });
            document.getElementById('employeeModal').style.display = 'none';
        }

        // Position 모달 닫기
        function closePositionModal() {
            document.getElementById('positionModal').style.display = 'none';
        }
        
        // 모달 외부 클릭 시 닫기
        window.onclick = function(event) {
            const modal = document.getElementById('employeeModal');
            if (event.대상 === modal) {
                modal.style.display = 'none';
            }
        }
        
        // 테이블 필터링
        function filterTable() {
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            const typeFilter = document.getElementById('typeFilter').value;
            const positionFilter = document.getElementById('positionFilter').value;
            const paymentFilter = document.getElementById('paymentFilter').value;
            
            const tbody = document.getElementById('employeeTableBody');
            tbody.innerHTML = '';
            
            employeeData.forEach(emp => {
                const amount = parseInt(emp['september_incentive']);
                const isPaid = amount > 0;
                
                // 필터 조건 확인
                if (searchInput && !emp.name.toLowerCase().includes(searchInput) && !emp.emp_no.includes(searchInput)) {
                    return;
                }
                if (typeFilter && emp.type !== typeFilter) {
                    return;
                }
                if (positionFilter && emp.position !== positionFilter) {
                    return;
                }
                if (paymentFilter === 'paid' && !isPaid) {
                    return;
                }
                if (paymentFilter === 'unpaid' && isPaid) {
                    return;
                }
                
                const tr = document.createElement('tr');
                tr.style.cursor = 'pointer';
                tr.onclick = () => showEmployeeDetail(emp.emp_no);
                
                // Talent Pool 멤버인 경우 특별 스타th apply
                if (emp.Talent_Pool_Member === 'Y') {
                    tr.className = 'talent-pool-row';
                }
                
                // Talent Pool 정보 HTML creation
                let talentPoolHTML = '-';
                if (emp.Talent_Pool_Member === 'Y') {
                    talentPoolHTML = `
                        <div class="talent-pool-tooltip">
                            <span class="talent-pool-star">🌟</span>
                            <strong>${parseInt(emp.Talent_Pool_Bonus || 0).toLocaleString()} VND</strong>
                            <span class="tooltiptext">
                                <strong>${getTranslation('talentPool.special', currentLanguage) || 'QIP Talent Pool'}</strong><br>
                                ${getTranslation('talentPool.monthlyBonus', currentLanguage) || 'month 특별 보너스'}: ${parseInt(emp.Talent_Pool_Bonus || 0).toLocaleString()} VND<br>
                                ${getTranslation('talentPool.period', currentLanguage) || '지급 기간'}: 2025.07 - 2025.12
                            </span>
                        </div>
                    `;
                }
                
                tr.innerHTML = `
                    <td>${emp.emp_no}</td>
                    <td>${emp.name}${emp.Talent_Pool_Member === 'Y' ? '<span class="talent-pool-badge">TALENT</span>' : ''}</td>
                    <td>${emp.position}</td>
                    <td><span class="type-badge type-${emp.type.toLowerCase().replace('type-', '')}">${emp.type}</span></td>
                    <td>${parseInt(emp['august_incentive'] || emp.previous_incentive || 0).toLocaleString()}</td>
                    <td><strong>${amount.toLocaleString()}</strong></td>
                    <td>${talentPoolHTML}</td>
                    <td>${isPaid ? '✅ ' + getTranslation('status.paid') : '❌ ' + getTranslation('status.unpaid')}</td>
                    <td><button class="btn btn-sm btn-primary" onclick="event.stopPropagation(); showEmployeeDetail('${emp.emp_no}')">${getTranslation('individual.table.detailButton')}</button></td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // 직급 필터 업데이트
        function updatePositionFilter() {
            const typeFilter = document.getElementById('typeFilter').value;
            const positionSelect = document.getElementById('positionFilter');
            const currentValue = positionSelect.value;
            
            // 직급 목록 count집
            const positions = new Set();
            employeeData.forEach(emp => {
                if (!typeFilter || emp.type === typeFilter) {
                    positions.add(emp.position);
                }
            });
            
            // 옵션 업데이트
            positionSelect.innerHTML = '<option value="" id="optAllPositionsInner">' + getTranslation('individual.filters.allPositions', currentLanguage) + '</option>';
            Array.from(positions).sort().forEach(position => {
                const option = document.createElement('option');
                option.value = position;
                option.textContent = position;
                if (position === currentValue) {
                    option.selected = true;
                }
                positionSelect.appendChild(option);
            });
        }
    </script>
</body>
</html>